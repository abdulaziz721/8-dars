!function(){function e(n){var r=i[n];if(void 0!==r)return r.exports;var o=i[n]={id:n,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports}var t={7262:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".yG1EJ7vHjK{animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-fill:balance;grid-column-gap:normal;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-feature-settings:normal;font-variant:normal;font-weight:400;font-stretch:normal;line-height:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;all:initial;display:block;position:absolute;width:100%;height:100%;left:0;top:0;pointer-events:auto;visibility:hidden;overflow:hidden;z-index:0}",""]),r.locals={AdPodContainer:"yG1EJ7vHjK"},e.exports=r},3857:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,'.FnZKB1AD{border-radius:12px;background:#fff;padding:12px 12px 16px;position:relative;line-height:var(--pc-line-height)}.FnZKB1AD .oKg{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%}.i82Zei{display:flex;flex-direction:row;padding:12px}.rdbavBeavj{width:100%;height:50%;border-radius:4px;object-fit:cover}.i82Zei .rdbavBeavj{height:100%;width:40%}.b21lURK8o{padding-top:3%;height:50%;display:flex;flex-direction:column;justify-content:space-between}.i82Zei .b21lURK8o{padding-top:0;padding-left:8px;width:60%;height:100%}.IDPmBlBJ7U{white-space:nowrap;overflow:hidden}.VLN{font-size:1.67em;color:#000}.tn7nM{color:#ff4c52}.BRVY{font-size:1.2em;color:#a3acbf;margin-left:10px;position:relative}.BRVY:after{content:"";left:0;top:50%;width:100%;height:1px;position:absolute;background:#f95146;transform:rotate(-2deg)}.apiSwvc0N{color:rgba(32,53,96,.6);flex:1;padding-top:3%;min-height:1px}.DbvhHN{display:-webkit-box;-webkit-line-clamp:var(--pc-lines-count);-webkit-box-orient:vertical;line-clamp:var(--pc-lines-count);overflow:hidden}.tlaghLXTD{white-space:nowrap;text-align:center;font-size:.93em;color:#37f;overflow:hidden}.gax{color:inherit;text-decoration:none}',""]),r.locals={EcomProductCard:"FnZKB1AD",ClickThroughLink:"oKg",EcomProductCard_horizontal:"i82Zei",EcomProductCard__Image:"rdbavBeavj",EcomProductCard__Details:"b21lURK8o",EcomProductCard__pricesContainer:"IDPmBlBJ7U",EcomProductCard__price:"VLN",EcomProductCard__price_withOldPrice:"tn7nM",EcomProductCard__oldPrice:"BRVY",EcomProductCard__textContainer:"apiSwvc0N",EcomProductCard__text:"DbvhHN",EcomProductCard__linkContainer:"tlaghLXTD",EcomProductCard__link:"gax"},e.exports=r},9759:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".YdV4b59b *,[class^=EcomProductsCarousel]{box-sizing:border-box}.YdV4b59b{display:flex;height:100%}.m4F{display:flex;flex-direction:column;justify-content:center}.aDX,.g1vQbpid{font:inherit;display:flex;justify-content:center;align-items:center;width:2.4em;height:2.4em;padding:10.75px 8px;border-radius:2.4em;border:none;background:#fff;cursor:pointer}.aDX:disabled,.g1vQbpid:disabled{cursor:auto}.y4vmq0EJy,.xY9lcvobGv{width:100%}.ppxZen2u0{flex:1;display:flex;align-items:center;border-radius:12px;overflow:auto;scroll-behavior:smooth;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-width:none}.ppxZen2u0::-webkit-scrollbar{display:none}.Pxb{justify-content:center}.sAd9V90M{display:flex;justify-content:center;align-items:center;width:var(--pc-card-container-width);min-width:var(--pc-card-container-width);height:100%;padding:0 max(4px,calc(var(--pc-card-container-width)/2 - var(--pc-card-width)/2));scroll-snap-align:start}.mmpx .FnZKB1AD{min-height:min(calc(var(--pc-card-width)*7/5),100%);max-height:calc(var(--pc-card-width)*2)}.GS0Rj82WkR .FnZKB1AD{min-height:min(calc(var(--pc-card-width)/3),100%);max-height:calc(var(--pc-card-width)/2)}.sAd9V90M .FnZKB1AD{width:100%;height:100%}.PKE5s{display:flex;flex-direction:column;justify-content:center}",""]),r.locals={EcomProductsCarousel:"YdV4b59b",EcomProductsCarousel__slideToLeftContainer:"m4F",EcomProductsCarousel__slideToLeft:"aDX",EcomProductsCarousel__slideToRight:"g1vQbpid",EcomProductsCarousel__slideToLeftIcon:"y4vmq0EJy",EcomProductsCarousel__slideToRightIcon:"xY9lcvobGv",EcomProductsCarousel__productCards:"ppxZen2u0",EcomProductsCarousel__productCards_noScroll:"Pxb",EcomProductsCarousel__productCardContainer:"sAd9V90M",EcomProductsCarousel__productCardContainer_verticalCards:"mmpx",EcomProductCard:"FnZKB1AD",EcomProductsCarousel__productCardContainer_horizontalCards:"GS0Rj82WkR",EcomProductsCarousel__slideToRightContainer:"PKE5s"},e.exports=r},4873:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".TgCNUcqb,.TgCNUcqb *{font-family:"+o.locals.AD_FONT+";box-sizing:border-box}.TgCNUcqb{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5);padding:10px 10px 68px}.juW .YdV4b59b{max-width:33.33333%;margin:0 auto}.juW.VyLIAF .YdV4b59b{max-width:unset;margin:unset}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,EcomProductsPackshotScreen:"TgCNUcqb",EcomProductsPackshotScreen_singleVisibleItem:"juW",EcomProductsCarousel:"YdV4b59b",EcomProductsPackshotScreen_vertical:"VyLIAF"},e.exports=a},1256:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".PHBFES1Ym{display:inline-block;color:#000;font-size:16px;font-family:"+o.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.K6BhAW5f{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,HoneypotButton:"PHBFES1Ym",HoneypotButton__content:"K6BhAW5f"},e.exports=a},6383:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".s5u{background-color:#000;opacity:.5}",""]),r.locals={HoneypotOverlay:"s5u"},e.exports=r},5046:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".OWTj2r9K7i{position:relative}.uePW1DT{cursor:pointer}.CtcEZzB5{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.M2ZWVT5l{position:absolute;top:0;left:0}",""]),r.locals={HoneypotScreen:"OWTj2r9K7i",HoneypotScreen_clickable:"uePW1DT",HoneypotScreen__buttonWrapper:"CtcEZzB5",HoneypotScreen__honeypotOverlayWrapper:"M2ZWVT5l"},e.exports=r},9881:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,":root{}.CSt8Rg{display:flex;flex-grow:1;flex-shrink:1;align-items:center;justify-content:center;box-shadow:none}.YmxFG{z-index:10000}.cBel8NYD{box-sizing:content-box;padding-top:32px;background-color:#ecf4f9;border-radius:4px;box-shadow:0 12px 12px rgba(25,58,75,.1),0 4px 4px rgba(25,58,75,.05),0 0 4px rgba(25,58,75,.05)}.EoCr2{z-index:1;display:none;overflow:hidden;font-family:Helvetica,Arial,sans-serif;opacity:0;transition:opacity .2s}.cBel8NYD .EoCr2{position:absolute;top:0;left:0;width:100%;height:32px}.HbY0L903b{box-shadow:0 0 20px 20px rgba(96,109,128,.15)}.Z1QY{background-color:#fff}.QAd74kqWL{background-color:#283459}.JrKIninHa{position:relative;z-index:2;flex-shrink:0;width:100%;height:100%;overflow:hidden;font-size:0}.bO2{position:relative;display:flex;flex-grow:1;flex-shrink:1;align-items:stretch;visibility:hidden}.FCn{position:absolute;top:0;left:0;display:block;width:100%;height:100%;margin:0;padding:0}.CYiGILy4,.zHLCbEdk{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.CYiGILy4{display:none;background-position:50%;background-size:cover}.G7K1vfI{position:absolute;top:0;right:0;bottom:0;left:0;margin:0;padding:0;overflow:hidden}.vnxE{position:absolute;top:0;right:0;z-index:2;box-sizing:content-box;width:12px;height:12px;padding:10px;cursor:pointer}.vnxE svg{width:12px;height:12px;vertical-align:top}.wzZAXFA{font-size:18px}.N0IIW9Zq .wzZAXFA{min-width:0;max-width:44vh;margin:0 3.5vh 0 3vh}.pRCtP6{position:absolute;top:9px;left:13px;display:flex;align-items:flex-end;color:#afc5cf;font-weight:700;font-size:12px;font-style:normal;line-height:14px;letter-spacing:.05em;text-transform:uppercase}.obJ,.KbNdf9nn3{cursor:pointer}.KbNdf9nn3{min-width:5em;max-height:2.4em;margin-bottom:.7em;overflow:hidden;color:#000;font-size:1.5em;line-height:1.2em;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.obJ{position:relative;display:inline-block;box-sizing:border-box;min-width:10em;padding:.6em 1.2em .7em;color:#006aff;font-weight:300;font-size:1em;text-align:center;background-color:#e5f0ff;border-radius:.3em}.obJ:hover{background-color:#d9e9ff}.AiHQavwOq{position:absolute;top:-15px;left:-15px;width:100%;height:100%;padding:15px}.TBJraU2D .KbNdf9nn3{color:#fff}.TBJraU2D .obJ{color:#fff;background-color:#535c7a}.TBJraU2D .obJ:hover{background-color:#5d6682}.N0IIW9Zq{transition:box-shadow .2s linear,background-color .2s linear,width .4s ease,height .4s ease,left .4s ease,top .4s ease,bottom .4s ease,right .4s ease;will-change:width,height,left,top,bottom,right}.SuaB6Ztr{transition:box-shadow .2s linear,background-color .2s linear,margin-top .2s linear,transform .4s ease}.N0IIW9Zq .JrKIninHa{transition:width .4s,height .4s;will-change:width,height}.eB5gB5CCJY{transition:none}.YmxFG .vnxE{display:block}.YmxFG .EoCr2{opacity:1}.eZVpTUU1 .EoCr2{display:block;opacity:0}.CSt8Rg:not(.VbM7une) .EoCr2,.A6BKL .EoCr2{opacity:0}.CSt8Rg:not(.VbM7une) .vnxE,.A6BKL .vnxE{display:none}.oAV7k9mzv.VbM7une.SuaB6Ztr{margin-top:32px}.HbY0L903b .JrKIninHa{width:auto}",""]),r.locals={yaInPageStickyWrapper:"CSt8Rg",yaInPageStickyWrapper__sticky:"YmxFG",yaInPageStickyWrapper__sticky__flyroll:"cBel8NYD",yaInpageAdditionalContentContainer:"EoCr2",yaInPageStickyWrapper__sticky__covering:"HbY0L903b",yaInPageStickyWrapper__sticky__covering_color_scheme_light:"Z1QY",yaInPageStickyWrapper__sticky__covering_color_scheme_dark:"QAd74kqWL",yaInPageWrapper:"JrKIninHa",yaInPagePlaceholderElement:"bO2",InPageLayout__videoSlot:"FCn",InPageLayout__packshotContainer:"CYiGILy4",InPageLayout__slot:"zHLCbEdk",InPageLayout__videoSlotContainer:"G7K1vfI",yaInpageCross:"vnxE",yaInpageAdditionalContent:"wzZAXFA",yaInPageStickyWrapper__variant__covering:"N0IIW9Zq",yaInpageAdditionalContent__adTitle:"pRCtP6",yaInpageAdditionalContent__button:"obJ",yaInpageAdditionalContent__description:"KbNdf9nn3",yaInpageAdditionalContent__buttonClickableArea:"AiHQavwOq",yaInpageAdditionalContent_dark:"TBJraU2D",yaInPageStickyWrapper__variant__flyroll:"SuaB6Ztr",yaInPageStickyWrapper__unAnimated:"eB5gB5CCJY",yaInPageStickyWrapper__additionalContent_enabled:"eZVpTUU1",yaInPageStickyWrapper__detached:"VbM7une",yaInPageStickyWrapper__inline:"A6BKL",yaInPageStickyWrapper__isAnimating:"oAV7k9mzv"},e.exports=r},5432:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".oKg{color:inherit;text-decoration:none;pointer-events:auto}.oKg[data-pointer-events]{pointer-events:none}",""]),r.locals={ClickThroughLink:"oKg"},e.exports=r},7480:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".LwZCDyYa{display:inline-block;color:#000;font-size:16px;font-family:"+o.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.ku6ARO{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,PackshotButton:"LwZCDyYa",PackshotButton__content:"ku6ARO"},e.exports=a},4368:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".FVN0{background-color:#000;opacity:.5}",""]),r.locals={PackshotOverlay:"FVN0"},e.exports=r},3162:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".bRk{position:relative}.exrjRAUs{cursor:pointer}.TMTwWK{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center}.Y0gY{font-weight:700;cursor:pointer}.a1yaZeO,.Y0gY{box-sizing:border-box;text-align:center;margin:4px 0;width:100%;color:#fff;font-family:"+o.locals.AD_FONT+"}.yiygn{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.XeazsRpaPD{justify-content:center;display:flex;margin:8px}.uHL{position:absolute;top:0;left:0}.oWcuFW{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+o.locals.AD_FONT+"}.EQ2Tr4UANl{position:absolute;bottom:0;width:100%;padding:4px;color:#fff;opacity:.85;font-family:"+o.locals.AD_FONT+"}.GoFRQn4G3G{justify-content:left}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,PackshotScreen:"bRk",PackshotScreen_clickable:"exrjRAUs",PackshotScreen__content:"TMTwWK",PackshotScreen__title:"Y0gY",PackshotScreen__body:"a1yaZeO",PackshotScreen__buttonWrapper:"yiygn",PackshotScreen__buttonWrapper_newDesign:"XeazsRpaPD",PackshotScreen__packshotOverlayWrapper:"uHL",PackshotScreen__textBlock:"oWcuFW",PackshotScreen__textBlock_newDesgin:"EQ2Tr4UANl",PackshotScreen__buttonWrapper_newDesign_float_left:"GoFRQn4G3G"},e.exports=a},5817:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=i(5092),s=i(1307),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".JSvwz3CR{display:inline-flex;align-items:center;height:15px;box-sizing:border-box;padding:0 6px;color:#b1b1b1;font-weight:400;font-size:6px;font-family:"+o.locals.AD_FONT+";line-height:normal;letter-spacing:.075em;text-transform:uppercase;text-decoration:none;text-shadow:0 2px 2px rgba(0,0,0,.1);background:rgba(38,38,38,.65);border-radius:24px;transform-origin:bottom left;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.h0fJfbKk{font-size:8px;height:17px}.Zp0v9{cursor:pointer}.bp0X3F2A4{margin:0 3px;font-weight:700;font-size:4px;line-height:1.5}.h0fJfbKk .bp0X3F2A4{font-size:6px}.Pyqu2FtJ{font-size:8px;background:#eef1f4;text-shadow:none}.Pyqu2FtJ .bp0X3F2A4{font-size:8px}.STY{}.JSvwz3CR.guclTH,.JSvwz3CR.pBf4Qvu{-webkit-backdrop-filter:none;backdrop-filter:none;text-shadow:none}.JSvwz3CR.pBf4Qvu{background:hsla(0,0%,100%,.8);color:#3a3c40}.JSvwz3CR.guclTH{background:rgba(26,43,77,.4);color:#fff}.VWr{}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,AD_LABEL_SMALL_HEIGHT:""+a.locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+s.locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"JSvwz3CR",AdLabel_fullSize:"h0fJfbKk",AdLabel_clickable:"Zp0v9",AdLabel__delimiter:"bp0X3F2A4",AdLabel_survey:"Pyqu2FtJ",AdLabel__ageLabel:"STY",AdLabel_dark:"guclTH",AdLabel_light:"pBf4Qvu",AdLabel__domain:"VWr"},e.exports=l},7769:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".Kksf4p5{display:flex;align-items:center}",""]),r.locals={AdLabelsPanel:"Kksf4p5"},e.exports=r},9843:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".ZbwrA{pointer-events:auto;display:block;position:relative;height:17px;width:17px;margin-left:3px;border-radius:20px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}.SUorn82{height:15px;width:15px;margin-left:2px}.ZbwrA>svg{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}",""]),r.locals={BusinessUnitAdLabel:"ZbwrA",BusinessUnitAdLabel_small:"SUorn82"},e.exports=r},3614:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".IVRtT{display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+o.locals.AD_FONT+";text-decoration:none;white-space:nowrap;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,SocialAdvertisingAdLabel:"IVRtT"},e.exports=a},2935:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".nvjXgbL{height:100%;opacity:0}.GL6lK{opacity:1}.EsYT{height:calc(100% - var(--ctat-margin-top) - var(--ctat-margin-bottom));display:flex;align-items:center;justify-content:center;margin-left:var(--ctat-horizontal-margin);margin-right:var(--ctat-horizontal-margin);margin-top:var(--ctat-margin-top);position:relative;z-index:0}.IPq,.S0bF{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;font-family:"+o.locals.AD_FONT+";font-weight:600;text-shadow:0 0 16px rgba(0,0,0,.05),0 0 8px rgba(0,0,0,.05),0 4px 4px rgba(0,0,0,.05),0 2px 2px rgba(0,0,0,.05),0 1px 1px rgba(0,0,0,.05)}.GL6lK .S0bF .fAl0Mu8SyF{--ctat-animation-delay-line:calc(var(--ctat-animation-title-part-duration)*3*var(--stw-text-line-index));--ctat-animation-delay-third:calc(var(--ctat-animation-title-part-duration)*var(--stw-text-char-inside-line-third));--ctat-animation-overlap-char:calc(var(--ctat-animation-delay-third) + var(--ctat-animation-delay-line));animation-name:rd2l6g9;animation-duration:var(--ctat-animation-title-part-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-overlap-char) + var(--ctat-animation-title-animation-show-delay));animation-fill-mode:both;animation-timing-function:ease-in-out;animation-play-state:var(--ctat-animation-playing-state)}@keyframes rd2l6g9{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.IPq .paL8,.S0bF .paL8{overflow:clip;pointer-events:auto}.GL6lK .S0bF .paL8{--ctat-animation-title-animation-enlarge-current-line-delay:calc(var(--ctat-animation-title-animation-enlargement-delay) + (var(--ctat-animation-title-animation-enlargement-duration) + var(--ctat-animation-title-enlargement-next-line-delay))*var(--stw-text-line-index));--ctat-animation-title-animation-hide-current-line-delay:calc(var(--ctat-animation-title-animation-hide-delay) + var(--ctat-animation-title-animation-hide-duration)*var(--stw-text-line-index));animation-name:q9uWzeVF,nIM;animation-duration:var(--ctat-animation-title-animation-enlargement-duration),var(--ctat-animation-title-animation-hide-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-title-animation-enlarge-current-line-delay)),calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-title-animation-hide-current-line-delay));animation-fill-mode:both,forwards;animation-timing-function:cubic-bezier(.35,0,.65,1),ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}@keyframes q9uWzeVF{0%{transform:scale(1) translateY(0)}to{transform:scale(1.1) translateY(0)}}@keyframes nIM{0%{transform:scale(1.1) translateY(0);opacity:1}99%{transform:scale(1.1) translateY(100%);opacity:0}to{transform:scale(1.1) translateY(9999px);opacity:0}}.GL6lK .IPq .paL8{--ctat-animation-body-animation-show-current-line-delay:calc(var(--ctat-animation-body-animation-show-delay) + (var(--ctat-animation-body-animation-show-duration)*0.5 + var(--ctat-animation-body-animation-show-line-delay))*var(--stw-text-line-index));--ctat-animation-body-animation-enlargement-current-line-delay:calc(var(--ctat-animation-body-animation-enlargement-delay) + var(--ctat-animation-body-animation-show-duration)*var(--stw-text-line-index));animation-name:hdjyfa,mexxEl2;animation-duration:var(--ctat-animation-body-animation-show-duration),var(--ctat-animation-body-animation-enlargement-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-show-current-line-delay)),calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-enlargement-current-line-delay));animation-fill-mode:both,none;animation-timing-function:ease-in-out,ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}.GL6lK .IPq{z-index:0;animation-name:a1H;animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-show-delay));animation-duration:.1s;animation-timing-function:linear;animation-fill-mode:both}.GL6lK .S0bF{z-index:1}@keyframes a1H{0%{z-index:0}to{z-index:1}}@keyframes hdjyfa{0%{transform:translateY(9999px);opacity:0}1%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes mexxEl2{0%{transform:scale(1);letter-spacing:normal}33%{transform:scale(1.1);letter-spacing:.1em}to{transform:scale(1);letter-spacing:normal}}.t7NJmnw{width:100%;height:100%;position:absolute;top:0;left:0;background-color:rgba(0,0,0,.1)}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,CallToActionText:"nvjXgbL",CallToActionText__animated:"GL6lK",CallToActionText__overlay:"EsYT",CallToActionText__body:"IPq",CallToActionText__title:"S0bF",SplitTextLinesWrapper__char:"fAl0Mu8SyF","title-char-reveal":"rd2l6g9",SplitTextLinesWrapper__textLine:"paL8","title-line-enlargement":"q9uWzeVF","title-line-hide":"nIM","body-line-show":"hdjyfa","body-line-enlargement":"mexxEl2","body-show":"a1H",CallToActionTextContainer:"t7NJmnw"},e.exports=a},5655:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".z0yOLFP{display:flex;align-items:center;pointer-events:auto;border:none;font:inherit;height:100%;min-height:32px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;color:inherit;background-color:rgba(38,38,38,.65);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:0 10px;cursor:pointer}.DJK{height:2em}.Brn54l{margin-left:8px;text-align:left}.o2qnh9Rk{font-weight:500;text-transform:capitalize}.ir0Jx{position:relative;font-size:.86em;text-transform:lowercase}.aeq{visibility:hidden}.fHZ6{position:absolute;top:0;left:0}",""]),r.locals={EcomShopSkinButton:"z0yOLFP",EcomShopSkinButton__ShowHideIcon:"DJK",EcomShopSkinButton__Text:"Brn54l",EcomShopSkinButton__TextMainLine:"o2qnh9Rk",EcomShopSkinButton__TextDetailsLine:"ir0Jx",EcomShopSkinButton__Placeholder:"aeq",EcomShopSkinButton__TextDetailsContent:"fHZ6"},e.exports=r},6479:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".CMLCdfa{position:absolute;box-shadow:0 10px 20px -4px rgba(0,0,0,.36);background-color:#2f2f32;border-radius:6px;font-family:"+o.locals.AD_FONT+";color:#fff;font-weight:400;font-size:13px;line-height:16px;letter-spacing:-.31px}.XvzEy{position:absolute;width:24px;height:8px}.XvzEy svg{position:absolute;left:0;top:0}.AWCKqngTBF{display:flex}.aivR125L{padding:5px 8px 7px}.F8lGGZ{pointer-events:auto;padding:5px 5px 0 0}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,Tooltip:"CMLCdfa",Tooltip__arrow:"XvzEy",Tooltip__body:"AWCKqngTBF",Tooltip__text:"aivR125L",Tooltip__closeContainer:"F8lGGZ"},e.exports=a},7121:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".GGRk9f{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}",""]),r.locals={TooltipContainer:"GGRk9f"},e.exports=r},8866:function(e,t,i){var n=i(1907),r=i(6939),o=i(9792),a=i(2840),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".aMHdc6{border-radius:16px;cursor:pointer;transition:"+o.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+";will-change:background-color}.aMHdc6:not(.N79GadC5LF),.N79GadC5LF{background-color:rgba(35,37,38,.1)}.aMHdc6:not(.N79GadC5LF):hover,.N79GadC5LF:hover{background-color:rgba(35,37,38,.4)}.yHGtg1abC{transform:translate(12px,12px);will-change:transform}.rUqfJqT{transform:rotate(45deg);opacity:0}.ES3sulNAz,.rUqfJqT{transition:"+o.locals.default_transition_duration+" transform "+a.locals.default_transition_timing_function+","+o.locals.default_transition_duration+" opacity "+a.locals.default_transition_timing_function+";will-change:transform,opacity}.N79GadC5LF .ES3sulNAz{opacity:0}.N79GadC5LF .rUqfJqT{opacity:1}.N79GadC5LF .nxtp6R{transform:translateY(6px)}.N79GadC5LF .rKDdk{transform:translateY(-6px)}.N79GadC5LF .hgGnkF{transform:rotate(0deg)}.N79GadC5LF .Zg2vyvL9y{transform:rotate(90deg)}",""]),s.locals={default_transition_duration:""+o.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseAnimationIcon:"aMHdc6",AbuseAnimationIcon_cross:"N79GadC5LF",AbuseAnimationIcon__lines:"yHGtg1abC",AbuseAnimationIcon__line:"rUqfJqT",AbuseAnimationIcon__dot:"ES3sulNAz",AbuseAnimationIcon__dot_top:"nxtp6R",AbuseAnimationIcon__dot_bottom:"rKDdk",AbuseAnimationIcon__line_left:"hgGnkF",AbuseAnimationIcon__line_right:"Zg2vyvL9y"},e.exports=s},2020:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=i(7441),s=i(1154),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".VCRHX3x9I{display:inline-block;color:#000;font-weight:"+a.locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+o.locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.kxT1dL{cursor:pointer}.r2E{text-decoration:none}.rQp3Y{display:flex;align-items:center;height:"+s.locals.small_button_height+";opacity:.6}.kxT1dL .rQp3Y{opacity:.915}.kxT1dL:hover .rQp3Y{opacity:1}.hmNyCPMxpg{padding:4px;pointer-events:auto}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,small_button_height:""+s.locals.small_button_height,Button:"VCRHX3x9I",Button_active:"kxT1dL",Button_link:"r2E",Button__content:"rQp3Y",Button__clickable:"hmNyCPMxpg"},e.exports=l},5050:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".NFUz2jQvR{position:absolute;bottom:0;left:0;width:100%;height:88px;background-image:linear-gradient(-180deg,transparent,rgba(0,0,0,.3) 35%,rgba(0,0,0,.6) 99%);pointer-events:none;transition:opacity .3s ease-in-out}.N16{opacity:0}",""]),r.locals={ControlsBottomShadow:"NFUz2jQvR",ControlsBottomShadow_hidden:"N16"},e.exports=r},1796:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".yCHV{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));width:26px;height:24px}.Kh6nGLrF{width:100%;height:100%}",""]),r.locals={MuteIcon:"yCHV",MuteIcon_Fill:"Kh6nGLrF"},e.exports=r},4115:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"@keyframes vSsSz{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.Ho1t01oIl{animation-name:vSsSz;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),r.locals={SpinnerIcon__css_animated:"Ho1t01oIl",spin:"vSsSz"},e.exports=r},5751:function(e,t,i){var n=i(1907),r=i(6939),o=i(1154),a=i(4430),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".hDzL{font-size:18px}.hDzL .RhwVn{height:"+o.locals.middle_button_height+"}.XWRHzm{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.XWRHzm .zExRHK3gU{position:relative;background-color:"+a.locals.button_inactive_background_color+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.D0Egb .zExRHK3gU{background-color:"+a.locals.button_active_background_color+"}.XWRHzm.D0Egb:hover .zExRHK3gU{background-color:"+a.locals.button_hovered_background_color+"}.D0Egb .rQp3Y{opacity:1}",""]),s.locals={middle_button_height:""+o.locals.middle_button_height,button_active_background_color:""+a.locals.button_active_background_color,button_hovered_background_color:""+a.locals.button_hovered_background_color,button_inactive_background_color:""+a.locals.button_inactive_background_color,SquareButton_fullSize:"hDzL",SquareButton__basecontent:"RhwVn",SquareButton:"XWRHzm",SquareButton__basebutton:"zExRHK3gU",SquareButton_active:"D0Egb",Button__content:"rQp3Y"},e.exports=s},1172:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".LpG2XF{width:100%;transform-origin:0;will-change:transform}.LpG2XF,.nbw23x0{position:absolute;height:2px}.Gxp0TF4hQ{background-color:#ff1a2d;transform:scaleX(0)}.hP1I4jh1{background-color:#cdcdcd;transform:scaleX(1)}",""]),r.locals={TimelineBar:"LpG2XF",TimelineBar__container:"nbw23x0",TimelineBar__progress:"Gxp0TF4hQ",TimelineBar__background:"hP1I4jh1"},e.exports=r},1197:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".gwR1s7sU{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));width:26px;height:24px}.vcjjP8{width:100%;height:100%}",""]),r.locals={UnmuteIcon:"gwR1s7sU",UnmuteIcon_Fill:"vcjjP8"},e.exports=r},1155:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".gkf{}",""]),r.locals={AbuseContainer:"gkf"},e.exports=r},7486:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=i(9792),s=i(2840),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".Hp6{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:"+a.locals.default_transition_duration+" opacity "+s.locals.default_transition_timing_function+","+a.locals.default_transition_duration+" height "+s.locals.default_transition_timing_function+";pointer-events:none;will-change:opacity,height}.Hp6:not(.yCW2pD3Ad){visibility:hidden}.yCW2pD3Ad{opacity:1;pointer-events:auto}.Hp6:not(.U2n){top:36px;right:4px;width:240px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.U2n{top:0;right:0;bottom:0;left:0}.Uik2hb{box-sizing:border-box;padding:8px}.U2n .Uik2hb{height:100%;overflow:auto}.qt0c6{display:flex;align-items:center;height:36px}.RDI2Z984kv{box-sizing:border-box;width:100%;height:112px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+o.locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:3px;outline:none;resize:none;pointer-events:auto}.RDI2Z984kv:focus{border-color:#498bff}.Hn5cnq0CR5{margin-top:8px;background-color:#498bff;border-radius:8px}.Hn5cnq0CR5:hover{background-color:#2e71e5}.s9Ft{justify-content:center;height:26px;color:#fff;font-weight:400;line-height:20px}.PpdKKZpTX{padding:8px;color:#3a3d40}.s9Ft,.w0n41PbpoD,.PpdKKZpTX{font-size:15px}.w0n41PbpoD{color:#a3acbf;line-height:16px;word-break:break-word}.w0n41PbpoD,.PpdKKZpTX{font-weight:600;font-family:"+o.locals.AD_FONT+";line-height:16px}.Rl8e6MGCav .w0n41PbpoD,.DO9Of .w0n41PbpoD{padding:10px 8px}.Xpo9z .w0n41PbpoD{margin-right:15px;margin-left:10px}.MiXr2{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:"+a.locals.default_transition_duration+" background-color "+s.locals.default_transition_timing_function+";pointer-events:auto}.MiXr2:hover{background-color:#f4f8ff}.cAHZ4MeiU{display:flex;flex-direction:column}.KizScn{max-height:70px;margin:8px;overflow-y:auto;color:#a3acbf;font-size:11px;font-family:"+o.locals.AD_FONT+";line-height:14px;white-space:pre-line}.U2n .KizScn{margin-right:18px}.U2n .cAHZ4MeiU{height:calc(100% - 36px);min-height:120px}.U2n .Xpo9z,.U2n .RDI2Z984kv{height:100%}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,default_transition_duration:""+a.locals.default_transition_duration,default_transition_timing_function:""+s.locals.default_transition_timing_function,AbuseDisplay:"Hp6",AbuseDisplay_visible:"yCW2pD3Ad",AbuseDisplay_fullSize:"U2n",AbuseDisplay__content:"Uik2hb",AbuseDisplay__customReasonDisplayHeader:"qt0c6",AbuseDisplay__customReasonDisplayTextarea:"RDI2Z984kv",AbuseDisplay__customReasonDisplayButton:"Hn5cnq0CR5",AbuseDisplay__customReasonDisplayButtonContent:"s9Ft",AbuseDisplay__text:"PpdKKZpTX",AbuseDisplay__hint:"w0n41PbpoD",AbuseDisplay__complaintDisplay:"Rl8e6MGCav",AbuseDisplay__hideDisplay:"DO9Of",AbuseDisplay__customReasonDisplay:"Xpo9z",AbuseDisplay__arrowLeftIcon:"MiXr2",AbuseDisplay__messageBox:"cAHZ4MeiU",AbuseDisplay__legal:"KizScn"},e.exports=l},8561:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".ZiLq4D8b{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;background:#f4f6fb;pointer-events:none}.w7FMZeYfd{justify-content:center}.yjZngo3UB4{justify-content:left}.yjZngo3UB4 .Y8oWhoC{max-width:200px;margin-left:20px}.w7FMZeYfd .Y8oWhoC{text-align:center}.E4Q3l9r{color:#3a3d40;font-weight:600;font-size:16px;font-family:"+o.locals.AD_FONT+";line-height:22px}.Jqymx9Pt{margin-top:8px;color:#a3acbf;font-size:14px;font-family:"+o.locals.AD_FONT+";line-height:20px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,AbusePlaceholder:"ZiLq4D8b",AbusePlaceholder_place_center:"w7FMZeYfd",AbusePlaceholder_place_left:"yjZngo3UB4",AbusePlaceholder__container:"Y8oWhoC",AbusePlaceholder__text:"E4Q3l9r",AbusePlaceholder__hint:"Jqymx9Pt"},e.exports=a},8237:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".VYkgEm{font-family:"+o.locals.AD_FONT+";padding:0 6px;display:grid;grid-template-columns:fit-content(1ch) 1fr fit-content(1ch);align-items:end;font-size:var(--ctalc-font-size);color:#fff}.VYkgEm .wH13pVck .C1b5u{padding:4px 4px 4px 10px}.fj10kpVWSA{font-size:var(--ctalc-skip-button-font-size)}.QufU .wH13pVck{grid-column:1/2}.wjg9YX{height:100%}.QufU .wjg9YX{grid-column:2}.QufU .fj10kpVWSA{grid-column:3/4}.CWOjeF .wH13pVck{grid-row:2;grid-column:1/2}.CWOjeF .fj10kpVWSA{grid-row:2;grid-column:3/4}.CWOjeF .wjg9YX{grid-row:1;grid-column:1/2}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,CallToActionControls:"VYkgEm",CallToActionControls_SkinActionPanel:"wH13pVck",ActionPanel__clickableLayer:"C1b5u",CallToActionControls__SkipButton:"fj10kpVWSA",CallToActionControls_oneLine:"QufU",CallToActionControls_SkinProductsPackshotButton:"wjg9YX",CallToActionControls_twoLines:"CWOjeF"},e.exports=a},7012:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".T1oPw38xf{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),r.locals={CenterControls:"T1oPw38xf"},e.exports=r},873:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,'.i8GZY{padding-top:4px;margin:0 16px;display:flex;align-items:flex-end}.kxXdbY65AN{flex:1;letter-spacing:.01em;display:flex;pointer-events:auto;color:#fff;opacity:.85;text-shadow:0 0 4px rgba(0,0,0,.75);font-size:12px;white-space:nowrap;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.kxXdbY65AN>:not(:last-child):after{content:"\u2022";padding:0 .3em}.iCXHldjiM{flex:0 0 auto}',""]),r.locals={Backpack:"i8GZY",Backpack_labels:"kxXdbY65AN",Backpack_buttons:"iCXHldjiM"},e.exports=r},4647:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".C315OkU9a{pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}",""]),r.locals={BackpackAdLabel:"C315OkU9a"},e.exports=r},2219:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,'.Xgyx3mPm9H{position:relative;display:flex;flex-flow:column nowrap;z-index:0;height:100%;overflow:visible;justify-content:flex-end}.Xgyx3mPm9H:before{z-index:-1;content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.004) 6.67%,rgba(0,0,0,.018) 13.33%,rgba(0,0,0,.04) 20%,rgba(0,0,0,.073) 26.67%,rgba(0,0,0,.115) 33.33%,rgba(0,0,0,.165) 40%,rgba(0,0,0,.221) 46.67%,rgba(0,0,0,.278) 53.33%,rgba(0,0,0,.334) 60%,rgba(0,0,0,.384) 66.67%,rgba(0,0,0,.426) 73.33%,rgba(0,0,0,.459) 80%,rgba(0,0,0,.482) 86.67%,rgba(0,0,0,.495) 93.33%,rgba(0,0,0,.5));opacity:.65}.h3c93:before{content:none}.Ajrf.Xgyx3mPm9H:before{top:30px}.npQfU1j{opacity:1;transition:none}.Ajrf .npQfU1j{order:-1;opacity:0;transition:opacity .3s ease-in-out,order 0s .3s}.Q01CIKqhZr{min-height:3px;margin:4px 16px 0;transition:none}.Ajrf .Q01CIKqhZr,.nj8 .Q01CIKqhZr{margin:4px 0 0;transition:margin 0s .3s}',""]),r.locals={ControlPanel:"Xgyx3mPm9H",ControlPanel_WithoutShadow:"h3c93",ControlPanel_minimized:"Ajrf",ControlPanel__controls:"npQfU1j",ControlPanel__timeLine:"Q01CIKqhZr",ControlPanel_small:"nj8"},e.exports=r},8409:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".F63bM{width:43px;height:43px;display:flex;align-items:center;justify-content:center;cursor:pointer;pointer-events:auto}.lMUZV{cursor:default}.F63bM svg{fill:#fff;opacity:.85;width:40px;height:44px}.lMUZV svg{opacity:.5}.F63bM:hover svg{opacity:1}.lMUZV:hover svg{opacity:.5}",""]),r.locals={ControlPanelButton:"F63bM",ControlPanelButton_disabled:"lMUZV"},e.exports=r},8265:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".Vp7aAu1aL{display:flex;padding:0 16px;pointer-events:auto}.VMa5aX{margin-left:auto}",""]),r.locals={ControlPanelControls:"Vp7aAu1aL",ControlPanelControls__fullscreenButton:"VMa5aX"},e.exports=r},6535:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".CcZMhd{cursor:pointer;display:flex}.zHEwFrLW{will-change:width;width:0;height:43px;position:relative;overflow:hidden;transition:width .2s ease-out}.AHSJb .zHEwFrLW{width:48px}.Zehh9k{position:absolute;left:0;right:0;top:50%;box-shadow:0 0 1px 0 rgba(0,0,0,.75);height:2px;background:#fff;transform:translateY(-50%);opacity:.5}.h4S{position:absolute;top:0;bottom:0;left:0;width:calc(100% - 10px)}.GqID{position:absolute;background:#fff;width:10px;height:10px;border-radius:5px;top:50%;transform:translateY(-50%);will-change:left}",""]),r.locals={ControlPanelSoundButton:"CcZMhd",ControlPanelSoundButton__SliderContainer:"zHEwFrLW",ControlPanelSoundButton_opened:"AHSJb",ControlPanelSoundButton__SliderContainerLiner:"Zehh9k",ControlPanelSoundButton__SliderContainerThumbContainer:"h4S",ControlPanelSoundButton__SliderContainerThumb:"GqID"},e.exports=r},9740:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".RJi{height:3px;background-color:rgba(0,0,0,.2);position:relative;display:flex}.RJi,.r08N{border-radius:3px;border-bottom-left-radius:0;border-top-left-radius:0}.r08N{width:100%;background-color:#f8cc46}",""]),r.locals={ControlPanelTimeLine:"RJi",ControlPanelTimeLine_bar:"r08N"},e.exports=r},6719:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=i(1154),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".HEzAJRqj{font-family:"+o.locals.AD_FONT+";font-size:var(--new-skin-font-size);color:#fff;position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;display:grid;grid-template-rows:auto 1fr auto auto auto;grid-template-columns:auto auto 1fr auto 35px}.NgGq7nQH{grid-template-rows:auto 1fr auto auto 10%}.WslfLfD{grid-row:1;grid-column:1;padding:4px 0 0 4px}.SuIm{grid-row:1;grid-column:1/5}.tJKBIPf8{grid-row:1;grid-column:1}.uT8{text-align:right}.agq{grid-row:4;grid-column:4/6;font-size:var(--new-skin-skip-button-font-size);padding-right:6px;align-self:flex-end}.OLMg .Qk4V3z9BL9{padding-top:0;padding-bottom:0}.OLMg .PMf{height:"+a.locals.small_button_height+"}.nVV87Q{grid-row:2;grid-column:1/6;padding:10px 36px;overflow:hidden;position:relative}.Qj5gk4xRQR{pointer-events:auto}.pqZCiIzO .nVV87Q,.UbwXfPJ .nVV87Q,.UbwXfPJ.pqZCiIzO .nVV87Q{grid-row:2;grid-column:1/6;padding:10px 20px}.SOLr8K{grid-row:4;grid-column:1;padding:6px 0 4px 16px;overflow:hidden}.OLMg .SOLr8K{padding-top:0;padding-left:6px;padding-bottom:0;align-self:flex-end}.KdaZZ{grid-row:4;grid-column:1;padding:6px 0 4px 16px;height:4em}.OLMg .KdaZZ{height:auto;padding-left:6px}.SOLr8K+.KdaZZ{grid-column:2}.pqZCiIzO .SOLr8K+.KdaZZ{grid-row:4;grid-column:2}.UbwXfPJ.pqZCiIzO .SOLr8K+.KdaZZ{grid-row:3;grid-column:1;align-self:flex-end}.vQ2vW{grid-row:5;grid-column:1/6}.zW6{position:absolute;right:0;bottom:0;left:0}.t7NJmnw .nvjXgbL{overflow:hidden}",""]),s.locals={AD_FONT:""+o.locals.AD_FONT,small_button_height:""+a.locals.small_button_height,NewSkin:"HEzAJRqj",NewSkin_CtaAlwaysOnTenPercentOverBottom:"NgGq7nQH",NewSkin__AdLabelContainer:"WslfLfD",NewSkin__TopControlsContainer:"SuIm",NewSkin_TopMuteButtonContainer:"tJKBIPf8",NewSkin_TopMuteButtonContainer_rightPosition:"uT8",NewSkin__SkipButtonContainer:"agq",NewSkin_smallControls:"OLMg",SkipButton:"Qk4V3z9BL9",SkipButton__clickable:"PMf",NewSkin__ProductsPackshotContainer:"nVV87Q",NewSkin__ProductsPackshotContainer_visible:"Qj5gk4xRQR",NewSkin_twoControlLines:"pqZCiIzO",NewSkin_vertical:"UbwXfPJ",NewSkin__CtaContainer:"SOLr8K",NewSkin__ProductsPackshotButton:"KdaZZ",NewSkin_BottomControlsContainer:"vQ2vW",NewSkin__DisclaimerContainer:"zW6",CallToActionTextContainer:"t7NJmnw",CallToActionText:"nvjXgbL"},e.exports=s},8315:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".iqJIo{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}.fCzpsshh{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background-color:rgba(0,0,0,.2);display:grid;align-items:center;justify-items:center;place-items:center;pointer-events:auto;filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}.fCzpsshh svg{fill:#fff;width:40px;height:43px}.Pmrnl9{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:auto}",""]),r.locals={OverlayLayer__spinnerContainer:"iqJIo",OverlayLayer__playButtonContainer:"fCzpsshh",OverlayLayer__pauseContainer:"Pmrnl9"},e.exports=r},9931:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".BdUrZsw8JW{display:flex}.BdUrZsw8JW .i51f5ct{margin-left:auto}.BdUrZsw8JW .xIgwpWL{width:28px;height:28px;padding:2px}.BdUrZsw8JW .xIgwpWL svg{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#f2f2f2;opacity:1}",""]),r.locals={TopControlsLayer:"BdUrZsw8JW",TopControlsLayer__skipButton:"i51f5ct",TopControlsLayer__playButton:"xIgwpWL"},e.exports=r},1209:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".HeCxTj{pointer-events:auto;position:absolute;top:0;right:0;bottom:0;left:0}",""]),r.locals={UnderlyingLayer:"HeCxTj"},e.exports=r},9997:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".c2XL8{width:40px;height:44px;cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;padding:0;border:0;background-color:transparent;outline:0;outline-offset:-2px;overflow:visible;opacity:.85}.aia{opacity:.5}.c2XL8:not(.aia):hover{opacity:1}",""]),r.locals={PlayerButtonMimic:"c2XL8",PlayerButtonMimic_disabled:"aia"},e.exports=r},8183:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".VW8{position:absolute;left:0;right:0;bottom:0;display:flex;flex-flow:column nowrap}",""]),r.locals={PlayerLikeBottomControls:"VW8"},e.exports=r},6515:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".v0lx{padding:0 10px;position:relative;display:flex;justify-content:space-between;align-items:stretch;pointer-events:auto;opacity:1;transition:opacity .3s ease-in-out}.gQY{opacity:0}.BZrde{display:flex}.ySji{display:flex;margin-left:auto}",""]),r.locals={PlayerLikeControlLine:"v0lx",PlayerLikeControlLine_hidden:"gQY",PlayerLikeControlLine__leftButtons:"BZrde",PlayerLikeControlLine__rightButtons:"ySji"},e.exports=r},3030:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".FLc9I9xw{width:100%;height:16px;pointer-events:none;position:relative;margin-bottom:-4px;opacity:1;transition:opacity .1s ease-in-out}.QWj8PEaLn6{opacity:0}.uFDtAv{position:absolute;left:10px;right:10px;top:0;bottom:0}.F3hLddB{position:absolute;overflow:hidden;top:10px;height:4px;width:100%;transform:scaleY(.5) translateX(0);transition-property:transform;transition-duration:.2s;will-change:transform;box-shadow:0 1px 1px 1px rgba(0,0,0,.1)}.nIw{border-radius:5px 5px 4.9px;transform:scaleY(1)}.fo73aZ83Xa{width:100%;position:absolute;top:0;right:0;bottom:0;left:0;background-color:#fff;opacity:.4}.PYZCCB{width:100%;position:absolute;top:0;bottom:0;left:0;transform-origin:0;background:#fc0}",""]),r.locals={PlayerLikeTimeline:"FLc9I9xw",PlayerLikeTimeline_hidden:"QWj8PEaLn6",PlayerLikeTimeline__innerContainer:"uFDtAv",PlayerLikeTimeline__backgroundTrack:"F3hLddB",PlayerLikeTimeline__backgroundTrack_mobile:"nIw",PlayerLikeTimeline__background:"fo73aZ83Xa",PlayerLikeTimeline__timeLine:"PYZCCB"},e.exports=r},4483:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=i(1154),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".MhswJ{font-family:"+o.locals.AD_FONT+";font-size:var(--skin-font-size);color:#fff;position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;display:grid;grid-template-rows:auto 1fr auto auto auto auto;grid-template-columns:auto auto 1fr auto}.yey{grid-row:1;grid-column:1;padding:4px 0 0 4px;justify-self:flex-start}.tmMW{grid-row:4;grid-column:4;font-size:var(--skin-skip-button-font-size);padding-right:6px;align-self:end}.lRvrn .Qk4V3z9BL9{padding-top:0;padding-bottom:0}.lRvrn .PMf{height:"+a.locals.small_button_height+"}.SSLK1Dnjl{grid-row:2;grid-column:1/5;padding:0 36px;overflow:hidden}.boT .SSLK1Dnjl{grid-column:1/5}.gtccz .SSLK1Dnjl,.gtccz.boT .SSLK1Dnjl{grid-row:2/3;grid-column:1/5;padding:10px}.TrfVyB{pointer-events:auto}.gtccz .mtU{max-width:unset;margin:unset}.wFD7sY0g{grid-row:4;grid-column:1;padding:6px 0 4px 10px;overflow:hidden}.lRvrn .wFD7sY0g{padding-top:0;padding-bottom:0;padding-left:6px;align-self:flex-end}.Vftm{grid-row:4;grid-column:1;padding:6px 0 4px 10px;height:4em}.lRvrn .Vftm{height:auto}.wFD7sY0g+.Vftm{grid-column:2}.gtccz.boT .wFD7sY0g+.Vftm{grid-row:3;grid-column:1}.yuTHc2PY{grid-row:5;grid-column:1/5;padding:2px 6px 10px;display:flex;align-items:flex-end;flex-wrap:wrap}.wwcBdhp{width:100%;margin-bottom:2px;margin-top:-2px}.wwcBdhp .hbtw9{padding:4px}.DeII{order:1;flex:1;margin:0}.DeII .hbtw9{padding:4px 10px}.hp3YtW{grid-row:6;grid-column:1/5;min-height:6px}.v8BE5Dhme5{grid-row:6;grid-column:1/5}.t7NJmnw .nvjXgbL{overflow:hidden}",""]),s.locals={AD_FONT:""+o.locals.AD_FONT,small_button_height:""+a.locals.small_button_height,Skin:"MhswJ",Skin__AdLabelContainer:"yey",Skin__SkipButtonContainer:"tmMW",Skin_smallControls:"lRvrn",SkipButton:"Qk4V3z9BL9",SkipButton__clickable:"PMf",Skin__ProductsPackshotContainer:"SSLK1Dnjl",Skin_twoControlLines:"boT",Skin_vertical:"gtccz",Skin__ProductsPackshotContainer_visible:"TrfVyB",Skin__ProductsPackshotContainer_singleVisibleItem:"mtU",Skin__CtaContainer:"wFD7sY0g",Skin__ProductsPackshotButton:"Vftm",Skin__MuteButtonAndSubtitlesContainer:"yuTHc2PY",Skin__SubtitlesContainer:"wwcBdhp",Subtitles__container:"hbtw9",Skin__SubtitlesContainer_bottom:"DeII",Skin__DisclaimerContainer:"hp3YtW",Skin__VideoInComboControlsContainer:"v8BE5Dhme5",CallToActionTextContainer:"t7NJmnw",CallToActionText:"nvjXgbL"},e.exports=s},4061:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=i(4430),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".hbtw9{display:flex;flex-flow:column nowrap;padding:4px 10px;overflow:hidden;font-size:16px;font-family:"+o.locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.Iz9tZ{margin:2px auto 0;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:"+a.locals.button_active_background_color+";border-radius:4px}",""]),s.locals={AD_FONT:""+o.locals.AD_FONT,button_active_background_color:""+a.locals.button_active_background_color,Subtitles__container:"hbtw9",Subtitles__subtitle:"Iz9tZ"},e.exports=s},4499:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".Fne67iiDf2{padding:4px}.Fne67iiDf2 .E8xXBJJBS{position:absolute;top:0;right:35px}",""]),r.locals={TopControls:"Fne67iiDf2",TopControls__skinButton:"E8xXBJJBS"},e.exports=r},1895:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".nldMPPTP{display:flex;align-items:flex-end;min-height:48px}.joojwM{position:relative}.H0b1HSoBL{visibility:visible;opacity:1}.wh1tOkX4pV{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}.j5Qbd2sMw{visibility:visible;opacity:1}.V6mtQh{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}.wh1tOkX4pV .L8GWxFtmI,.H0b1HSoBL .L8GWxFtmI{padding:10px 10px 4px 21px}",""]),r.locals={VideoInComboControls:"nldMPPTP",DisclaimerContainer:"joojwM",ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:"H0b1HSoBL",ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden:"wh1tOkX4pV",ComboVideoControls__controlsBottomShadow_visible:"j5Qbd2sMw",ComboVideoControls__controlsBottomShadow_hidden:"V6mtQh",MuteUnmuteButtonWithoutBackground:"L8GWxFtmI"},e.exports=r},8971:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".BopaWa8x{position:absolute;top:4px;right:4px;width:24px;height:24px;cursor:pointer;pointer-events:auto}.oTJIL4EDf{z-index:2}",""]),r.locals={AbuseBurgerButton:"BopaWa8x",AbuseBurgerButton_inFullSize:"oTJIL4EDf"},e.exports=r},2645:function(e,t,i){var n=i(1907),r=i(6939),o=i(9792),a=i(2840),s=r(n);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".VcrvLt8M{display:block;width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:"+o.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+"}.HdO2iwej5Q{display:flex;align-items:center;margin-right:13px}.BoerVawT{margin-left:auto}.VcrvLt8M:hover{background-color:#e5f2ff}.VcrvLt8M .hmNyCPMxpg{padding:0}.Hip{padding:8px}.rG4zf{height:auto;font-size:15px;line-height:16px}",""]),s.locals={default_transition_duration:""+o.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseOptionButton:"VcrvLt8M",AbuseOptionButton__leftIcon:"HdO2iwej5Q",AbuseOptionButton__rightIcon:"BoerVawT",Button__clickable:"hmNyCPMxpg",AbuseOptionButton__clickable:"Hip",AbuseOptionButton__content:"rG4zf"},e.exports=s},7276:function(e,t,i){var n=i(1907),r=i(6939),o=i(1154),a=r(n);a.i(o,"",!0),a.push([e.id,".RBTDV{cursor:pointer}.HToyU{font-size:18px}.HToyU .b3gAuLJ1{height:"+o.locals.middle_button_height+"}.tcuPsx2xd{width:60px;height:60px}.QOL{width:80px;height:80px}",""]),a.locals={middle_button_height:""+o.locals.middle_button_height,CirclePlayButton:"RBTDV",CirclePlayButton_fullSize:"HToyU",CirclePlayButton__basecontent:"b3gAuLJ1",CirclePlayButton__icon:"tcuPsx2xd",CirclePlayButton__icon_fullSize:"QOL"},e.exports=a},4659:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".gIk{width:100%;height:100%;font-weight:100;fill:#c4c4c4}.yxF{text-transform:uppercase}",""]),r.locals={DisclaimerSvg:"gIk",DisclaimerSvg_text:"yxF"},e.exports=r},550:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".JgS{display:flex;box-sizing:border-box;width:100%;padding:2px .2em;font-family:Arial,Helvetica,sans-serif;background:rgba(0,0,0,.4)}",""]),r.locals={Disclaimer:"JgS"},e.exports=r},9130:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".emnAN{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),r.locals={Spinner:"emnAN"},e.exports=r},3683:function(e,t,i){var n=i(1907),r=i(6939),o=i(1154),a=r(n);a.i(o,"",!0),a.push([e.id,".F0Hv{}.CkB{visibility:hidden}.SEQCevB{display:flex;align-items:center;justify-content:center}.MdCqYKK7{}.DimtY67{display:flex;align-items:center;justify-content:center;width:"+o.locals.small_button_height+";height:"+o.locals.small_button_height+"}.B4BefheWG{width:"+o.locals.middle_button_height+";height:"+o.locals.middle_button_height+"}.sQIxEh14{width:29px;height:24px}.VujXMw6{}.j7hxe2{position:relative;bottom:1px;margin-right:"+o.locals.small_button_left_right_margin+"}.VkjVP{white-space:nowrap;transform-origin:left center}.DR7C{margin-right:"+o.locals.middle_button_left_right_margin+"}",""]),a.locals={small_button_height:""+o.locals.small_button_height,middle_button_height:""+o.locals.middle_button_height,small_button_left_right_margin:""+o.locals.small_button_left_right_margin,middle_button_left_right_margin:""+o.locals.middle_button_left_right_margin,MuteButton:"F0Hv",MuteButton__hidden:"CkB",VolumeButton__content:"SEQCevB",VolumeButton:"MdCqYKK7",VolumeButton__iconContainer:"DimtY67",VolumeButton__iconContainer_fullSize:"B4BefheWG",VolumeButton__icon:"sQIxEh14",UnmuteButton:"VujXMw6",UnmuteButton__text:"j7hxe2",UnmuteButton__text_animation:"VkjVP",UnmuteButton__text_fullSize:"DR7C"},e.exports=a},8453:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".L8GWxFtmI{width:28px;height:28px;padding:4px;cursor:pointer;pointer-events:auto}.Mh1{width:var(--mute-unmute-responsive-width);height:var(--mute-unmute-responsive-height)}",""]),r.locals={MuteUnmuteButtonWithoutBackground:"L8GWxFtmI",MuteUnmuteButtonWithoutBackground_Size_Responsive:"Mh1"},e.exports=r},2563:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".R2OIOYrmrw{line-height:3;display:flex;align-items:center;box-sizing:border-box;min-width:0;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+o.locals.AD_FONT+";white-space:nowrap;background-color:#ffd500;border-radius:4px;cursor:pointer;pointer-events:auto}.OSRP{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.oVZDtln9R,.pV5{height:2.1em;font-size:.9em}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,ActionButton:"R2OIOYrmrw",ActionButton__textWrapper:"OSRP",ActionButton__content_middle:"oVZDtln9R",ActionButton__content_small:"pV5"},e.exports=a},6246:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=r(n);a.i(o,"",!0),a.push([e.id,".BFc751{flex:1 1 0;margin-right:13px;color:#fff;font-weight:700;font-size:1em;font-family:"+o.locals.AD_FONT+";line-height:1.3;max-width:10em}.uFlvDSK{line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.XN2dQw{white-space:nowrap}.i91MrR,.XN2dQw{font-weight:400;font-size:.8em}.XN2dQw,.uFlvDSK{overflow:hidden;text-overflow:ellipsis}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,InfoBlock:"BFc751",InfoBlock__title:"uFlvDSK",InfoBlock__greenUrl:"XN2dQw",InfoBlock__ageRestriction:"i91MrR"},e.exports=a},9461:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=i(2100),s=i(4430),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".uI1nl{height:100%;font-family:"+o.locals.AD_FONT+"}.C1b5u{overflow:hidden;cursor:pointer;pointer-events:auto;height:4em;max-width:calc(23.33333em + 20px)}.DqXcvLFtT{position:relative;min-width:200px;height:100%}.RhMceI{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;background-color:"+s.locals.button_active_background_color+";border-radius:4px;-webkit-backdrop-filter:"+a.locals.button_backdrop_filter+";backdrop-filter:"+a.locals.button_backdrop_filter+";max-width:calc(23.33333em + 20px)}.v1g4BGh9H{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.IuEPetpb{display:flex;flex-wrap:nowrap;align-items:center;margin-left:35pt;overflow:hidden}.T8tN36L{margin-left:10px}.v1g4BGh9H img{border-radius:2px;width:100%;height:100%}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,button_backdrop_filter:""+a.locals.button_backdrop_filter,button_active_background_color:""+s.locals.button_active_background_color,ActionPanel:"uI1nl",ActionPanel__clickableLayer:"C1b5u",ActionPanel__content:"DqXcvLFtT",ActionPanel__mask:"RhMceI",ActionPanel__favicon:"v1g4BGh9H",ActionPanel__wrapper:"IuEPetpb",ActionPanel__wrapper_wide:"T8tN36L"},e.exports=l},6413:function(e,t,i){var n=i(1907),r=i(6939),o=i(6799),a=i(4430),s=i(1154),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".Nobu22iKc{padding:4px;cursor:pointer;pointer-events:auto}.X8J{position:relative;display:flex;align-items:center;height:"+s.locals.small_button_height+";background-color:"+a.locals.button_active_background_color+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);padding-left:4px}.tvvi:hover .X8J{background-color:"+a.locals.button_hovered_background_color+"}.kTs0p{width:100%;height:100%;border-radius:4px}.OfKHwBXYX{display:flex;align-items:center;width:20px;height:20px;margin-right:.35em;font-size:2em;padding-left:3px}.tzbCBJn96 .OfKHwBXYX{width:26px;height:26px}.dF0j7{display:inline-block;max-width:90px;margin-right:8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.tzbCBJn96 .dF0j7{max-width:120px;margin-left:17px}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,button_hovered_background_color:""+a.locals.button_hovered_background_color,button_active_background_color:""+a.locals.button_active_background_color,middle_button_height:""+s.locals.middle_button_height,small_button_height:""+s.locals.small_button_height,ActionPanelSmall__clickableContainer:"Nobu22iKc",ActionPanelSmall:"X8J",ActionPanelSmall__container:"tvvi",ActionPanelSmall__favIcon:"kTs0p",ActionPanelSmall__favIconContainer:"OfKHwBXYX",ActionPanelSmall__middle:"tzbCBJn96",ActionPanelSmall__label:"dF0j7"},e.exports=l},3765:function(e,t,i){var n=i(1907),r=i(6939),o=i(7441),a=i(2100),s=i(4430),l=r(n);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".PMf{position:relative;display:inline-block;height:3em;padding:4px;color:#fff;font-weight:"+o.locals.AD_FONT_WEIGHT+";text-shadow:0 2px 2px rgba(0,0,0,.1);cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.Qk4V3z9BL9{position:relative;display:flex;box-sizing:border-box;height:100%;padding:.17em;background-color:"+s.locals.button_inactive_background_color+";border-radius:.5em;opacity:.7;-webkit-backdrop-filter:"+a.locals.button_backdrop_filter+";backdrop-filter:"+a.locals.button_backdrop_filter+"}.rfxwkA{cursor:pointer}.rfxwkA>.Qk4V3z9BL9{background-color:"+s.locals.button_active_background_color+";opacity:1}.PMf.rfxwkA:hover>.Qk4V3z9BL9{background-color:"+s.locals.button_hovered_background_color+"}.aHrlRz5M7P,.wz68xL9DO{display:flex;align-items:center;height:100%}.wz68xL9DO{justify-content:center;width:2.5em}.AtiOAU3G{margin-left:.8em}.UIHYq{height:100%;border-radius:4px}.LP2eih3{width:100%}.B6Nf{display:inline-block;width:50%;text-align:right}.Agb{display:inline-block;width:50%}.oNOpk{width:.8em;height:1.2em}",""]),l.locals={AD_FONT_WEIGHT:""+o.locals.AD_FONT_WEIGHT,button_backdrop_filter:""+a.locals.button_backdrop_filter,button_inactive_background_color:""+s.locals.button_inactive_background_color,button_active_background_color:""+s.locals.button_active_background_color,button_hovered_background_color:""+s.locals.button_hovered_background_color,SkipButton__clickable:"PMf",SkipButton:"Qk4V3z9BL9",SkipButton_active:"rfxwkA",SkipButton__contentLeft:"aHrlRz5M7P",SkipButton__contentRight:"wz68xL9DO",SkipButton__skipText:"AtiOAU3G",SkipButton__leftImage:"UIHYq",SkipButton__timeToSkipString:"LP2eih3",SkipButton__timeToSkipString__leftDigit:"B6Nf",SkipButton__timeToSkipString__rightDigit:"Agb",SkipButton__icon:"oNOpk"},e.exports=l},7864:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".RX1D{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),r.locals={Timeline:"RX1D"},e.exports=r},5676:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".d7NpqNJ3{--stw-max-width:100%;font-size:0;pointer-events:none}.PwbKVP7XB{text-align:center}.UhBMq0XJ{position:absolute;top:0;left:0;width:100%;width:var(--stw-max-width);height:100%;font:var(--stw-font);pointer-events:none}.paL8{display:inline-block;white-space:nowrap}.fAl0Mu8SyF,.dsTETAB{display:inline-block;font:var(--stw-font)}",""]),r.locals={SplitTextLinesWrapper__container:"d7NpqNJ3",SplitTextLinesWrapper__lines:"PwbKVP7XB",SplitTextLinesWrapper__canvas:"UhBMq0XJ",SplitTextLinesWrapper__textLine:"paL8",SplitTextLinesWrapper__char:"fAl0Mu8SyF",SplitTextLinesWrapper__word:"dsTETAB"},e.exports=r},6416:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,".Luwd1IW{animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-fill:balance;grid-column-gap:normal;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-feature-settings:normal;font-variant:normal;font-weight:400;font-stretch:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;all:initial;display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;pointer-events:none;font-size:16px;overflow:hidden;line-height:normal}",""]),r.locals={AdDisplayControllerSkinContainer:"Luwd1IW"},e.exports=r},1154:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"",""]),r.locals={small_button_height:"32px",middle_button_height:"40px",small_button_left_right_margin:"8px",middle_button_left_right_margin:"12px"},e.exports=r},6799:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"",""]),r.locals={AD_FONT:'YS Text, -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'},e.exports=r},7441:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"",""]),r.locals={AD_FONT_WEIGHT:"500"},e.exports=r},1307:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"",""]),r.locals={AD_LABEL_MIDDLE_HEIGHT:"10px"},e.exports=r},5092:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"",""]),r.locals={AD_LABEL_SMALL_HEIGHT:"10px"},e.exports=r},2100:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"",""]),r.locals={button_backdrop_filter:"blur(8px)"},e.exports=r},4430:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"",""]),r.locals={button_inactive_background_color:"rgba(38, 38, 38, 0.3)",button_active_background_color:"rgba(38, 38, 38, 0.65)",button_hovered_background_color:"rgba(0, 0, 0, 0.65)"},e.exports=r},9792:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"",""]),r.locals={default_transition_duration:"100ms"},e.exports=r},2840:function(e,t,i){var n=i(1907),r=i(6939)(n);r.push([e.id,"",""]),r.locals={default_transition_timing_function:"ease-in"},e.exports=r},7176:function(e,t,i){"use strict";function n(e,t,i,n,r,o,a){var s,l,d=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:o},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:a};t="_moatApi"+Math.floor(1e8*Math.random());try{l=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,l=window}return l[t]=u,d.type="text/javascript",e&&e.insertBefore(d,e.childNodes[0]||null),d.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+r+"/moat/"+n+"/moatvideo.js#"+t,u}i.r(t),i.d(t,{initMoatTracking:function(){return n}})},4478:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HAS_URL=void 0,t.HAS_URL=(()=>{try{return new URL("https://yandex.ru"),!0}catch(e){return!1}})()},9233:function(e,t,i){"use strict";var n=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.CSPLogger=void 0;const r=i(4478),o=i(4385);t.CSPLogger=class{constructor(e,t){void 0===t&&(t={});var{url:i="https://csp.yandex.net/csp"}=e,r=n(e,["url"]);this.additional=t,this.cspEventListener=e=>{try{const t=new URL(e.blockedURI);if(this.url===t.origin+t.pathname&&"1"===t.searchParams.get("js_client"))return this.unsubscribe(),void(console.warn&&console.warn("URL for logging CSP was blocked"))}catch(r){}const t={"csp-report":{"blocked-uri":e.blockedURI,"column-number":e.columnNumber,disposition:e.disposition,"document-uri":e.documentURI,"effective-directive":e.effectiveDirective,"line-number":e.lineNumber,"original-policy":e.originalPolicy,referrer:e.referrer,"script-sample":e.sample,"status-code":e.statusCode,"violated-directive":e.violatedDirective}},i=JSON.stringify(t),n=this.addParamsToUrl(this.url,Object.assign(Object.assign(Object.assign({},this.config),this.additional),{js_client:"1"}));o.sendLog(n,i)},this.url=i,this.config=r}setAdditional(e){this.additional=Object.assign(Object.assign({},this.additional),e)}addParamsToUrl(e,t){const i=new URL(e);for(const n in t){const e=t[n];e&&"string"===typeof e&&t.hasOwnProperty(n)&&i.searchParams.append(n,e)}return i.toString()}subscribe(e){void 0===e&&(e=document),"onsecuritypolicyviolation"in document&&r.HAS_URL&&e.addEventListener("securitypolicyviolation",this.cspEventListener)}unsubscribe(e){void 0===e&&(e=document),e.removeEventListener("securitypolicyviolation",this.cspEventListener)}}},4385:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendLog=void 0,t.sendLog=function(e,t){if(navigator.sendBeacon&&navigator.sendBeacon(e,t))return;const i=new XMLHttpRequest;i.open("POST",e),i.send(t)}},6939:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n="undefined"!==typeof t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,r,o){"string"===typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);n&&a[c[0]]||("undefined"!==typeof o&&("undefined"===typeof c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},1907:function(e){"use strict";e.exports=function(e){return e[1]}},5335:function(e){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}},3438:function(e){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},4738:function(e){"use strict";e.exports='<svg width=\'100%\' height=\'100%\' viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 1L13 13" stroke="#AFC5CF" stroke-width="2"/>\n<path d="M1 13L13 1" stroke="#AFC5CF" stroke-width="2"/>\n</svg>\n'},3716:function(e){"use strict";e.exports=JSON.parse('{"be":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"\u041f\u0440\u0430\u0446\u0443\u0435 \u043d\u0430 \u0442\u044d\u0445\u043d\u0430\u043b\u043e\u0433\u0456\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"en":{"adsdk":{"ABUSE_ADS_TEXT":"Ad","ABUSE_COPIED":"Copied","ABUSE_COPY_TEXT":"Copy link","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Enter your message","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"Submit","ABUSE_IMPROVE_REASON_TEXT":"State the reason:","ABUSE_OPTION_ABOUT":"Ads on Yandex","ABUSE_OPTION_ADVERTISER_INFO":"Advertiser info","ABUSE_OPTION_ALREADY_PURCHASED":"Already purchased","ABUSE_OPTION_ANOTHER_REASON":"Another reason","ABUSE_OPTION_COMPLAINT":"Report","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Speculation","ABUSE_OPTION_HIDE":"Hide","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Illegal goods or services","ABUSE_OPTION_NOT_INTERESTED":"Not interested","ABUSE_OPTION_OVERLAP_CONTENT":"Covers page content","ABUSE_OPTION_POLITICAL_SOCIAL":"Political ad","ABUSE_OPTION_SCAMMERS":"Scammers","ABUSE_OPTION_SEEN_TOO_OFTEN":"I see this ad too often","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Shocking content","ABUSE_OPTION_UNPLEASANT_CONTENT":"I don\'t like it","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Thanks! The moderators will review this ad","ABUSE_PLACEHOLDER_HINT_HIDE":"We use your responses to suggest ads that will be interesting for you","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"Report registered","ABUSE_PLACEHOLDER_TEXT_HIDE":"Ad hidden","ABUSE_REPORT_PROBLEM":"Report a bug","ABUSE_SCREEN_DESCRIPTION":"We try to show you ads that match your interests. Tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_DESCRIPTION_SHORT":"Please tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_TITLE":"Report this ad","ABUSE_VARIANT_ANNOYING":"Intrusive or annoying","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"False information","ABUSE_VARIANT_NOT_INTERESTED":"I\'m not interested in this","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"I\'m not interested in this","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"Political ad","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"Shocking content","ABUSE_VARIANT_SPAM":"Inappropriate content or spam","ABUSE_VARIANT_SPAM_SHORT":"Looks like spam","AD_TITLE":"Ad","BU_LABEL_TOOLTIP_TEXT":"Based on Yandex technologies","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"Learn more","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"For more information, see the advertiser\'s website","MORE":"More","MOTION_BTN":"Learn more","MOTION_BTN_WITHOUT_GREEN_URL":"Address and phone number","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"of","PREV_ECOM_PRODUCT":"","REPEAT":"Repeat","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sec","SKIP":"Skip","SKIP_TIME_LEFT":"Skip ad","SOCIAL_ADVERTISING_AD_LABEL":"Social ad","SURVEY_AD_LABEL":"Survey","SURVEY_AD_LABEL_OF_QUESTIONS":"questions","SURVEY_CONTINUE_BUTTON_TEXT":"Continue","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"Select up to $x responses","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"Select 1 or more responses","SURVEY_PACKSHOT_COMPANY":"Yandex Surveys","SURVEY_PACKSHOT_FROM":"Survey powered by","SURVEY_PACKSHOT_TEXT":"Thank you!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"Select 1 response","SURVEY_SKIP_BUTTON_TEXT":"Skip","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"Read more","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"Read more on the website","THEME_EMPTY_ACTION_BUTTON_LABEL":"Go","TIME_LEFT":"Ad","UNMUTE":"Unmute","UNMUTE_INVITE":"Move mouse over ad<br>to hear sound","VISIT_SITE":"Go to advertiser\u2019s site","YANDEX_DIRECT":"Yandex.Direct","YANDEX_DIRECT_LINK":""}},"kk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"\u042f\u043d\u0434\u0435\u043a\u0441 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u043b\u0430\u0440\u044b\u043d\u0434\u0430 \u0436\u04b1\u043c\u044b\u0441 \u0456\u0441\u0442\u0435\u0439\u0434\u0456","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"ru":{"adsdk":{"ABUSE_ADS_TEXT":"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435","ABUSE_COPIED":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e","ABUSE_COPY_TEXT":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","ABUSE_IMPROVE_REASON_TEXT":"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:","ABUSE_OPTION_ABOUT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435","ABUSE_OPTION_ADVERTISER_INFO":"\u041e \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u0435","ABUSE_OPTION_ALREADY_PURCHASED":"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e","ABUSE_OPTION_ANOTHER_REASON":"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430","ABUSE_OPTION_COMPLAINT":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f","ABUSE_OPTION_FALSE_INFO_SOCIAL":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_OPTION_HIDE":"\u0421\u043a\u0440\u044b\u0442\u044c","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430","ABUSE_OPTION_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442","ABUSE_OPTION_OVERLAP_CONTENT":"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_POLITICAL_SOCIAL":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_OPTION_SCAMMERS":"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438","ABUSE_OPTION_SEEN_TOO_OFTEN":"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_UNPLEASANT_CONTENT":"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f","ABUSE_PLACEHOLDER_HINT_HIDE":"\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0432\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u0416\u0430\u043b\u043e\u0431\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430","ABUSE_PLACEHOLDER_TEXT_HIDE":"\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u044b\u0442\u043e","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_DESCRIPTION_SHORT":"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_TITLE":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_VARIANT_ANNOYING":"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_VARIANT_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_VARIANT_SPAM":"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c","ABUSE_VARIANT_SPAM_SHORT":"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c","AD_TITLE":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","BU_LABEL_TOOLTIP_TEXT":"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"\u0421\u043a\u0440\u044b\u0442\u044c","ECOM_PRODUCTS_BUTTON_SHOW":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c","LEARN_MORE":"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","MORE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN_WITHOUT_GREEN_URL":"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d","MOTION_DIETARYSUPPL_DISCLAIMER":"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c","MOTION_DISTANCE_SALES":"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.","MOTION_DRUG_DISCLAIMER":"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.","MOTION_HIDE_DISCLAIMER":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443","MOTION_SHOW_DISCLAIMER":"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","NEXT_ECOM_PRODUCT":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442","OF":"\u0438\u0437","PREV_ECOM_PRODUCT":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442","REPEAT":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c","REWARDED_TIMER_1":"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b","REWARDED_TIMER_2":"\u0441\u0435\u043a","SECONDS":"\u0441\u0435\u043a","SKIP":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","SKIP_TIME_LEFT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443","SOCIAL_ADVERTISING_AD_LABEL":"\u0421\u043e\u0446\u0440\u0435\u043a\u043b\u0430\u043c\u0430","SURVEY_AD_LABEL":"\u041e\u043f\u0440\u043e\u0441","SURVEY_AD_LABEL_OF_QUESTIONS":"\u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432","SURVEY_CONTINUE_BUTTON_TEXT":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e $x \u043e\u0442\u0432\u0435\u0442\u043e\u0432","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 1 \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432","SURVEY_PACKSHOT_COMPANY":"\u042f\u043d\u0434\u0435\u043a\u0441 \u0412\u0437\u0433\u043b\u044f\u0434","SURVEY_PACKSHOT_FROM":"\u041e\u043f\u0440\u043e\u0441 \u0441\u0434\u0435\u043b\u0430\u043d \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445","SURVEY_PACKSHOT_TEXT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 1 \u043e\u0442\u0432\u0435\u0442","SURVEY_SKIP_BUTTON_TEXT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435","THEME_EMPTY_ACTION_BUTTON_LABEL":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438","TIME_LEFT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","UNMUTE":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","UNMUTE_INVITE":"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","VISIT_SITE":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","YANDEX_DIRECT":"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442","YANDEX_DIRECT_LINK":"https://direct.yandex.ru/?partner"}},"tr":{"adsdk":{"ABUSE_ADS_TEXT":"Reklam","ABUSE_COPIED":"Kopyaland\u0131","ABUSE_COPY_TEXT":"Ba\u011flant\u0131y\u0131 kopyala","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Mesaj\u0131n\u0131z\u0131 girin","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"G\xf6nder","ABUSE_IMPROVE_REASON_TEXT":"Nedenini a\xe7\u0131klay\u0131n:","ABUSE_OPTION_ABOUT":"Yandex\'te reklam","ABUSE_OPTION_ADVERTISER_INFO":"Reklam veren hakk\u0131nda","ABUSE_OPTION_ALREADY_PURCHASED":"Zaten sat\u0131n al\u0131nd\u0131","ABUSE_OPTION_ANOTHER_REASON":"Ba\u015fka bir neden var","ABUSE_OPTION_COMPLAINT":"\u015eikayet et","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Yanl\u0131\u015f bilgi","ABUSE_OPTION_HIDE":"Gizle","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Yasad\u0131\u015f\u0131 mal/hizmet","ABUSE_OPTION_NOT_INTERESTED":"\u0130lgilenmiyorum","ABUSE_OPTION_OVERLAP_CONTENT":"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor","ABUSE_OPTION_POLITICAL_SOCIAL":"Siyasi i\xe7erikli reklam","ABUSE_OPTION_SCAMMERS":"Doland\u0131r\u0131c\u0131lar","ABUSE_OPTION_SEEN_TOO_OFTEN":"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Rahats\u0131z edici i\xe7erik","ABUSE_OPTION_UNPLEASANT_CONTENT":"Ho\u015fuma gitmiyor","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Te\u015fekk\xfcr ederiz! Moderat\xf6r k\u0131sa s\xfcre i\xe7erisinde reklam\u0131 kontrol edecektir","ABUSE_PLACEHOLDER_HINT_HIDE":"Size en uygun reklam\u0131 se\xe7mek i\xe7in yan\u0131tlar\u0131n\u0131z\u0131 de\u011ferlendiriyoruz","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u015eikayet kay\u0131t alt\u0131na al\u0131nd\u0131","ABUSE_PLACEHOLDER_TEXT_HIDE":"Reklam gizlendi","ABUSE_REPORT_PROBLEM":"Report a bug","ABUSE_SCREEN_DESCRIPTION":"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_DESCRIPTION_SHORT":"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_TITLE":"Reklam\u0131 \u015fikayet et","ABUSE_VARIANT_ANNOYING":"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"Yanl\u0131\u015f bilgi","ABUSE_VARIANT_NOT_INTERESTED":"Bu konuyla ilgilenmiyorum","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"Konu ilgimi \xe7ekmiyor","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"Siyasi i\xe7erikli reklam","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"Rahats\u0131z edici i\xe7erik","ABUSE_VARIANT_SPAM":"G\xfcvenilir olmayan i\xe7erik veya spam","ABUSE_VARIANT_SPAM_SHORT":"Spam gibi g\xf6r\xfcn\xfcyor","AD_TITLE":"Reklam","BU_LABEL_TOOLTIP_TEXT":"Bir Yandex teknolojisidir","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"Daha fazla bilgi edinin","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"Reklam verenin sitesinden daha fazla bilgi","MORE":"Daha fazla","MOTION_BTN":"Daha fazla bilgi","MOTION_BTN_WITHOUT_GREEN_URL":"Adres ve telefon","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"Tekrarla","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sn","SKIP":"Atla","SKIP_TIME_LEFT":"Reklam\u0131 atla","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"Anket","SURVEY_AD_LABEL_OF_QUESTIONS":"soru","SURVEY_CONTINUE_BUTTON_TEXT":"Devam et","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"$x yan\u0131ta kadar se\xe7ebilirsiniz","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"1 veya birka\xe7 yan\u0131t se\xe7in","SURVEY_PACKSHOT_COMPANY":"Yandex.Surveys","SURVEY_PACKSHOT_FROM":"Anket teknolojiler \xfczerine ger\xe7ekle\u015ftirildi","SURVEY_PACKSHOT_TEXT":"Te\u015fekk\xfcr ederiz!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"1 yan\u0131t se\xe7in","SURVEY_SKIP_BUTTON_TEXT":"Atla","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"Daha fazla bilgi","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"Daha fazla bilgi i\xe7in siteye gidin","THEME_EMPTY_ACTION_BUTTON_LABEL":"Git","TIME_LEFT":"Reklam","UNMUTE":"Sesi a\xe7","UNMUTE_INVITE":"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin","VISIT_SITE":"Reklam verenin sitesine git","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"\u041f\u0440\u0430\u0446\u044e\u0454 \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uz":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"Yandex texnologiyalarida ishlaydi","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}}}')}},i={};e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},e.d=function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";function t(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:n}=t;return i||n||0}(e)>0&&!function(e){void 0===e&&(e=window);return function(e){void 0===e&&(e=window);const t=ed(e);return"boolean"===typeof t?-1:t}(e)>11}(e)}function i(e){return"function"===typeof e||"Function"===rd(e)}function n(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function r(e,t){if(!i(e.matchMedia))return!1;const r=e.matchMedia(t);return n(r)&&Boolean(r.matches)}function o(e){return void 0===e&&(e=window),t(e)||function(e){return r(e,sd)}(e)||function(e){return r(e,ld)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||function(e){return"ontouchstart"in e}(e)}function a(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!function(e){void 0===e&&(e=window);return e.navigator.userAgent.indexOf("UCBrowser")>-1}(e)}function s(e,t){if(void 0===t&&(t=!0),dd&&t)return[];{const t=[];let i=e;for(;;)try{if(i=i.ownerDocument.defaultView.frameElement,!i)return t;t.push(i)}catch(h_){return t}}}function l(e){return"string"===typeof e}function d(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function c(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function u(e,t){void 0===t&&(t=window);return("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function h(e){return"function"===typeof e}function p(e){var t;return(void 0===t&&(t=window),void 0===gd&&(gd=t.JSON),gd).stringify(e,function(){const e=[],t=function(){const e="undefined"===typeof WeakMap?void 0:new WeakMap,t=[];return{set:(i,n)=>{if(void 0!==e)try{e.set(i,n)}catch(r){t.push({path:n,value:i})}else t.push({path:n,value:i})},get:i=>{const n=yd(t,(e=>e.value===i));return void 0!==e&&void 0===n?e.get(i):n?n.path:void 0}}}();return(i,n)=>{if(h(n))return l(n.name)?n.name:"[Function]";if(md(n))return vd(n);if(!d(n))return n;if(fd(n))return function(e){if(e.id)return e.id;if(e.className)return e.className;return"HTML Element"}(n);const r=t.get(n);if(r)return"[Circular "+r+"]";for(;e.length>0&&e[e.length-1].value[i]!==n;)e.pop();const o=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:o,value:n}),t.set(n,o),n}}())}function m(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}function A(){}function v(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e){if("function"===typeof Object.keys)return Object.keys(e);const t=[];for(const i in e)g(e,i)&&t.push(i);return t}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},y.apply(this,arguments)}function f(e){return l(e)&&e.length>0}function S(e,t){try{return e()}catch(h_){"function"===typeof t&&t(h_)}}function T(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function E(e){let t="";for(let i=0;i<e;i++)t+=(16*Kd()|0).toString(16);return t}function b(e,t,i){void 0===i&&(i=" ");const n=t-e.length;if(n>0){let t=i;for(;t.length<n;)t+=t;return(t.length>n?t.substr(0,n):t)+e}return e}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e,t,i){for(const n in e)C(e,n)&&t.call(i,e[n],n,e)}function P(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}function O(e){const t=s(e.documentElement).map((e=>e.ownerDocument));return t.unshift(e),t.map((e=>({location:P(e.defaultView),referrer:e.referrer})))}function I(e,t){let i=e[t];if(!T(i)){const n=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=n}catch(h_){}}return i}function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},k.apply(this,arguments)}function D(e){ac.href=e;let t=ac.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(ac.search||"")+(ac.hash||""),n=e.lastIndexOf(i),r=-1===n?e:e.slice(0,n);if(sc.test(e)){const t=D(e.replace(sc,"https:"));return ac.href=e,k({},t,{originalPath:r,protocol:e.slice(0,e.indexOf(":")+1),href:ac.href})}const o=ac.protocol&&/^[a-z\-]+:/i.test(ac.protocol)?ac.protocol:"";return{originalPath:r,href:ac.href,protocol:o,host:ac.host,hostname:ac.hostname,port:ac.port,pathname:t,search:ac.search,hash:ac.hash}}function N(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function R(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let n=0;n<i.length;n++){const e=i[n].indexOf("=");let r,o;if(-1===e?(r=lc(i[n]),o=""):(r=lc(i[n].slice(0,e)),o=i[n].slice(e+1)),r){const e=Boolean(/(\[\])$/.exec(r));r=r.replace(/\[\]$/,""),e?void 0===t[r]?t[r]=[lc(o)]:t[r]=[].concat(t[r],lc(o)):t[r]=lc(o)}}return t}function V(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];nc(n)?t.push(dc(i,n)):void 0!==n&&t.push(i+"="+encodeURIComponent(n))}return"?"+t.join("&")}function L(e,t,i){let{override:n=!0,saveOriginalPath:r=!1}=void 0===i?{}:i;const o=D(e),a=R(o.search);w(t,((e,t)=>{(void 0===a[t]||n)&&(a[t]=e)}));return N(k({},o,{search:V(a)}),r)}function B(e){return D(e).pathname.split("/").pop()||""}function x(e,t){return-1!==e.indexOf(t)}function M(e){return Boolean(e)}function U(e){return e}function F(e){d(console)&&h(console.warn)&&console.warn(e)}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},H.apply(this,arguments)}function z(e,t){const i=j(W(e,{}),t);if(n=t,Sc.has(n)){return(0,_c[t])(i)}var n;return i}function j(e,t){for(const{sourceName:i,getter:n}of e){const e=S((()=>n(t)));if(f(e))return F("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+i+"]"),e}}function W(e,t){const i={},n=O(e.document);for(const{location:o}of n){w(R(D(o).search),((e,t)=>{i[t]=e}))}const r=function(e){return{adsdktracelogs:e.VAS_TRACE_LOGS,adsdksecuremode:e.VAS_SECURE_MODE,adsdkwithcredentials:e.VAS_WITH_CREDENTIALS,adsdkabflags:e.VAS_AB_FLAGS,adsdkuaas:e.VAS_UAAS,[cc]:e.VAS_AIM_BANNER_ID,[uc]:e.VAS_AIM_DESIGN_ID,[hc]:e.VAS_AIM_DESIGN_NAME,[pc]:e.VAS_AIM_SUBDESIGN_ID,adsdkhoneypotforced:e.VAS_HONEYPOT_FORCED,adsdkgrforced:e.VAS_GR_FORCED,vasconsolelogs:e.VAS_CONSOLE_LOGS,vasnetworklogs:e.VAS_NETWORK_LOGS,vasdebug:e.VAS_DEBUG,vasfulldebug:e.VAS_FULL_DEBUG}}(t);return[{sourceName:"UrlParams",getter:e=>i[e]},{sourceName:"LocalStorage",getter:t=>yc(e,t)},{sourceName:"GlobalVariable",getter:t=>{for(const r of tc(e)){var i,n;const e=null==(i=r.Ya)||null==(n=i.hardcodedParams)?void 0:n[t];if(e)return String(e)}}},{sourceName:"ABFlag",getter:e=>r[e]}]}function Y(e){let t=e;const i=[e],{top:n}=e;for(;t!==n;)t=t.parent,i.push(t);return i}function G(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}function X(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Dd(e)&&Id(e,(e=>{"function"===typeof e&&e(...i)}))}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},K.apply(this,arguments)}function q(e,t){return function(e){const i=pd||window,n=i.console;if(!t||void 0===n)return;const r="AdSDKJS[InPage]:";for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null==n.log||n.log(r,e,...a)}}function J(){return J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},J.apply(this,arguments)}function Z(e){let{element:t,eventName:i,listener:n,options:r,ignoreBubbling:o=!1}=e;const a=o?function(e){e.target===t&&n.call(this,e)}:n,s=function(e){let t=!1,i=!1,n=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),n=Boolean(e.once)),{capture:t,passive:i,once:n}}(r),l=zc?s:s.capture,d=s.once&&!Fc?function(e){c(),a.call(this,e)}:a,c=()=>{h(t.removeEventListener)&&t.removeEventListener(i,d,l)};return t.addEventListener(i,d,l),c}function Q(e,t){void 0===t&&(t=window);let i=A;const n=t=>{"pagehide"===t.type&&t.persisted||(e(t),i())},r=jc(Wc,(e=>Z({element:t,eventName:e,listener:n})));return i=v((()=>{X(r)})),i}function $(e){setTimeout((()=>{throw e}),0)}function ee(e){return Yc?G(e.location.ancestorOrigins):[]}function te(e){let t="",i="";if(e){O(e).reverse().forEach((e=>{let{location:n,referrer:r}=e;t=t||n,i=i||r}))}return{location:t,referrer:i}}function ie(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function ne(){}function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},re.apply(this,arguments)}function oe(e){const{method:t,url:i,async:n=!0,data:r,responseType:o="text",onBeforeSend:a=ne,onRetry:s=ne,checkStatus:l=(e=>Qc===e),headers:d={},xhrConstructor:c=XMLHttpRequest,retries:u=0,timeout:h=0,withCredentials:p,onAbort:m,onSetup:A}=e;if(!c)return;const v=e.onSuccess?ie(e.onSuccess):ne,g=e.onError?ie(e.onError):ne;let _,y=!1,f=0,S=e=>{y=!0,S=ne,_=e,T(new Error("Abort request")),"function"===typeof m&&m(e)};const T=t=>{E.onerror=null,E.onreadystatechange=null,f&&clearTimeout(f);if(f&&4!==E.readyState||y)try{E.abort()}catch(t){}if(!y)if(u>0){const i=s(t,E);if("boolean"!==typeof i||Boolean(i)||S(),y)return;oe(re({},e,{onSetup:e=>{let{abort:t}=e;S=e=>t(e),y&&t(_)},retries:u-1}))}else S=ne,g(t,E)},E=new c;try{E.open(t,i,n)}catch(h_){return void T(h_)}if(E.responseType=o,E.withCredentials=Boolean(p),w(d,((e,t)=>{try{E.setRequestHeader(t,e)}catch(h_){}})),h>0&&isFinite(h)&&(f=window.setTimeout((()=>{T(new Error("Request timeout, "+i))}),h)),E.onerror=T,E.onreadystatechange=()=>{if(4===E.readyState){const{status:e}=E;l(e)?(S=ne,clearTimeout(f),v(E)):T(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof A||(A({abort:e=>S(e)}),!y))&&(a(E,e),!y))try{E.send(r)}catch(h_){T(h_)}}function ae(e){return Ad(e)&&Boolean(e.code)}function se(e){return"ontouchstart"in e}function le(e){return e.screen.availHeight>e.screen.availWidth?"portrait":"landscape"}function de(){if(pd&&void 0!==pd.document&&"function"===typeof pd.document.hasFocus)try{return pd.document.hasFocus()}catch(e){}}function ce(e){return"function"===typeof Object.entries?Object.entries(e):jc(_(e),(t=>[t,e[t]]))}function ue(e,t){const i={};return Id(_(e),(n=>{i[n]=t(e[n],n)})),i}function he(e){const t=[];for(const[i,n]of e){const e=pe(n,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function pe(e,t){const i=function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2);return me(i,t)}function me(e,t){return b(e,t,"0")}function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ae.apply(this,arguments)}function ve(e,t){void 0===t&&(t=!0);const i=gu(e);if(!i)return t;return!e[i]}function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ge.apply(this,arguments)}function _e(e){return"number"===typeof e&&isFinite(e)}function ye(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}function fe(e,t){Id(e,(e=>{ye(e,t)}))}function Se(e,t){return function(){try{e(...arguments)}catch(i){Cu.error({error:new Od(i,{code:t})}),$(i)}}}function Te(e){const{hostname:t,pathname:i}=D(e),n=wu.test(t),r=t===Nc&&i.startsWith("/adfox"),o=t===Rc&&Pu.test(i);return n||r||o}function Ee(e,t){return t===e.substring(e.length-t.length)}function be(e){if(!e)return!1;const{hostname:t}=D(e);return!(!t||0===t.length)&&Ou(Iu,(e=>e===t||Ee(t,"."+e)))}function Ce(e){(new Image).src=e}function we(e,t){if(be(e)||Te(e)){const i=function(e,t){return!!ku&&window.navigator.sendBeacon(e,t)}(e,t);if(i)return}else be(e)&&Cu.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:ru});Ce(e)}function Pe(e){return"number"===typeof e&&isFinite(e)&&e>0}function Oe(){return Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Oe.apply(this,arguments)}function Ie(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(d(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:n}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:n}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?Oe({},Nu,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):Nu}(e),{droppedVideoFrames:i,totalVideoFrames:n}=t;let r=Ru.droppedVideoFramesRatio;return Pe(n)&&_e(i)&&(r=i/n),Oe({},t,{droppedVideoFramesRatio:r})}function ke(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},De.apply(this,arguments)}function Ne(e){let{url:t,options:i,ignoreAbd:n=!1,win:r}=e;if(h(uu(r))&&!n)return t;if(!be(t)&&!Te(t))return t;const o=ah(i.size),a=Math.round(100*i.visibility),s=Math.round(100*i.videoVolume),l=Math.round(i.videoAvatarSize.width),d=Math.round(i.videoAvatarSize.height),c=de();return L(t,{"adsdk-bundle-version":Jd,"adsdk-bundle-name":wc,"adsdk-container-visibility":String(a),"adsdk-container-width":String(o.width),"adsdk-container-height":String(o.height),"video-avatar-width":String(l),"video-avatar-height":String(d),[au]:String(vu.serialize()),"ad-session-id":nh(),[Bu]:Mc,shyid:rh(r),"top-ancestor":Jc,"top-ancestor-undetermined":Zc?"0":"1","client-ts":String(Date.now()),"client-timezone-offset":String((new Date).getTimezoneOffset()),"viewability-undetermined":dh()?"0":"1","video-volume":String(s),"video-muted":i.videoMuted?"1":"0","pcode-active-testids":Eu.getActiveTestIds().join(";")||void 0,"document-has-focus":void 0===c?"unknown":String(c),"is-fullscreen":void 0===i.isFullscreen?"unknown":String(i.isFullscreen),"device-orientation":se(r)?le(r):void 0,[Fu]:void 0===i.adPodId?"unknown":i.adPodId},{override:!1})}function Re(e){let{error:t,trackingUrls:i}=e;Uc("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=jc(e,(e=>Ne({url:e,options:Lu,win:window})));Id(t,(e=>we(e)))}(i)}function Ve(e,t){void 0===t&&(t=[]),Cu.errorToStats(e),Re({error:e,trackingUrls:t})}function Le(e,t){try{return e()}catch(h_){"function"===typeof t&&t(h_)}}function Be(e){return void 0===e&&(e=window),void 0===ph&&(ph=function(e){void 0===e&&(e=window);return e.JSON&&T(e.JSON.stringify)&&T(e.JSON.parse)}(e)?e.JSON:{stringify:mh("stringify"),parse:mh("parse")}),ph}function xe(e){return Be().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,n)=>{if(void 0!==e)try{e.set(i,n)}catch(r){t.push({path:n,value:i})}else t.push({path:n,value:i})},get:i=>{const n=hh(t,(e=>e.value===i));return void 0!==e&&void 0===n?e.get(i):n?n.path:void 0}}}();return(r,o)=>{if(i(o))return l(o.name)?o.name:"[Function]";if(!n(o))return o;const a=t.get(o);if(a)return"[Circular "+a+"]";for(;e.length>0&&e[e.length-1].value[r]!==o;)e.pop();const s=(e.length>0?e[e.length-1].path:"")+(r?"/"+r:"~");return e.push({path:s,value:o}),t.set(o,s),o}}())}function Me(e){return void 0===e&&(e=""),e.replace(wh,(e=>e in Ph?Ph[e]:e))}function Ue(e){if(!d(e))return;const{AUCTION_DC_PARAMS:t}=e;return d(t)&&d(t.data_params)?Ih(t.data_params):void 0}function Fe(e){const t=Ue(e);if(!t)return;const{text:i}=t;return d(i)?i:void 0}function He(e){const t=Fe(e);if(!t||!d(e))return{};const{HAS_TITLE:i,HAS_BODY:n}=e;return{title:f(t.title)?Me(t.title):void 0,body:f(t.body)?Me(t.body):void 0,hasBody:"boolean"===typeof n?n:void 0,hasTitle:"boolean"===typeof i?i:void 0}}function ze(e){const t=function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const n=kh.indexOf(e.charAt(i++)),r=kh.indexOf(e.charAt(i++)),o=kh.indexOf(e.charAt(i++)),a=kh.indexOf(e.charAt(i++)),s=n<<2|r>>4,l=(15&r)<<4|o>>2,d=(3&o)<<6|a;t.push(String.fromCharCode(s)),64!==o&&t.push(String.fromCharCode(l)),64!==a&&t.push(String.fromCharCode(d))}return t.join("")}(e);return function(e){const t=[];let i=0;for(;i<e.length;){const n=e.charCodeAt(i);if(n<128)t.push(String.fromCharCode(n)),i++;else if(n>191&&n<224){const r=e.charCodeAt(i+1);t.push(String.fromCharCode((31&n)<<6|63&r)),i+=2}else{const r=e.charCodeAt(i+1),o=e.charCodeAt(i+2);t.push(String.fromCharCode((15&n)<<12|(63&r)<<6|63&o)),i+=3}}return t.join("")}(t)}function je(e){let t,{remainingLoadWrapperVastCount:i,isAdFox:n,url:r,adBreakType:o,adPlacementOptions:a,adConfig:s}=e;return t=n||r&&Te(r)?"AD_FOX":r&&be(r)?"YANDEX":"EXTERNAL",{adPlacementOptions:a,vastSourceType:t,vastTimeout:3e3,remainingLoadWrapperVastCount:i,adBreakType:o,requestMethod:Dh({secureMode:s.secureMode,url:r})?"VASFrame":"XMLHttpRequest"}}function We(e){if(!d(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!d(t)||!d(t.data_params))return;const i=Ih(t.data_params);if(!d(i))return;const n=i.target_url;return f(n)?n:void 0}function Ye(e){let{type:t}=e;return f(t)&&Vh.indexOf(t)>-1?"js":"video"}function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ge.apply(this,arguments)}function Xe(e,t,i){for(const n in e)g(e,n)&&t.call(i,e[n],n,e)}function Ke(e){const t={};return Xe(e,((e,i)=>{t[e]=i})),t}function qe(){return qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qe.apply(this,arguments)}function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Je.apply(this,arguments)}function Ze(e){return"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e}function Qe(e,t){const i="video-banner_theme_empty"===e,n=Ze(e);if(!(i||n))return!1;if(!d(t))return!1;const{AUCTION_DC_PARAMS:r}=t;if(!d(r))return!1;const{data_params:o}=r;if(!d(o))return!1;const{misc:a}=o;if(!d(a))return!1;const{layout_type:s}=a;return"clickable_video"===s}function $e(e){return!!d(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function et(e){return function(e){return""+Zh+e+"/"}(e)}function tt(e){if(!d(e))throw new Od({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersObject:e}});const{mediaFiles:t,theme:i}=e,n=i===np;if(!Dd(t)||0===t.length)return n?{url:op,adFormatType:"survey",isOldVastFormat:!0,detectionMethod:"surveyByTheme"}:{url:Qh,adFormatType:"motion",isOldVastFormat:!0,detectionMethod:"motionNoMediaFiles"};const[r]=t;if($e(r)&&r.type===Lh){const e=(e=>{const{type:t,url:i}=e;if(t!==Lh)throw new Od({code:"DETECT_AD_CREATIVE_AD_FORMAT_NO_AD_CREATIVE",details:e});const n=B(i);if(!(n in zh))throw new Od({code:"DETECT_AD_CREATIVE_AD_FORMAT_UNMATCHED_FILENAME",details:e});const r=zh[n];return Kh[r]})(r);return{url:Gh,adFormatType:e,isOldVastFormat:!1,detectionMethod:"adCreative"}}const o=f(i),a="video-banner_theme_empty"===i;if("video-banner_interactive-viewer"===i)return{url:qh,adFormatType:"interactiveViewer",isOldVastFormat:Xh(t,(e=>e.url!==Yh.url)),detectionMethod:"ivByTheme"};if(Qe(i,e))return{url:op,adFormatType:"clickableVideo",isOldVastFormat:!0,detectionMethod:"clickableOnlyVideo"};if(o)return a?{url:op,adFormatType:"themeEmpty",isOldVastFormat:!0,detectionMethod:"emptyTheme"}:n?{url:op,adFormatType:"survey",isOldVastFormat:!0,detectionMethod:"surveyTheme"}:Ze(i)?{url:op,adFormatType:"themeEmpty",isOldVastFormat:!0,detectionMethod:"oldVastFormat"}:{url:rp,adFormatType:"vpaidCreative",isOldVastFormat:!0,detectionMethod:"anotherTheme"};throw new Od({code:"CANNOT_DETECT_CREATIVE_BY_AD_PARAMETERS",details:{adParametersObject:e}})}function it(e){const t=null==e?void 0:e.mediaFiles[0];if(!d(t))return"external";const{type:i,url:n}=t;if("js"!==Ye({type:i}))return"video";if(!be(n))return"external";try{if(e.adParametersObject){const{adFormatType:t}=tt(e.adParametersObject);return t}}catch(r){}return"external"}function nt(e,t){return{AB_FLAGS_STORE:t,VSID:e.VSID,VAS_USER_SESSION_RANDOM:e.VAS_USER_SESSION_RANDOM,AB_FLAGS:e.AB_FLAGS,ICOOKIE:e.ICOOKIE,TEST_IDS:e.TEST_IDS,VAS_UAAS_CONFIG:e.VAS_UAAS_CONFIG,AdditionalStatsRootFields:e.AdditionalStatsRootFields,STATS_ROOT_PARAMS:e.STATS_ROOT_PARAMS,loaderLoadedFromAnYandexRu:e.loaderLoadedFromAnYandexRu,ActiveTestIds:e.activeTestIds}}function rt(e,t){const i=e.style;for(const n in t)if(t.hasOwnProperty(n)){i[Ap(n)]=t[n]}}function ot(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)C(e,i)&&t.push(i);return t}}function at(e,t){ot(t).forEach((i=>{const n=t[i];null===n?e.removeAttribute(i):e.setAttribute(i,n)}))}function st(){return st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},st.apply(this,arguments)}function lt(){return lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},lt.apply(this,arguments)}function dt(){return dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dt.apply(this,arguments)}function ct(e){const t={};return Id(e,(e=>{let[i,n]=e;t[i]=n})),t}function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ut.apply(this,arguments)}function ht(){return ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ht.apply(this,arguments)}function pt(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function mt(){return mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},mt.apply(this,arguments)}function At(e){let{url:t,data:i,timeout:n,doRequest:r=zp,withCredentials:o}=e;return new Promise((async(e,a)=>{"https:"===window.location.protocol&&(t=function(e){return ac.href=e,ac.protocol="https:",ac.href}(t));const s=jp(n),l=r({url:t,data:i,withCredentials:o});try{const t=await Promise.race([l,s]);if(t){return e(mt({},t,{xml:pt(t.responseText)}))}return a({reason:"timeout",error:new Error("XHR Timeout")})}catch(d){return a(d)}}))}function vt(e){return[].concat.apply([],e)}function gt(e){return-1!==e.search(/[rR]each/)}function _t(){return _t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_t.apply(this,arguments)}function yt(){return yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yt.apply(this,arguments)}function ft(){return ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ft.apply(this,arguments)}function St(e){const t=[];if(!Dd(e))return t;for(const i of e){const e=Tt(i);e&&t.push(e)}return t}function Tt(e){if(!d(e))return;const{width:t,height:i,url:n,type:r}=e;if(!f(n))return;return ft({},Pe(t)&&Pe(i)?{width:t,height:i}:void 0,f(r)?{type:r}:void 0,{url:n})}function Et(){return Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Et.apply(this,arguments)}function bt(e){if(!d(e))return Zp;const{type:t,poster:i}=e;return Et({},t in qp?{type:t}:void 0,{poster:St(i)})}function Ct(){return Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ct.apply(this,arguments)}function wt(e){return!!d(e)&&(!!e.id&&!!f(e.description))}function Pt(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var n;const i=e.getAttribute(t);return null!=(n=null==i?void 0:i.trim())?n:""}return i}function Ot(e){var t,i;return null!=(t=null==e||null==(i=e.textContent)?void 0:i.trim())?t:""}function It(e){return Boolean(e&&Ot(e).length)}function kt(e){const t=parseInt(Pt(e,"width",0),10),i=parseInt(Pt(e,"height",0),10),n=parseInt(Pt(e,"bitrate",0),10),r=Pt(e,"minBitrate",""),o=r?parseInt(r,10):void 0,a=Pt(e,"maxBitrate",""),s=a?parseInt(a,10):void 0,l=Pt(e,"vmafAvg",""),d=l?parseFloat(l):void 0,c=Pt(e,"codec",""),u={width:t,height:i,bitrate:n,type:Pt(e,"type"),url:Ot(e)};return f(c)&&(u.codec=c),Pe(o)&&(u.minBitrate=o),Pe(s)&&(u.maxBitrate=s),Pe(o)&&Pe(s)&&o>s&&Cu.error({error:new Od({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:u}})}),Pe(d)&&(u.vmafAvg=d),u.url?u.type?u:(Cu.error({error:new Od({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:u}})}),null):(Cu.error({error:new Od({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:u}})}),null)}function Dt(e){var t,i,n;if(!d(e))return;const r=null==(t=e.AUCTION_DC_PARAMS)||null==(i=t.data_params)||null==(n=i.misc)?void 0:n.productType;return f(r)?r:void 0}function Nt(e){const t={};return d(e)&&Id(_(e),(i=>{const n=e[i];Array.isArray(n)&&(t[i]=fu(n,(e=>"string"===typeof e)))})),t}function Rt(){const e={};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return Id(i,(t=>{Id(_(t),(i=>{const n=e[i]||[],r=t[i]||[];e[i]=[...n,...r]}))})),e}function Vt(e){if(void 0===e)return;const t=Number(e);return Pe(t)?t:void 0}function Lt(e,t){const i={};return Id(_(e),(n=>{t(e[n],n)&&(i[n]=e[n])})),i}function Bt(){return Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bt.apply(this,arguments)}function xt(e){const t=Gp(lm);if(!d(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};if(i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),d(e.controlsSettings)&&(d(e.controlsSettings.controlsVisibility)&&w(e.controlsSettings.controlsVisibility,((e,i)=>{am.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)})),!1===e.controlsSettings.visibility)){const e=Lt(t.controlsVisibility,(e=>!0===e));t.controlsVisibility=Bt({},sm,e)}return delete t.visibility,t}function Mt(){return Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Mt.apply(this,arguments)}function Ut(e){const{packshotSettings:t}=e;if(!d(t))return dm;const{isEnabled:i,disableButton:n,disableOverlay:r,disableTitle:o}=t;return Mt({},dm,{isEnabled:!1!==i&&void 0,disableButton:n,disableOverlay:r,disableTitle:o})}function Ft(e){const t=d(e)?e:{},i="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,nm):void 0;return{config:{pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,videoTimeout:Pe(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:Pe(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:i,bufferEmptyLimit:Pe(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?Nt(t.trackingEvents):{},controlsSettings:xt(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:Vt(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:Th,packshotSettings:Ut(t),contentAfterAd:bt(t.contentAfterAd)},errors:[]}}function Ht(e){try{return"string"===typeof e?JSON.parse(e):void 0}catch(h_){return}}function zt(e){return"string"!==typeof e?NaN:ec(e.split(":").reverse(),((e,t,i)=>e+parseFloat(t)*60**i),0)}function jt(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return _e(t)?{unit:"portion",value:t/100}:void 0}const t=zt(e);if(_e(t))return{unit:"seconds",value:t}}function Wt(e){return"number"===typeof e&&isFinite(e)&&e>=0}function Yt(){return Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yt.apply(this,arguments)}function Gt(e){let{domain:t,greenUrlTextPrefix:i,greenUrlTextSuffix:n}=e;return f(i)?i:f(n)?n:f(t)?t:void 0}function Xt(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return d(t)&&f(t[Th])?t[Th]:f(i)?i:void 0}function Kt(e){const t=Ue(e);if(!d(t))return;if(d(t.unmoderated))return t.unmoderated;if(!d(t.text))return;const{text:i}=t;return d(i.unmoderated)?(hm(),i.unmoderated):void 0}function qt(e){return Pe(e)&&function(e){return _e(e)&&Math.floor(e)===e}(e)}function Jt(e){return!_(e).length}function Zt(e){var t,i;const{AUCTION_DC_PARAMS:n}=e;if(!d(n)||!d(n.data_params))return;const r=Ih(n.data_params);if(!d(r))return;const o=(null==(t=r.click_url)?void 0:t.action_button)||(null==(i=r.click_url)?void 0:i.text_name);return f(o)?o:void 0}function Qt(e){if(!d(e))return!1;const{pythia:t}=e;if(!d(t))return!1;const{extra:i}=t;if(!l(i))return!1;return void 0!==R(i).bl_adg}function $t(){return $t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$t.apply(this,arguments)}function ei(e){Id(e,(e=>Cu.error({error:e})))}function ti(e,t){let i=!1;const n=function(){const n=i?t:e;return i=!0,n.apply(this,arguments)};return function(){return n.apply(this,arguments)}}function ii(e){let{win:t,methodName:i,data:n,id:r}=e;t.postMessage({methodName:i,data:n,id:r},"*")}function ni(e){const t=Object.values;if("function"===typeof t)return t(e);const i=[];for(const n in e)g(e,n)&&i.push(e[n]);return i}function ri(){return ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ri.apply(this,arguments)}function oi(){return oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},oi.apply(this,arguments)}function ai(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case Nm.BLUETOOTH:return 3;case Dm.CELL_2G:return.384;case Dm.CELL_3G:case Nm.CELLULAR:return 2;case Nm.WIMAX:return 37;case Nm.NONE:return 0;case Dm.ETHERNET:case Nm.ETHERNET:case Dm.WIFI:case Nm.WIFI:case Nm.MIXED:return 10;case Dm.UNKNOWN:case Nm.UNKNOWN:case Nm.OTHER:}return-1}function si(){const e={width:window.innerWidth,height:window.innerHeight},t=km(),i={win_width:Rm(e.width),win_height:Rm(e.height),pixel_ratio:Im(),bandwidth:ai()};return t&&(i.quirks=t),i}function li(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function di(e,t){void 0===t&&(t=1e6);const i=function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);let o;if(r<128?o=String.fromCharCode(r):r>127&&r<2048?(o=String.fromCharCode(r>>6|192),o+=String.fromCharCode(63&r|128)):(o=String.fromCharCode(r>>12|224),o+=String.fromCharCode(r>>6&63|128),o+=String.fromCharCode(63&r|128)),i.length+o.length>t)break;i+=o}return i}(e,3*t/4|0);return function(e){let t="",i=0;for(;i<e.length;){const n=e.charCodeAt(i++),r=e.charCodeAt(i++),o=e.charCodeAt(i++),a=n>>2,s=(3&n)<<4|r>>4;let l=(15&r)<<2|o>>6,d=63&o;isNaN(r)?l=d=64:isNaN(o)&&(d=64),t=t+Bm.charAt(a)+Bm.charAt(s)+Bm.charAt(l)+Bm.charAt(d)}return t}(i)}function ci(e,t){const i=window,n=i.document;if(t&&(r=function(e){return e.location.host}(i))&&r&&0!==r.length&&((e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1})(Lm,(e=>{return e===r||(i="."+e)===(t=r).substring(t.length-i.length);var t,i})))return t;var r;let o=ui(e,n);if("t\n"===o&&i.top!==i.self)try{o=ui(e,i.parent.document)}catch(h_){}return di(o,e)}function ui(e,t){const i=[];let n=0;i.push("t"+(t.title||"")),n+=i[0].length;for(let r=1;r<4&&n<e;r++){const e=t.getElementsByTagName("h"+r),o=e.length;for(let t=0;t<o;t++){const o=hi(e[t]);n+=o.length,i.push(""+r+o)}}return i.join("\n")+"\n"}function hi(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function pi(e){return Boolean(e.YA_TURBO_PAGES)}function mi(e,t){void 0===t&&(t=1e6);const i=function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);let o;if(r<128?o=String.fromCharCode(r):r>127&&r<2048?(o=String.fromCharCode(r>>6|192),o+=String.fromCharCode(63&r|128)):(o=String.fromCharCode(r>>12|224),o+=String.fromCharCode(r>>6&63|128),o+=String.fromCharCode(63&r|128)),i.length+o.length>t)break;i+=o}return i}(e,3*t/4|0);return function(e){let t="",i=0;for(;i<e.length;){const n=e.charCodeAt(i++),r=e.charCodeAt(i++),o=e.charCodeAt(i++),a=n>>2,s=(3&n)<<4|r>>4;let l=(15&r)<<2|o>>6,d=63&o;isNaN(r)?l=d=64:isNaN(o)&&(d=64),t=t+kh.charAt(a)+kh.charAt(s)+kh.charAt(l)+kh.charAt(d)}return t}(i)}function Ai(e){let t;try{t=JSON.stringify(e)}catch(h_){}return t}function vi(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function gi(e){void 0===e&&(e=window);let t="";const i=e.context,n=e.Ya;return vi(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():n&&n.Context&&n.Context.AdvManager&&n.Context.AdvManager.getSkipToken&&(t=n.Context.AdvManager.getSkipToken()),t}function _i(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return Mm()+e}function yi(e){return void 0===e&&(e=window),String(e.location)}function fi(e){return void 0===e&&(e=window),mi(((e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(h_){}const n=/(%[0-9A-Z]{2})+/g;let r;for(let o=0;o<i.length;o++){const e=i[o].split("="),a=e.slice(1).join("=");try{const i=e[0].replace(n,decodeURIComponent);if(a.replace(n,decodeURIComponent),t===i){r=decodeURIComponent(a);break}}catch(h_){return}}return r})(e.document,"_ym_uid")||"")}function Si(e){return void 0===e&&(e=window),e.location.hostname}function Ti(){return Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ti.apply(this,arguments)}function Ei(){return Ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ei.apply(this,arguments)}function bi(e,t){void 0===t&&(t="");const{params:i,bids:n,matchIdDirect:r=!1,reloadCounter:o}=e,a=Ei({},function(e){const t=e.win||window,i=void 0===e.isTurbo?pi(t):e.isTurbo,n=Ou(jm,(e=>e.test(t.location.hostname)));return(e=>{let{win:t,date:i=new Date,pr1:n,pr:r,testtag:o,isTurbo:a=pi(t),addsSsSkipToken:s=!1,layoutConfig:l=new Vm,cookies:d,loaderVer:c,bundleVer:u,adSessionId:h,location:p,extid_loader:m,extid_tag_loader:A}=e;l.set("req_no",(()=>{0;return zm++})()),l.set("ad_no",_i());const v=Ti({},(e=>{let{win:t,pr:i,date:n=new Date,pr1:r=Hm(),location:o,extid_loader:a,extid_tag_loader:s}=e;const l=vi(t)&&t.context&&t.context.sourceUrl||void 0,d=l||t.document.referrer;return{dl:l||o||yi(t),date:Fm(n),pd:n.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:r,pr:i,prr:d,pv:n.getHours(),pw:n.getDay(),extid_loader:void 0===a?fi(t):a,extid_tag_loader:void 0===s?Si(t):s}})({win:t,date:i,pr1:n,pr:r,location:p,extid_loader:m,extid_tag_loader:A}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:o?o.toString():"","is-turbo":Number(a),"skip-token":gi(),"ad-session-id":h||ih(),"layout-config":l.toString(),"enable-flat-highlight":1},d);s&&(v["ss-skip-token-length"]=20,v["allow-repeat-ads"]=0);return v})(Ei({},e,{win:t,isTurbo:i,addsSsSkipToken:n}))}(e),i||{},r?{"matchid-direct":1}:{},{"enable-page-options":65536});if(Id(Wm,(e=>{a[e]=void 0})),a.pk)try{a.pk=decodeURIComponent(a.pk)}catch(h_){}if(n){const e=jc(n,(e=>Ei({},e,{placement_id:e.placement_id?String(e.placement_id):void 0})));e.toJSON&&(e.toJSON=void 0),a.bids=mi(Ai(e)||"")}return a.grab=ci(2048-t.length),a.utf8="\u2713",o&&(a.adf_refresh=o),a}function Ci(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:n,ownerId:r,domain:o=Ym}=e;return t=n?"getBulk/v2":i?"getCodeTest":"prepareCode","https://"+o+"/"+r+"/"+t}(e);return{base:t,queryParams:bi(e,t)}}function wi(){const e=window;var t,i,n;"number"!==typeof e.pr&&(e.pr=(null==e||null==(t=e.Ya)?void 0:t.headerBidding)&&(null==e||null==(i=e.Ya)||null==(n=i.headerBidding)?void 0:n.pr)||Hm());return e.pr}function Pi(){return Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pi.apply(this,arguments)}function Oi(e,t){const i=uu(window);let n;try{const t=xc.loaderLoadedFromAnYandexRu?Nc+"/adfox":Rc+"/ads/adfox";n=function(e){const{base:t,queryParams:i}=Ci(e);return L(t,i)}(Pi({},e,{layoutConfig:new Vm,useXhr:!0,domain:t,pr:wi()}))}catch(o){throw new Od(o,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!li(n))throw new Od({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const r=Ne({url:n,options:t,ignoreAbd:!0,win:window});return i?i(r):r}async function Ii(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:n,__requestInfoForLogs:r={}}=e;const o=Oi(t,i);r.adFoxUrl=o;const a=Dh({secureMode:n,url:o})?Hp:zp;try{const e=await a({url:o,withCredentials:!0});if(r.responseText=e.responseText,r.responseHeaders=e.responseHeaders,200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=Ht(e),i=[];if(!d(t))throw new Od({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{errors:n,data:r}=t;if(Array.isArray(n)&&n.length>0){if(t.errors&&1===t.errors.length&&"204"===t.errors[0].status)throw new Od({code:"NO_AD_SECTION",details:{reason:"status-204"}});throw new Od({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}})}if(!Array.isArray(r))throw new Od({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const o=fu(r,((e,n)=>{if(!d(e)||!d(e.attributes))return i.push(new Od({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:n}})),!1;const{campaignId:r,vastBase64:o}=e.attributes;return"string"===typeof o&&o.length>0||"string"===typeof r&&r.length>0||(i.push(new Od({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:n}})),!1)}));if(0===o.length)throw new Od({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return o.length>1&&i.push(new Od({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:o[0].attributes,errors:i}}(e.responseText);return ei(i),t}catch(s){if(ae(s))throw s;throw new Od(s,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:o}})}}function ki(){return ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ki.apply(this,arguments)}function Di(){return Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Di.apply(this,arguments)}function Ni(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=fu(i,(e=>"video"===Ye(e)||be(e.url)))),i}function Ri(e,t){const i=Ni(e,t);return jc(i,(e=>"video"!==Ye(e)?e:Jm(e)))}function Vi(e){let{secureMode:t,vastAd:i}=e;const n=Ri(i.mediaFiles,t);return!!n.length&&Xh(n,(e=>"video"===Ye(e)))}function Li(){return Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Li.apply(this,arguments)}function Bi(){return Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bi.apply(this,arguments)}function xi(){return xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xi.apply(this,arguments)}function Mi(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function Ui(e){var t;const{adParametersObject:i,description:n}=e;if(!d(i))throw new Od({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:r,interactiveElements:o,mediaFiles:a,adTitle:s}=i,l=Mi(i,$m),c=r&&r.isVisible&&f(r.text),u=Array.isArray(o)&&o.length>0,h=!(!c&&!u&&"DO_NOT_LOAD"===Eu.getFlagValueAndActivateTestId("IV_CONCEALED_ANIMATION_LOADING_POLICY"));if(s){const{errors:t,params:i}=fm(s);null!=t&&t.length?Cu.error({error:new Od({code:"YANDEX_VAST_INCORRECT_AD_TITLE_EXTENSION_AD_PARAMETERS",details:{errors:t}})}):(Cu.event({name:"UsingAdTitleExtensionInAdParametersVast",probability:ru,data:void 0}),e.adTitleParameters=i)}const p=xi({},l,{adParameters:{description:n,tickerData:r,interactiveElements:o},mediaFiles:h?[...a,Yh]:a}),{clickUrlData:m}=e,A=null!=(t=m.serializablePlaybackParametersClickUrl)?t:m.vastClickUrl,v=xi({},e.serializablePlaybackParameters,{clickThroughUrl:A});return xi({},e,{mediaFiles:[Kp],adParametersObject:p,adParameters:JSON.stringify(p),originallyConvertedFromVast:e,serializablePlaybackParameters:v})}function Fi(e){const{adParametersObject:t}=e;if(!d(t))throw new Od({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:n,HAS_AGE:r,HAS_LEGAL:o,LEGAL_TEXT:a}=t,s=xi({},Mi(t,eA),{adParameters:xi({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:n}:{},"HAS_AGE"in t?{HAS_AGE:r}:{},"HAS_LEGAL"in t?{HAS_LEGAL:o}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:a}:{}),mediaFiles:[Zm]});return xi({},e,{mediaFiles:[Kp],adParametersObject:s,adParameters:JSON.stringify(s),originallyConvertedFromVast:e})}function Hi(e){const{adParametersObject:t}=e;if(!d(t))throw new Od({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});let i;if(!(Dd(t.mediaFiles)&&t.mediaFiles.length>0))throw new Od({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:e}});i=t.mediaFiles;const n=xi({},t,{mediaFiles:i,adParameters:xi({},t),adCreativeConversionType:"theme-empty"});return xi({},e,{mediaFiles:[Kp],adParametersObject:n,adParameters:JSON.stringify(n),originallyConvertedFromVast:e})}function zi(e){let{secureMode:t,vastAd:i}=e;const{trackingEvents:n}=i,r=Ni(i.mediaFiles,t);if(0===r.length)throw new Od({code:"CANNOT_CONVERT_VIDEO_VAST_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:i}});const o={adParameters:{},interactiveElements:[],mediaFiles:r,tickerData:{}},a=p(o),s=i.clickUrlData.vastClickUrl;return xi({},i,{mediaFiles:[Kp],adParametersObject:o,adParameters:a,serializablePlaybackParameters:{clickThroughUrl:s,trackingEvents:n,controlsSettings:{controlsVisibility:{}},lang:"ru",packshotSettings:{},contentAfterAd:Zp},clickUrlData:xi({},i.clickUrlData,{serializablePlaybackParametersClickUrl:s}),originallyConvertedFromVast:i})}function ji(e){const{adParametersObject:t}=e;if(!d(t))throw new Od({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=e.clickUrlData.tgaOfferClickUrl,n=xi({},e.adParametersObject,{adParameters:e.adParametersObject});return xi({},e,{mediaFiles:[Kp],adParametersObject:n,adParameters:JSON.stringify(n),serializablePlaybackParameters:xi({clickThroughUrl:i},t.playbackParameters),clickUrlData:xi({},e.clickUrlData,{serializablePlaybackParametersClickUrl:i})})}function Wi(e){var t;const{adParametersObject:i}=e,{vastClickUrl:n}=e.clickUrlData;if(!d(i))throw new Od({code:"CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const r="TRUE"===Eu.getFlagValueAndActivateTestId("SHOULD_NOT_USE_SURVEY_CLICK_THROUGH_URL_AS_CLICK_TRACKING"),o=null!=(t=i.trackingEvents)?t:{};if(!r){const e=Dd(o.clickThrough)?o.clickThrough:[];o.clickThrough=[...e,n],Cu.event({name:"UseSurveyClickThroughUrlAsClickTracking",data:{adParametersObject:i}})}const a=xi({},i,{mediaFiles:[Qm],adParameters:xi({},i),trackingEvents:o});return xi({},e,{mediaFiles:[Kp],adParametersObject:a,adParameters:JSON.stringify(a)})}function Yi(e){let{vastAd:t,secureMode:i}=e;if(void 0===t.mediaFiles[0])return{vastAd:t,reason:"ConvertNothingWithoutMediaFile"};if(Vi({secureMode:i,vastAd:t}))return{vastAd:zi({secureMode:i,vastAd:t}),reason:"ConvertVideoVastIntoAdCreative"};let n;try{n=tt(t.adParametersObject),Cu.values({name:"CreativeDetectedByParameters",sensors:{method:n.detectionMethod,source:"vastLoader"}})}catch(d){throw Cu.event({name:"PrepareYandexVastDetectionError",data:d,probability:1}),d}const r="motion"===n.adFormatType,o="themeEmpty"===n.adFormatType,a="survey"===n.adFormatType,s="interactiveViewer"===n.adFormatType,l="clickableVideo"===n.adFormatType;if(n.isOldVastFormat){if(l)return{vastAd:ji(t),reason:"ConvertClickableOnlyVideo"};if(o)return{vastAd:Hi(t),reason:"ConvertVideoBannerThemeEmpty"};if(s)return{vastAd:Ui(t),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(r)return{vastAd:Fi(t),reason:"ConvertMotionVpaidIntoAdCreative"};if(a)return{vastAd:Wi(t),reason:"ConvertVideoBannerSurveyAdCreative"}}return{vastAd:t,reason:"ConvertNothingForNonYandex"}}function Gi(e){const{adParametersObject:t}=e;return!!t&&Qe(t.theme,t)}function Xi(e){const t=Km(e);return x(ip,t)}function Ki(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&function(e){let{url:t}=e;return t===Gh}(i)}function qi(e){var t;const{mediaFiles:i,adParametersObject:n}=e;if(!d(null==n||null==(t=n.adParameters)?void 0:t.pythia))return!1;const[r]=i;return void 0!==r&&Ki(e)}function Ji(e){let{mediaFiles:t,adParametersObject:i}=e;if((null==i?void 0:i.theme)===np)return!0;const[n]=t;return void 0!==n&&function(e){const t=Km(e);return x(tA,t)}(n.url)}function Zi(e){const{adParametersObject:t}=e;return"video-banner_theme_empty"===(null==t?void 0:t.theme)&&iA(e)}function Qi(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function $i(e){if(!d(e))return;const t={},i=["string","number","boolean"];for(const n in e)e.hasOwnProperty(n)&&i.indexOf(typeof e[n])>=0&&(t[n]=e[n]);return t}function en(){return en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},en.apply(this,arguments)}function tn(){return tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},tn.apply(this,arguments)}function nn(e){const{adTagURI:t,sessionId:i,repeatNumber:n,adConfig:r,adPlacementOptions:o,win:a}=e;return h(uu(a))?t:function(e){const{adConfig:t,win:i,adTagURI:n,adPlacementOptions:r,repeatNumber:o,sessionId:a}=e;return be(n)?Ne({url:L(n,oA({adConfig:t,win:i,repeatNumber:o,sessionId:a})),options:r,win:window}):n}({adConfig:r,adTagURI:t,adPlacementOptions:o,win:a,repeatNumber:n,sessionId:i})}function rn(e){const{text:t,textColor:i,isVisible:n}=e||dA;return{text:f(t)?t:dA.text,textColor:i||dA.textColor,isVisible:"boolean"===typeof n?n:dA.isVisible}}function on(e,t){const i=[],n=[];return Id(e,((r,o)=>{t(r,o,e)?i.push(r):n.push(r)})),[i,n]}function an(e){const t=[];if(!Array.isArray(e))throw new Od({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new Od({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=fu(e,$e);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new Od({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const[n,r]=on(i,(e=>e.type===Lh));if(n.length>1)throw new Od({code:"AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});return{errorCodes:t,videoMediaFiles:r,animationMediaFile:n[0]}}function sn(e){const t=[];let i={};if(d(e))i=e;else{if("string"!==typeof e)throw new Od({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(p){throw new Od(p,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}}if(!d(i))throw new Od({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:n,adParameters:r,interactiveElements:o=[],mediaFiles:a}=i,{errorCodes:s,animationMediaFile:l,videoMediaFiles:c}=an(a),u=jc(s,(t=>new Od({code:t,details:{adParametersString:JSON.stringify(e)}})));return t.push(...u),{raw:i,parsed:{tickerData:rn(n),animationMediaFile:l,videoMediaFiles:c,adParameters:(h=r,"string"===typeof h?h:d(h)?Ai(h):void 0),interactiveElements:o},errors:t};var h}function ln(e){for(const{width:t,height:i}of e){const e=Number(t),n=Number(i);if(Pe(e)&&Pe(n))return{width:e,height:n}}}function dn(e,t){return yd(Ri(e,t),(e=>"js"===Ye(e)))}function cn(e,t){var i,n,r;return null==(i=t.ya)||null==(n=i.videoAd)||null==(r=n.loadedModules)?void 0:r[e]}function un(e){return function(e){const{src:t,win:i,onBeforeLoad:n=A}=e,r=new Od(new Error,{});let o=A;return{promise:new Promise(((e,a)=>{const s=i.document.createElement("script");let l=!1;o=()=>{l=!0,m(s)};const d=()=>{l||e()},c=e=>{l||(a(new Od(r,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),o())};s.type="text/javascript",s.async=!0,s.onload=d,s.onerror=c,s.src=t,s.charset=pA,n(s),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(s)})),teardown:o}}(e)}function hn(){return hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hn.apply(this,arguments)}function pn(){return pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},pn.apply(this,arguments)}function mn(e){const{src:t,win:i}=e,n=function(e,t){const{hostname:i}=D(e),n=uu(t);return n?-1===Bc.indexOf(i)?e:n(e):e}(t,i);return un(pn({},mA,e,{src:n}))}function An(e){var t;let{moduleName:i,version:n=Jh,onSuccess:r,onError:o,win:a,timeout:s}=e;const l=null!=(t=xc.hardcodedParams.adsdkecmaver)?t:hA;let d="loading";const c=Date.now(),u=v(Se((e=>{d="success";const t=Date.now()-c;Cu.values({name:"ModuleLoaded",data:{loaderVersion:Jd,bundleVersion:n},values:{timeSpent:t},sensors:{bundleName:i},dailySensors:{ecmaVersion:l}}),r(e)}),"LOAD_MODULE_CALLBACK_ERROR")),p=v(Se((e=>{d="error",Cu.error({error:e}),o(e)}),"LOAD_MODULE_CALLBACK_ERROR"));if(cA(a))return Cu.event({name:"LoadModuleBrokeInIE",data:void 0,probability:1}),p(new Od({code:"LOAD_MODULE_REJECTED_IN_IE",details:{moduleName:i,version:n,timeout:s}})),A;const m=cn(i,a);if(m)return u(m),A;const g=(e=>{let{bundleName:t,win:i,ecmaVersion:n,version:r}=e;const o=dp[n],a=uu(i),s=(e=>Fh[e]+".bundle.js")(t),l=""+et(r)+o+"/"+s;return h(a)?a(l):l})({version:n,bundleName:i,win:a,ecmaVersion:l});const{promise:_,teardown:y}=(e=>{let{src:t,win:i}=e;return mn({src:t,onBeforeLoad:AA,win:i})})({src:g,win:a}),{promise:f,clear:S}=Nh(s,window),T=Z({element:a,eventName:"unload",listener:()=>{p(new Od({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:i,version:n,timeout:s}}))}}),E=()=>{T(),S()};return f.then((()=>{p(new Od({code:"LOAD_MODULE_TIMEOUT",details:{moduleUrl:g,moduleName:i,version:n,timeout:s}}))})),_.then((()=>{E();const e=cn(i,a);e?u(e):p(new Od({code:"CANNOT_INIT_MODULE",details:{moduleUrl:g,moduleName:i,version:n}}))})).catch((e=>{E(),p(new Od(e,{code:"CANNOT_LOAD_MODULE",details:{moduleUrl:g,moduleName:i,version:n}}))})),()=>{E(),y(),"loading"===d&&Cu.event({name:"LoadModuleTeardownCalled",data:void 0,probability:1})}}function vn(){return vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vn.apply(this,arguments)}function gn(){return gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gn.apply(this,arguments)}function _n(e){let{animationMediaFile:t,win:i}=e;const{url:n}=t,r=Wh[n];if(n===em)return{teardown:A,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t,adParametersString:i},duration:n}=e;const r=new _A;let o;return{startAd(e){if(!f(i))throw new Od({code:"NO_AIM_AD_CREATIVE_INVALID_PARAMETERS",details:{adParametersString:i}});e.dispatchAdStarted();const{filterReasons:a}=JSON.parse(i);o=t.ownerDocument.createElement("div"),rt(o,yA);const s=t.ownerDocument.createElement("h2");s.textContent="\u041d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e",rt(s,fA),o.appendChild(s);const l=t.ownerDocument.createElement("p");if(l.textContent="\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435, \u043d\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0435",o.appendChild(l),a&&a.length){l.textContent=l.textContent+". \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u0440\u0435\u0430\u0442\u0438\u0432\u044b \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u044b:";const e=t.ownerDocument.createElement("ul");rt(e,SA),Id(a,(i=>{let{id:n,description:r}=i;const o=t.ownerDocument.createElement("li");o.textContent="#"+n+": "+r,e.appendChild(o)})),o.appendChild(e)}const d=t.ownerDocument.createElement("p");d.textContent="\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0438\u0442\u0435 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b.",o.appendChild(d);const c=t.ownerDocument.createElement("p");return c.textContent="VSID: "+Mc,o.appendChild(c),t.append(o),Cu.event({name:"NoAimScreenShowStarted",data:void 0,probability:1}),new Promise((e=>{r.start(),r.addCallback(n*gA,(()=>{r.destroy(),Cu.event({name:"NoAimScreenShowCompleted",data:void 0,probability:1}),e({reason:"complete"})}))}))},stopAd(){r.destroy(),Cu.event({name:"NoAimScreenShowStopped",data:void 0,probability:1}),m(o)},pauseAd(){r.stop()},resumeAd(){r.start()},getAdRemainingTime:()=>Math.max(n-r.getTime()/gA,0),getAdDuration:()=>n}}({adCreativeInitParameters:e,duration:15});return{promise:Promise.resolve(t),teardown:A}}))};if(n===EA)return{teardown:A,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t}}=e;const i=new _A;let n;return{startAd:e=>(e.dispatchAdStarted(),n=t.ownerDocument.createElement("div"),rt(n,TA),n.textContent="VAS test AdCreative STARTED",t.appendChild(n),new Promise((e=>{i.start(),i.addCallback(15e3,(()=>{i.destroy(),e({reason:"complete"})}))}))),stopAd(){i.destroy(),m(n)},pauseAd(){n.textContent="VAS test AdCreative PAUSED",i.stop()},resumeAd(){n.textContent="VAS test AdCreative PLAYING",i.start()},getAdRemainingTime:()=>Math.max(15-i.getTime()/gA,0),getAdDuration:()=>15}}({adCreativeInitParameters:e});return{promise:Promise.resolve(t),teardown:A}}))};if(void 0!==r){0;let e=A;const t=new Promise(((t,n)=>{e=An({moduleName:r,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{n(e)},win:i,timeout:3e4})}));return{teardown:e,promise:t}}const{promise:o,teardown:a}=mn({src:n,win:i});return{promise:o.then((()=>i.initAdCreative)),teardown:a}}function yn(e){return Wt(e.height)&&Wt(e.width)}function fn(e,t){return function(e,t,i){if(e.length<1)return;let[n]=e,r=t(n);for(let o=1;o<e.length;o++){const a=e[o],s=t(a);i(s,r)<0&&(n=a,r=s)}return n}(e,t,((e,t)=>e-t))}function Sn(e,t){let{height:i}=t;const n=fu(e,yn);return void 0===i?n[0]:fn(n,(e=>{let{height:t}=e;return Math.abs(t-i)}))}function Tn(e,t,i){return e>i?i:e<t?t:e}function En(){return En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},En.apply(this,arguments)}function bn(e){let t;try{t=e.devicePixelRatio}catch(h_){}return Pe(t)?t:1}function Cn(e){if(!f(e))return;return e.split(",")[0].trim()}function wn(e){return"vp8"===e||"vp08"===e||0===e.indexOf("vp08.")||0===e.indexOf("vp8.")}function Pn(e){return"vp9"===e||"vp09"===e||0===e.indexOf("vp9.")||0===e.indexOf("vp09.")}function On(e){let{mediaFile:t,abFlags:{disableVp8:i,disableVp9:n,enableH265:r,disable144p:o}}=e;const a=Cn(t.codec);if(f(a)){if(o&&144===function(e){let{width:t,height:i}=e;if(Pe(t)&&Pe(i))return Math.min(t,i)}(t))return"quality144pIsDisabled";if(!function(e){return 0===e.indexOf("avc1.")}(a))return wn(a)?i?"vp8CodecIsDisabled":void 0:function(e){return 0===e.indexOf("hev1.")}(a)||function(e){return 0===e.indexOf("hvc1.")}(a)?r?void 0:"h265CodecIsDisabled":Pn(a)?n?"vp9CodecIsDisabled":void 0:"unsupportedVideoCodec"}}function In(e){let{mediaFile:t,canPlayType:i}=e;const{type:n}=t,r=(e=>{switch(e){case"h264":case"hevc":case"mpeg4":return QA(e),"avc1.4D401E,mp4a.40.2";default:return e}})(t.codec);if(!l(n))return"noType";if(n===qA&&dd)return"cannotPlayWebmDueToMacOSLimitations";if(!i(JA({type:n,codec:r})))return"cannotPlay";const o=On({mediaFile:{codec:r,width:t.width,height:t.height},abFlags:{disableVp8:"TRUE"===Eu.getFlagValueAndActivateTestId("DISABLE_VP8_CODECS"),enableH265:!0===KA,disableVp9:XA,disable144p:!0===GA}});return o||void 0}function kn(e){let{mediaFileSize:t,slotSize:i}=e;if(!t)return{reason:"unknownVideoContentSize",value:Lu.videoPixelRatio};let{width:n,height:r}=t;if(l(n)&&(n=Number(n),$A()),l(r)&&(r=Number(r),$A()),!_e(n)||!_e(r))return{reason:"hasIncorrectWidthAndOrHeight",value:1e3};if(n<0||r<0)return{reason:"incorrect",value:Lu.videoPixelRatio};if(0===r||0===i.height)return{reason:"incorrect",value:Lu.videoPixelRatio};if(0===n||0===i.width)return{reason:"incorrect",value:Lu.videoPixelRatio};const o=n/r;return{reason:"normal",value:i.width/i.height>o?r/i.height:n/i.width}}function Dn(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&i(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&i(t.prototype.appendBuffer)&&i(t.prototype.remove))}(e)?t:void 0}function Nn(e){let{type:t}=e;return rv||ov?!rv&&ov?"noMse":rv&&!ov?"noFetch":f(t)?-1===t.toLowerCase().indexOf(qA)?"isNotWebm":nv?void 0:"cannotPlayWebmWithMse":"noType":"noMseAndFetch"}function Rn(e){return!!f(e)&&sv.indexOf(e.toLowerCase())>-1}function Vn(e,t){if(e<=t)return 0;if(t>=dv)return 1;return(Tn(e,t,dv)-t)/(dv-t)}function Ln(e,t){const{value:i,reason:n}=kn({mediaFileSize:e,slotSize:t.container}),r=function(e){let{videoPixelRatio:t,opts:{perfectVpr:i}}=e;return t-i}({videoPixelRatio:i,opts:t}),o=Math.abs(r),a=function(e){let{bitrate:t,desiredBitrate:i}=e;if(!Pe(t))return 1;if(Pe(i))return Vn(t,i);const n=navigator;if(d(n)&&d(n.connection)){const{downlink:e}=n.connection;if(Pe(e))return Vn(t,1e3*e)}}({bitrate:e.bitrate,desiredBitrate:t.desiredBitrate}),s=function(e){let{type:t,mediaFileTypePriorities:{webm:i,mp4:n,hls:r,unknown:o,unset:a}}=e;if(!f(t))return a;const s=t.toLowerCase();return s===qA?i:"video/mp4"===s?n:Rn(t)?r:o}({type:e.type,mediaFileTypePriorities:t.mediaFileTypePriorities}),l=function(e,t){return t.isVideoADB?void 0===Nn(e)?0:1:0}(e,t);return{videoPixelRatio:i,videoPixelRatioReason:n,videoPixelRatioSolution:o,mediaFileTypePrioritySolution:s,adbCompatibilitySolution:l,bitrateCappingSolution:a}}function Bn(e){if(!function(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}(e))return"invalidObject";const{type:t,codec:i,url:n,maxBitrate:r,minBitrate:o,vmafAvg:a,hasAudio:s}=e;let{width:d,height:c,bitrate:u}=e;if(d=null===d?void 0:d,c=null===c?void 0:c,u=null===u?void 0:u,void 0===u||Pe(u)||cv(e),void 0===a||Pe(a)||mv(e),void 0===i||f(i)||uv(e),void 0===d&&void 0===c||Pe(d)&&Pe(c)||pv(e),(void 0!==o||void 0!==r)&&(!Pe(o)||!Pe(r)||o>=r))return"invalidMinMaxBitrate";if("string"!==typeof n)return"invalidUrl";if(!n.trim())return"emptyUrl";if(void 0!==t){if(!l(t))return"invalidType";0===t.trim().length&&Av(e)}return void 0!==s&&"boolean"!==typeof s&&hv(e),{type:t,codec:i,url:n,width:d,height:c,bitrate:u,maxBitrate:r,minBitrate:o,vmafAvg:a,hasAudio:s}}function xn(){return xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xn.apply(this,arguments)}function Mn(e,t,i){const n=Date.now(),r=[],o=[],a=[];for(const y of e){const e=Bn(y);if(l(e))r.push({mediaFile:y,reason:e});else{const i=e,n=In({mediaFile:i,canPlayType:t.canPlayType});l(n)?o.push({mediaFile:i,reason:n}):a.push(i)}}const s=jc(a,(e=>Ln(e,t))),d=Pe(t.desiredBitrate)?"desiredBitrate":"videoPixelRatio",c=jc(s,(e=>{let{videoPixelRatioSolution:t,mediaFileTypePrioritySolution:i,adbCompatibilitySolution:n,bitrateCappingSolution:r}=e;return t+i+n+(void 0===r?0:r*gv)})),u=jc(c,((e,t)=>xn({},a[t],s[t],{prioritySolution:e}))),h=fn(u,(e=>{let{prioritySolution:t}=e;return t}));let p,m;var A;(Uc("prioritisedMediaFiles=["+JSON.stringify(u)+"]"),Uc("invalidMediaFiles=["+JSON.stringify(r)+"]"),Uc("notPlayableMediaFiles=["+JSON.stringify(o)+"]"),h)&&(p=Cn(h.codec),m=null==(A=h.type)?void 0:A.split("/")[1]);const{adBreak:v,adPodId:g,initiator:_}=i;return Cu.values({name:"PrioritiseMediaFiles",data:{adBreak:v,adPodId:g,initiator:_,input:xn({},t,{dpr:bn(window)}),output:{invalidMediaFiles:Gp(r),notPlayableMediaFiles:Gp(o),mediaFiles:Gp(u),mediaFile:h?xn({},h):void 0,methodType:d}},values:{timeSpent:Date.now()-n},sensors:{initiator:_,method:d,type:x(["webm","mp4","m3u8"],m)?m:"unknown",codec:x(["vp8","vp9","avc","hvc"],p)?p:"unknown"},probability:1}),{prioritisedMediaFile:h,invalidMediaFiles:r,notPlayableMediaFiles:o,playableMediaFiles:u}}function Un(e){let{scope:t,errorType:i,error:n,details:r}=e;return new Od(n,{code:_v(t,i),details:r})}function Fn(e,t){const i=[];i.push(Z({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{event:e})}})),i.push(Z({element:e,eventName:"error",listener:(e,i,n,r,o)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:n,column:r,error:o,filename:null==e?void 0:e.filename,message:null==e?void 0:e.message})}})),i.push(Z({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:n,documentURI:r,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:n,documentURI:r,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const n=new yv.CSPLogger({project:"adsdk",from:JSON.stringify({vsid:Mc,version:Jd})});n.subscribe(e.document),i.push((()=>{n.unsubscribe(e.document)}));const r=new fv({win:e,onReport:e=>{const{reportSourceEvent:i,reports:n,records:r}=e,o=new Error;0===n.length&&0===r.length&&t(o,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),Id(ce({reports:n,records:r}),(e=>{let[n,r]=e;return Id(r,(e=>{t(o,function(e){if(!d(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!f(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(d(i)&&f(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:n,report:e})}))}))}});return i.push((()=>{r.destroy()})),()=>X(i)}function Hn(e,t){return Fn(e,((e,i,n)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=n;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(Sv)>-1)return}}t(e,i,n)}))}function zn(e){return 0===bv.length&&(Ev=window.setInterval((()=>{X(bv)}),Tv)),bv.push(e),()=>{const t=bv.indexOf(e);t>-1&&bv.splice(t,1),0===bv.length&&window.clearInterval(Ev)}}function jn(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&at(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;m(i)}function Wn(){const e=jn(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}function Yn(){return Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yn.apply(this,arguments)}function Gn(e){if(xc.isDebugEnabled&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.error(e,...i)}}function Xn(e){(new Image).src=e}function Kn(){return Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Kn.apply(this,arguments)}function qn(){return qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qn.apply(this,arguments)}function Jn(){return Jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jn.apply(this,arguments)}function Zn(e){return[...e].sort(((e,t)=>{const i=e.vastAd.sequence,n=t.vastAd.sequence;return i===n?0:-1===i?1:-1===n?-1:i-n}))}function Qn(e){return function(e){return void 0===e?"Inline":Te(e)?"AdFox":be(e)?"Yandex":""}(e)+"WrapperVASTLoaded"}function $n(e){const{adParametersObject:t}=e;return Ze(null==t?void 0:t.theme)}function er(e){return"number"===typeof e.repeatNumber}function tr(){return tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},tr.apply(this,arguments)}function ir(e){var t;let{adConfig:i,adBreak:n,adPlacementOptions:r,win:o}=e;const a=n.adFoxParameters||i.adFoxParameters;var s;if(a)return async function(e){return new Gm(e).loadVastPromise}({adConfig:tr({},i,{adFoxParameters:a,wrapperMaxCount:null!=(s=i.wrapperMaxCount)?s:3}),adBreakType:n.adType,adPlacementOptions:r,win:o});const{loadHarmlessVastCallback:l}=i,d=i.hasOwnProperty("vast")?i.vast:void 0,c=n.inlineVast,u=xc.isDebugEnabled?(()=>{if(!xc.isDebugEnabled)return;const e=Mv();if(null==e||!e.getVast)return;const t=e.getVast();return Cu.event({name:"LoadInlineTestUtilsVast",data:{vast:t},probability:1}),t})():void 0,h=null!=(t=null!=u?u:d)?t:c;if(h)return wm({xmlString:h,loadParameters:je({adConfig:i,adBreakType:n.adType,remainingLoadWrapperVastCount:3,isAdFox:!1,adPlacementOptions:r}),vastUrl:void 0}).then((e=>(l&&0===e.children.length&&l({adPods:jc(e.ads,(e=>{var t;return{clickThroughUrl:null!=(t=e.clickUrlData.vastClickUrl)?t:""}}))}),e)));const p=i.vastUrl?i.vastUrl:nn({adConfig:i,adTagURI:n.adTagURI,sessionId:n.sessionId,repeatNumber:er(n)?n.repeatNumber:void 0,adPlacementOptions:r,win:o});return bm({url:p,loadParameters:je({adConfig:i,adBreakType:n.adType,remainingLoadWrapperVastCount:3,isAdFox:!1,url:p,adPlacementOptions:r})})}async function nr(e){const{adConfig:t,adBreak:i}=e;let n;try{n=await ir(e)}catch(d){throw ae(d)||(d.details||(d.details={}),d.details.adConfig=t),Ve(d),d}const r=[];for(const c of n.ads)try{var o;const e=c.mediaFiles[0],i=null!=(o=null==e?void 0:e.url)?o:"",n={interactiveViewerCreativeSrc:(a=i,Km(a)===qh),motionCreativeSrc:Xi(i),themeEmpty:Zi(c),clickableVideo:Gi(c),survey:Ji(c),surveyAdCreative:qi(c),videoVastAd:Vi({secureMode:t.secureMode,vastAd:c}),isOldCpcVpaidVastAd:$n(c)},s=Ou(ni(n),(e=>e));if(Boolean(e)&&s){const{vastAd:e,reason:i}=Yi({secureMode:t.secureMode,vastAd:c});Cu.values({name:i,data:{next:e,yandexVastCriteria:n},sensors:{source:"vastLoader"}}),r.push(e)}else r.push(c)}catch(d){Cu.error({error:d})}var a;if(n.children.length>0){const e=rr(n);Cu.event({name:Qn(n.url),data:e,probability:1})}const s=jc(r,(e=>(e.vast=n,new xv(i,e,t)))),l=Zn(s);if(0===l.length)throw new Od({code:"NO_AD_SECTION",details:{reason:"no-media-ad"}});if(fu(l,(e=>e.hasMediaFiles())).length>0)return{mediaAds:l,vast:n};if(function(e){return Ou(e,(e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length))}(l)){const e=Xm(jc(s,(e=>e.vastAd.mediaFiles)));throw new Od({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new Od({code:"NO_AD_TO_DISPLAY",details:void 0})}function rr(e){return{children:jc(e.children,(e=>rr(e))),url:e.url,xmlString:e.xmlString}}function or(e,t){return fu(e,(e=>e.adType===t))}function ar(e,t){const i=function(e,t){const i={};return ot(e).forEach((n=>{i[n]=t(e[n],n)})),i}(t,((t,i)=>e.style[i]));return rt(e,t),ie((()=>{rt(e,i)}))}function sr(e){const t=e.getRootNode;if(i(t))return t.call(e);let n=e;for(;n.parentNode;)n=n.parentNode;return n}function lr(e){return!!e&&"ShadowRoot"===rd(e)}function dr(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=sr(i);if(!lr(e)||!Uv(e.host))return!1;i=e.host}return!1}function cr(){return cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cr.apply(this,arguments)}function ur(){return ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ur.apply(this,arguments)}function hr(e,t,i){const n=()=>jc(e,(e=>e.getValue()));let r=t(...n());i(r);const o=()=>{const e=t(...n());r!==e&&(r=e,i(e))},a=jc(e,(e=>e.add(o)));return()=>{X(a)}}function pr(e,t){if(!t)return;if(!function(e){return x(dg,e)}(e))return;const i=_(t);for(const n of i){const t=cg[n][e];Cu.event({name:t,data:void 0})}}function mr(e,t){let{width:i,height:n}=e;const r=jc([i,n],(e=>Math.round(e))),o=Math.min(...r),a=Math.max(...r);return t?o>=160&&a*o>=48e3:o>=180&&a*o>=57600}function Ar(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||!h(t.querySelector))&&t.querySelector(":hover")===e}(e);i&&t(!0);const n=Z({element:e,eventName:"mouseenter",listener:()=>{i||(i=!0,t(!0))}}),r=Z({element:e,eventName:"mouseleave",listener:()=>{i&&(i=!1,t(!1))}});return()=>{n(),r()}}function vr(){return vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vr.apply(this,arguments)}function gr(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return fu(gg,(e=>{let{enabled:i}=e;return i in t}))}(e);if(i.length>0)return i[0];const n=function(e,t){var i,n;return void 0===e&&(e=window),void 0===t&&(t=null!=(i=null==(n=e.HTMLVideoElement)?void 0:n.prototype)?i:{}),fu(gg,(e=>{let{enabled:i}=e;return i in t}))}(e,t);return n.length>0?n[0]:void 0}function _r(e,t){const i=gr(e,t);if(!i)return null;let n=e.document[i.element];return t&&t[i.element]&&(n=t),n||null}function yr(e,t){const i=_r(e);return!!i&&i.contains(t)}function fr(e){const{videoWidth:t,videoHeight:i}=e;if(Pe(t)&&Pe(i))return{width:t,height:i}}function Sr(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!_e(e.buffered.length)||!h(e.buffered.start)||!h(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=jc(e,(e=>{let{start:t,end:i}=e;return{start:t,end:i}})).sort(((e,t)=>e.start-t.start)),i=[t[0]];for(let n=1;n<t.length;n++){const e=t[n],r=i[i.length-1];r.end<e.start?i.push(e):r.end<e.end&&(r.end=e.end)}return i}(t)}function Tr(e){let{win:t,slotSize:i,slotVisibilityRatio:n,adPodId:r,videoNode:o,bufferingTime:a,adBreakType:s,adFormatType:l,productType:d}=e;const c=function(e){void 0===e&&(e=window);if(void 0===e.screen)return vg;const{width:t=vg.width,height:i=vg.height}=e.screen;return{width:t,height:i}}(t),u=c.width*c.height,h=i.width*i.height,p=0===u?0:h/u,m=bn(t),A=function(e){var t;void 0===e&&(e=window);const{navigator:i={}}=null!=(t=e)?t:{},{connection:n={}}=i;if("number"===typeof n.downlink)return n.downlink;if("number"===typeof n.downlinkMax)return n.downlinkMax;const r=n.type;if("string"===typeof r||"number"===typeof r)switch(r){case"BLUETOOTH":return 3;case fg:return.384;case Sg:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case _g:case"ETHERNET":case yg:case"WIFI":case"MIXED":return 10}return-1}(t),v=o?fr(o):void 0,g=function(e){let{slotSize:t,videoContentSize:i}=e;const n=void 0===i?t.width/t.height:i.width/i.height,r=t.width/t.height>n,o=r?t.height*n:t.width/n,a=r?t.height:t.width;return{adjacentSize:o,innerSize:a,extraHorizontalSpace:r,width:r?o:a,height:r?a:o}}({slotSize:i,videoContentSize:v});let _=Lu.videoFramesInfo,y=Lu.videoSrc,f=Lu.videoCurrentSrc,S=Lu.videoMuted,T=Lu.videoVolume,E=Lu.currentTime,b=Lu.bufferingTimeRatio,C=Lu.remainingBufferedTime,w=Lu.isFullscreen;o&&(_=Ie(o),y=o.src,f=o.currentSrc,S=o.muted,T=o.volume,E=o.currentTime,C=Tg(o),_e(E)&&_e(a)&&a+E>0&&(b=a/(a+E)),w=yr(t,o));const{value:P}=kn({mediaFileSize:v,slotSize:i});let O=Lu.videoToDevicePixelRatio;return Pe(P)&&(O=P/m),{visibility:n,size:i,adPodId:r,relativeSizeRatio:p,screenSize:c,devicePixelRatio:m,downlink:A,videoContentSize:v,videoAvatarSize:g,videoPixelRatio:P,videoToDevicePixelRatio:O,videoFramesInfo:_,videoSrc:y,videoCurrentSrc:f===y?void 0:f,videoMuted:S,videoVolume:T,bufferingTime:a,currentTime:E,bufferingTimeRatio:b,remainingBufferedTime:C,adBreakType:s,adFormatType:l,isFullscreen:w,productType:d}}function Er(e){return function(e,t){let i=e;return Id(ce(t),(n=>{let[r,o]=n;if(void 0===o)return;const a="["+r+"]";if(o!==a)for(;i.indexOf(a)>-1;)Cu.event({name:"ReplaceVastMacro",data:{macroName:r,macroValue:o,stringToReplace:e,macros:t}}),i=i.replace(a,o)})),i}(e,Cg)}function br(e){let{trackingUrls:t,options:i,sendBeaconParams:n}=e;if(!Array.isArray(t))return;const r=fu(t,li),o=jc(r,Er),a=jc(o,(e=>Ne({url:e,options:i,win:window})));Id(a,(e=>we(e,n)))}function Cr(e){return Id(_(ng),(t=>{const i=ng[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(n){Cu.error({error:new Od({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else Cu.error({error:new Od({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})})),Id(_(rg),(t=>{const i=rg[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:n=>{if("function"===typeof e[i])try{return e[i](n)}catch(r){Cu.error({error:new Od({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:n}})})}else Cu.error({error:new Od({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:n}})})}})})),e}function wr(){return wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wr.apply(this,arguments)}function Pr(){return Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pr.apply(this,arguments)}function Or(){return Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Or.apply(this,arguments)}function Ir(){return Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ir.apply(this,arguments)}function kr(e){return Array.isArray(e)?fu(e,(e=>"string"===typeof e&&e.length>0)):[]}function Dr(e,t){const i=e[t],{AUCTION_DC_PARAMS:n}=e,r=function(e){if(!d(e))return;const{data_params:t}=e;if(!d(t))return;const{misc:i}=t;if(!d(i))return;const{object_id:n}=i,r=t[n];return d(r)?r:void 0}(n),o=null==r?void 0:r[t],a=null==r?void 0:r.unmoderated;return{rootField:i,bannerParametersField:o,unmoderatedBannerParametersField:d(a)?a[t]:void 0}}function Nr(e){const t=[],i=[];if(!d(e))return void 0!==e&&t.push(new Od({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t,events:i};return{measurers:Lt(e,((n,r)=>r!==Ug&&(d(n)?!!function(e){return e===Ug||-1!==Mg.indexOf(e)}(r)||(i.push({name:"UnsupportedMeasurer",data:{measurerName:r,measurersParameters:e}}),!1):(t.push(new Od({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:r,measurersParameters:e}})),!1)))),errors:t,events:i}}function Rr(){return Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Rr.apply(this,arguments)}function Vr(e){return d(e)?ue(Fg,((t,i)=>kr(e[i]))):Gp(Fg)}function Lr(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!d(i)&&"sad"===i.sad}function Br(e){if(!e)return{parameters:void 0,errors:[new Od({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})],events:[]};let t={};try{t=JSON.parse(e)}catch(u){return{parameters:void 0,errors:[new Od({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})],events:[]}}const{viewability:i,encounters:n,dwell:r,start:o,trackingEvents:a,viewedComplete:s}=t,{measurers:l,errors:d,events:c}=function(e){const t=[],i=[],{rootField:n,bannerParametersField:r,unmoderatedBannerParametersField:o}=Dr(e,"measurers");Boolean(o)&&t.push(new Od({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:a,errors:s,events:l}=Nr(o),{measurers:d,errors:c,events:u}=Nr(r),{measurers:h,errors:p,events:m}=Nr(n);return t.push(...s,...c,...p),i.push(...l,...u,...m),ec([a,d,h],((e,t)=>{const i=_(t).length>0;return e+Number(i)}),0)>1&&t.push(new Od({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Rr({},a,d,h),errors:t,events:i}}(t);return{parameters:{measurers:l,viewability:Vr(i),dwell:Vr(r),trackingEvents:Rt(Nt(a),{encounters:kr(n),viewedComplete:kr(s),start:kr(o)}),skipAdSdkDetect:Lr(t)},errors:d,events:c}}function xr(e){return e<2?1e3:2===e?3e3:5e3}function Mr(e,t,i){let n;const r=new Su,o=hr(e,t,(e=>{n=e,r.dispatch(e)})),a=new sp(n,i),s=r.add(a);return{valueSignal:a,teardown:()=>{s(),o()}}}function Ur(){return Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ur.apply(this,arguments)}function Fr(e,t,i){void 0===i&&(i={});const n=e,{onStop:r=A,onInitMeasurer:o=A,onTrackEvent:a=A,onExecutionError:s=A,onAdError:l=A,onPlayingStateChange:d=A,onSlotHoverStateChange:c=A}=i,u=new zg(n,t,{onStop:r,onInitMeasurer:o,onTrackEvent:a,onExecutionError:s,onAdError:l,onPlayingStateChange:d,onSlotHoverStateChange:c}),h=function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:n}=t;const r=ue(tg,((e,t)=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i(t,n)}));return Id(_(ig),(t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{n(t,e)}})})),r}(n,u);return{measurableVPAIDCreative:h,userInteractionDispatchers:u.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:u.vpaidCreativeProxyForMeasurers}}function Hr(){return Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Hr.apply(this,arguments)}function zr(e){let{eventName:t,trackingEventDetails:i,trackingUrls:n,options:{devicePixelRatio:r,downlink:o,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoContentSize:c,videoAvatarSize:u,videoPixelRatio:h,videoToDevicePixelRatio:p,videoFramesInfo:m,videoSrc:A,videoCurrentSrc:v,videoMuted:g,videoVolume:_,bufferingTime:y,bufferingTimeRatio:f,currentTime:S,remainingBufferedTime:T,adBreakType:E,adFormatType:b,isFullscreen:C,adPodId:w,productType:P},pixelsSource:O}=e;const I=Wg[t],k=void 0===I?1:I+1;Wg[t]=k;const D={videoContentSize:c,videoAvatarSize:{width:Math.round(u.width),height:Math.round(u.height)},videoPixelRatio:h,videoToDevicePixelRatio:p,videoFramesInfo:m,videoSrc:A,bufferingTime:y,bufferingTimeRatio:f,currentTime:S,remainingBufferedTime:T},N={devicePixelRatio:r,downlink:o,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoCurrentSrc:v,videoMuted:g,videoVolume:_,adBreakType:E,adFormatType:b,isFullscreen:C,adPodId:w,productType:P},{values:R,sensors:V,dailySensors:L}=i,B=Hr({trackingUrls:n,isVisibilityReliable:dh(),counterInBundle:k},D,N);1e3===k&&Cu.error({error:new Od({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:Hr({eventName:t,eventTrackingsCounts:Wg},B)})});const M="vast"===O?(e=>"VastTracking_"+e)(t):(e=>"AdParametersTracking_"+e)(t),U="vast"===O&&x(jg,t)?1:nu,F={data:B,values:R,sensors:V,dailySensors:L};Cu.values(Hr({name:M,probability:U},F))}function jr(e){return!!d(e)&&fd(e)}function Wr(e,t){const i=Z({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(r(),t())}}),n=Z({element:e,eventName:"playing",listener:()=>{e.duration>0&&(r(),t())}}),r=()=>{i(),n()};return r}function Yr(){return Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yr.apply(this,arguments)}function Gr(e){const t=new Qg(e),i=Cr(t),{measurableVPAIDCreative:n,userInteractionDispatchers:r}=Fr(i,e,{onStop:e=>{let{error:t,reason:i}=e;t?Cu.error({error:t}):Cu.event({name:"AdCreativeMeasured",data:{stopReason:i}})},onInitMeasurer:e=>{!function(e){if("yandexTestMeasurer"===e.measurerName)return;const t=lg[e.measurerName];Cu.event({name:t,data:void 0})}(e)},onTrackEvent:e=>{zr(e)},onExecutionError:e=>{Cu.error({error:e})},onAdError:e=>{let{error:t}=e;Cu.errorToStats(t)}});return{creative:n,wrapper:t,userInteractionDispatchers:r}}function Xr(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function Kr(e){return Boolean(e.IntersectionObserver)&&!c(e.IntersectionObserver)}function qr(e){var t,i,n,r,o,a,s,l;const d=null!=(t=null!=(i=null!=(n=null!=(r=e.requestAnimationFrame)?r:e.mozRequestAnimationFrame)?n:e.webkitRequestAnimationFrame)?i:e.msRequestAnimationFrame)?t:t=>e.setTimeout(t,16.666666666666668),c=null!=(o=null!=(a=null!=(s=null!=(l=e.cancelAnimationFrame)?l:e.mozCancelAnimationFrame)?s:e.webkitCancelAnimationFrame)?a:e.msCancelAnimationFrame)?o:t=>e.clearTimeout(t);return{requestAnimationFrame:d.bind(e),cancelAnimationFrame:c.bind(e)}}function Jr(e,t){for(var i in t)e[i]=t[i];return e}function Zr(e){var t=e.parentNode;t&&t.removeChild(e)}function Qr(e,t,i){var n,r,o,a={};for(o in t)"key"==o?n=t[o]:"ref"==o?r=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?o_.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return $r(e,a,n,r,null)}function $r(e,t,i,n,r){var o={type:e,props:t,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++s_:r};return null!=a_.vnode&&a_.vnode(o),o}function eo(e){return e.children}function to(e,t){this.props=e,this.context=t}function io(e,t){if(null==t)return e.__?io(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?io(e):null}function no(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return no(e)}}function ro(e){(!e.__d&&(e.__d=!0)&&l_.push(e)&&!oo.__r++||c_!==a_.debounceRendering)&&((c_=a_.debounceRendering)||d_)(oo)}function oo(){for(var e;oo.__r=l_.length;)e=l_.sort((function(e,t){return e.__v.__b-t.__v.__b})),l_=[],e.some((function(e){var t,i,n,r,o,a;e.__d&&(o=(r=(t=e).__v).__e,(a=t.__P)&&(i=[],(n=Jr({},r)).__v=r.__v+1,mo(a,r,n,t.__n,void 0!==a.ownerSVGElement,null!=r.__h?[o]:null,i,null==o?io(r):o,r.__h),Ao(i,r),r.__e!=o&&no(r)))}))}function ao(e,t,i,n,r,o,a,s,l,d){var c,u,h,p,m,A,v,g=n&&n.__k||p_,_=g.length;for(i.__k=[],c=0;c<t.length;c++)if(null!=(p=i.__k[c]=null==(p=t[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?$r(null,p,null,null,p):Array.isArray(p)?$r(eo,{children:p},null,null,null):p.__b>0?$r(p.type,p.props,p.key,null,p.__v):p)){if(p.__=i,p.__b=i.__b+1,null===(h=g[c])||h&&p.key==h.key&&p.type===h.type)g[c]=void 0;else for(u=0;u<_;u++){if((h=g[u])&&p.key==h.key&&p.type===h.type){g[u]=void 0;break}h=null}mo(e,p,h=h||h_,r,o,a,s,l,d),m=p.__e,(u=p.ref)&&h.ref!=u&&(v||(v=[]),h.ref&&v.push(h.ref,null,p),v.push(u,p.__c||m,p)),null!=m?(null==A&&(A=m),"function"==typeof p.type&&null!=p.__k&&p.__k===h.__k?p.__d=l=so(p,l,e):l=lo(e,p,h,g,m,l),d||"option"!==i.type?"function"==typeof i.type&&(i.__d=l):e.value=""):l&&h.__e==l&&l.parentNode!=e&&(l=io(h))}for(i.__e=A,c=_;c--;)null!=g[c]&&("function"==typeof i.type&&null!=g[c].__e&&g[c].__e==i.__d&&(i.__d=io(n,c+1)),_o(g[c],g[c]));if(v)for(c=0;c<v.length;c++)go(v[c],v[++c],v[++c])}function so(e,t,i){var n,r;for(n=0;n<e.__k.length;n++)(r=e.__k[n])&&(r.__=e,t="function"==typeof r.type?so(r,t,i):lo(i,r,r,e.__k,r.__e,t));return t}function lo(e,t,i,n,r,o){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==i||r!=o||null==r.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(r),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<n.length;l+=2)if(s==r)break e;e.insertBefore(r,o),a=o}return void 0!==a?a:r.nextSibling}function co(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]=null==i?"":"number"!=typeof i||m_.test(t)?i:i+"px"}function uo(e,t,i,n,r){var o;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)i&&t in i||co(e.style,t,"");if(i)for(t in i)n&&i[t]===n[t]||co(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=i,i?n||e.addEventListener(t,o?po:ho,o):e.removeEventListener(t,o?po:ho,o);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null!=i&&(!1!==i||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,i):e.removeAttribute(t))}}function ho(e){this.l[e.type+!1](a_.event?a_.event(e):e)}function po(e){this.l[e.type+!0](a_.event?a_.event(e):e)}function mo(e,t,i,n,r,o,a,s,l){var d,c,u,h,p,m,A,v,g,_,y,f=t.type;if(void 0!==t.constructor)return null;null!=i.__h&&(l=i.__h,s=t.__e=i.__e,t.__h=null,o=[s]),(d=a_.__b)&&d(t);try{e:if("function"==typeof f){if(v=t.props,g=(d=f.contextType)&&n[d.__c],_=d?g?g.props.value:d.__:n,i.__c?A=(c=t.__c=i.__c).__=c.__E:("prototype"in f&&f.prototype.render?t.__c=c=new f(v,_):(t.__c=c=new to(v,_),c.constructor=f,c.render=yo),g&&g.sub(c),c.props=v,c.state||(c.state={}),c.context=_,c.__n=n,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=f.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Jr({},c.__s)),Jr(c.__s,f.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,u)null==f.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==f.getDerivedStateFromProps&&v!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,_),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,_)||t.__v===i.__v){c.props=v,c.state=c.__s,t.__v!==i.__v&&(c.__d=!1),c.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&a.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,_),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,m)}))}c.context=_,c.props=v,c.state=c.__s,(d=a_.__r)&&d(t),c.__d=!1,c.__v=t,c.__P=e,d=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(n=Jr(Jr({},n),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(m=c.getSnapshotBeforeUpdate(h,p)),y=null!=d&&d.type===eo&&null==d.key?d.props.children:d,ao(e,Array.isArray(y)?y:[y],t,i,n,r,o,a,s,l),c.base=t.__e,t.__h=null,c.__h.length&&a.push(c),A&&(c.__E=c.__=null),c.__e=!1}else null==o&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=vo(i.__e,t,i,n,r,o,a,l);(d=a_.diffed)&&d(t)}catch(e){t.__v=null,(l||null!=o)&&(t.__e=s,t.__h=!!l,o[o.indexOf(s)]=null),a_.__e(e,t,i)}}function Ao(e,t){a_.__c&&a_.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){a_.__e(e,t.__v)}}))}function vo(e,t,i,n,r,o,a,s){var l,d,c,u=i.props,h=t.props,p=t.type,m=0;if("svg"===p&&(r=!0),null!=o)for(;m<o.length;m++)if((l=o[m])&&(l===e||(p?l.localName==p:3==l.nodeType))){e=l,o[m]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),o=null,s=!1}if(null===p)u===h||s&&e.data===h||(e.data=h);else{if(o=o&&o_.call(e.childNodes),d=(u=i.props||h_).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!s){if(null!=o)for(u={},m=0;m<e.attributes.length;m++)u[e.attributes[m].name]=e.attributes[m].value;(c||d)&&(c&&(d&&c.__html==d.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,i,n,r){var o;for(o in i)"children"===o||"key"===o||o in t||uo(e,o,null,i[o],n);for(o in t)r&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||i[o]===t[o]||uo(e,o,t[o],i[o],n)}(e,h,u,r,s),c)t.__k=[];else if(m=t.props.children,ao(e,Array.isArray(m)?m:[m],t,i,n,r&&"foreignObject"!==p,o,a,o?o[0]:i.__k&&io(i,0),s),null!=o)for(m=o.length;m--;)null!=o[m]&&Zr(o[m]);s||("value"in h&&void 0!==(m=h.value)&&(m!==e.value||"progress"===p&&!m)&&uo(e,"value",m,u.value,!1),"checked"in h&&void 0!==(m=h.checked)&&m!==e.checked&&uo(e,"checked",m,u.checked,!1))}return e}function go(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){a_.__e(e,i)}}function _o(e,t,i){var n,r;if(a_.unmount&&a_.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||go(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){a_.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(r=0;r<n.length;r++)n[r]&&_o(n[r],t,"function"!=typeof e.type);i||null==e.__e||Zr(e.__e),e.__e=e.__d=void 0}function yo(e,t,i){return this.constructor(e,i)}function fo(e,t,i){var n,r,o;a_.__&&a_.__(e,t),r=(n="function"==typeof i)?null:i&&i.__k||t.__k,o=[],mo(t,e=(!n&&i||t).__k=Qr(eo,null,[e]),r||h_,h_,void 0!==t.ownerSVGElement,!n&&i?[i]:r?null:t.firstChild?o_.call(t.childNodes):null,o,!n&&i?i:r?r.__e:t.firstChild,n),Ao(o,e)}function So(e,t){var i={__c:t="__cC"+u_++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,n;return this.getChildContext||(i=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some(ro)},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Provider.__=i.Consumer.contextType=i}function To(e,t){a_.__h&&a_.__h(v_,e,__||t),__=0;var i=v_.__H||(v_.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function Eo(e){return __=1,function(e,t,i){var n=To(A_++,2);return n.t=e,n.__c||(n.__=[i?i(t):Vo(void 0,t),function(e){var t=n.t(n.__[0],e);n.__[0]!==t&&(n.__=[t,n.__[1]],n.__c.setState({}))}],n.__c=v_),n.__}(Vo,e)}function bo(e,t){var i=To(A_++,3);!a_.__s&&Ro(i.__H,t)&&(i.__=e,i.__H=t,v_.__H.__h.push(i))}function Co(e,t){var i=To(A_++,4);!a_.__s&&Ro(i.__H,t)&&(i.__=e,i.__H=t,v_.__h.push(i))}function wo(e){return __=5,Po((function(){return{current:e}}),[])}function Po(e,t){var i=To(A_++,7);return Ro(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function Oo(e,t){return __=8,Po((function(){return e}),t)}function Io(e){var t=v_.context[e.__c],i=To(A_++,9);return i.c=e,t?(null==i.__&&(i.__=!0,t.sub(v_)),t.props.value):e.__}function ko(){y_.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(Do),e.__H.__h.forEach(No),e.__H.__h=[]}catch(s_){e.__H.__h=[],a_.__e(s_,e.__v)}})),y_=[]}function Do(e){var t=v_;"function"==typeof e.__c&&e.__c(),v_=t}function No(e){var t=v_;e.__c=e.__(),v_=t}function Ro(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function Vo(e,t){return"function"==typeof t?t(e):t}function Lo(){return Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Lo.apply(this,arguments)}function Bo(e){var t,i,n="";if("string"===typeof e||"number"===typeof e)n+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=Bo(e[t]))&&(n&&(n+=" "),n+=i);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function xo(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=Bo(e))&&(n&&(n+=" "),n+=t);return n}function Mo(e){const[t,i]=Eo(e.getValue());return bo((()=>(i(e.getValue()),e.add(i))),[e]),t}function Uo(e,t){var i;const n=(null!=(i=e.ownerDocument)?i:document).createElement("style");return n.type="text/css",n.textContent=t,e.appendChild(n),n}function Fo(e){const t=Io(N_);Co((()=>L_.useStyleModule(t,e)),[e])}function Ho(e){let{buttonText:t,onClick:i}=e;return{buttonText:t,openClickThroughUrl:i}}function zo(){return zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zo.apply(this,arguments)}function jo(e){var t,i,n;const r=[Mc],o=null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)||null==(n=i.data_params)?void 0:n.misc;if(d(o)){const{object_id:e="",pageId:t="",impId:i="",campaignid:n="",bidreqid:a=""}=o;r.push(e,t,i,n,a)}return r.join()}function Wo(e){return void 0===e&&(e=window),String(e.location)}function Yo(e){if(!d(e))return!1;if(!f(e.vendor))return!1;if(!f(e.javaScriptResource))return!1;const t=e.verificationParameters;return!(!f(t)&&!d(t))&&!(void 0!==e.trackingEvents&&!d(e.trackingEvents))}function Go(e){if(!Array.isArray(e))return!1;for(const t of e)if(!Yo(t))return!1;return!0}function Xo(e){return fu(e,(e=>{const{javaScriptResource:t,trackingEvents:i}=e;try{const e=new URL(t);if(ly.has(e.hostname))return!0}catch(h_){Cu.error({error:new Od({code:"OMID_COULD_NOT_CONFIRM_JAVASCRIPT_RESOURCE",details:{errorMessage:h_.message,javaScriptResource:t}})})}const n=i.verificationNotExecuted;return f(n)&&we(n.replace("[REASON]","1")),Cu.event({name:"OmidVerificationJavascriptResourceIsNotSupported",data:{parameters:JSON.stringify(e)},probability:1}),!1}))}function Ko(){return Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ko.apply(this,arguments)}function qo(e,t){const i=function(e){switch(e){case"limited":return"limited";case"domain":return"domain";default:return"full"}}(t.omidAccessMode);if("TRUE"===Eu.getFlagValueAndActivateTestId("VAS_ENABLE_OMSDK_TEST_MODE"))return[{vendorKey:"IAS",javaScriptResource:"https://static.adsafeprotected.com/fw.js?ias_campId=CAMP_ID&ias_placementId=AD_GROUP_ID",accessMode:"full",verificationParameters:'{"config":"/rjss/yandex/82444/58348904/skeleton.js?iasProxyPartnerId=32908","host":"https://jsconfig.adsafeprotected.com"}',trackingEvents:{}},{vendorKey:"iabtechlab.com-omid",javaScriptResource:Z_,accessMode:"full",verificationParameters:"iabtechlab-Yandex",trackingEvents:{}}];const n=function(e,t){return jc(e,(e=>Ko({},e,{accessMode:t})))}(e.adVerifications,i),r=function(e,t){if(!e)return[];const{rootField:i,bannerParametersField:n,unmoderatedBannerParametersField:r}=Dr(e,"measurers"),o=d(i)&&i.omid,a=d(n)&&n.omid,s=d(r)&&r.omid,l=fu([o,a,s],Boolean);if(0===l.length)return[];const c=fu(l,Go);l.length!==c.length&&Cu.error({error:new Od({code:"OMID_OBJECT_FROM_AD_PARAMETERS_IS_INVALID",details:{adParameters:JSON.stringify(e)}})});const u=c.shift();if(!Array.isArray(u))return[];return jc(u,(e=>{let{vendor:i,javaScriptResource:n,trackingEvents:r,verificationParameters:o}=e;return{vendorKey:i,javaScriptResource:n,trackingEvents:null!=r?r:{},verificationParameters:f(o)?o:JSON.stringify(o),accessMode:t}}))}(e.adParametersObject,i),o=Xo([...n,...r]);return 0!==o.length?o:void 0}function Jo(e,t,i,n){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!cy.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,n?"important":""):e.style.cssText+=";"+t+": "+i+(n?"!important":""))}function Zo(e,t,i){const n=ct(jc(ce(t),(e=>{let[t,i]=e;return[hy(t),i]})));return uy(e,n,i)}function Qo(){return Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Qo.apply(this,arguments)}function $o(){return $o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$o.apply(this,arguments)}function ea(e){let{height:t,width:i}=e;const n=Math.min(t,i);if(n<300)return 40;if(n>1080)return 70;return 40+30*((n-300)/780)}function ta(e){let{height:t,width:i}=e;return.275*ea({height:t,width:i})}function ia(){if("undefined"===typeof af){let t=null;try{t=Element.prototype.attachShadow}catch(e){}if(t&&c(t))af=t;else{const e=document.createElement("iframe");e.style.setProperty("display","none"),document.body.appendChild(e);const t=su(e,"contentWindow.Element.prototype.attachShadow");af=t&&c(t)?t:null,document.body.removeChild(e)}}return af}function na(e,t){const i=function(e){const t=ia();return t&&t.bind(e)}(e);if(!h(i))return null;try{return i(t)}catch(n){return null}}function ra(e){var t;if(null!=(t=!Boolean(e.ownerDocument))?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,n=na(e,{mode:"open"});if(!n)return null;const r=i.document.createElement("div");return n.appendChild(r),r}function oa(e,t){if(e===t)return!0;if(!d(e)||!d(t))return!1;if(Dd(e)!==Dd(t))return!1;const i=_(e),n=_(t);if(i.length!==n.length)return!1;for(const r of n){if(!(r in e))return!1;if(!oa(e[r],t[r]))return!1}return!0}function aa(e){return e.getIsConvertedFromVideoVast()?"video":it(e.vastAd)}function sa(){return sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},sa.apply(this,arguments)}function la(e){try{Uc("Track event=["+e.eventName+"]"),zr(e=sa({},e,{options:da(e.options)})),br(e)}catch(t){Cu.error({error:new Od({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function da(e){const{size:t,screenSize:i,videoContentSize:n}=e;return sa({},e,{size:ue(t,Math.round),screenSize:ue(i,Math.round),videoContentSize:n&&ue(n,Math.round)})}function ca(e,t){const i=function(e){const t=gu(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Z({element:e,eventName:i,listener:()=>{t(ve(e))}}):A}function ua(){return ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ua.apply(this,arguments)}function ha(e){let{creative:t,isYandexCreative:i,getLogDetails:n}=e;return function(e,t){let{methodCallError:i,methodAbsent:n,getterError:r,setterError:o}=t;const a=ue(tg,((t,r)=>function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];if("function"===typeof e[r])try{return e[r].apply(e,o)}catch(s){i({methodName:r,args:o,error:s})}else n({methodName:r,args:o})}));return Xe(ig,((t,i)=>{Object.defineProperty(a,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){r({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(n){o({propertyName:i,error:n,value:t})}}})})),a}(t,{methodCallError:e=>{let{methodName:t,args:r,error:o}=e;Cu.error({error:new Od(o,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:ua({methodName:t,args:r},n())})}),$(o)},methodAbsent:e=>{let{methodName:t,args:r}=e;Cu.error({error:new Od({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:ua({methodName:t,args:r},n())})})},getterError:e=>{let{propertyName:t,error:r}=e;Cu.error({error:new Od(r,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:ua({propertyName:t},n())})}),$(r)},setterError:e=>{let{propertyName:t,value:r,error:o}=e;Cu.error({error:new Od(o,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:ua({propertyName:t,value:r},n())})}),$(o)}})}function pa(e){"function"===typeof(null==e?void 0:e.catch)&&e.catch((()=>{}))}function ma(){return ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ma.apply(this,arguments)}function Aa(){return Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Aa.apply(this,arguments)}function va(e){const t=Kt(e);return Am(null==t?void 0:t.images)}function ga(e){const{adParametersObject:t}=e;if(!d(t))return;const i=t.packshot_duration;if(!Pe(i))return;const n=t.PACKSHOT_IMAGE_URL;if(!f(n))return;const r=e.clickUrlData.tgaOfferClickUrl;if(void 0===r)return;const{title:o}=He(t);return{packshotDuration:i,packshotImageUrl:n,packshotActionButtonClickUrl:r,packshotTitle:o,packshotButtonText:Xt(t)}}function _a(e,t){const{adParametersObject:i}=e;if(!d(i))return;const n=ga(e),r=null==n?void 0:n.packshotImageUrl;if(r)return r;const o=va(i.adParameters);return 0!==o.length?(e=>{let{size:t,images:i}=e;const{width:n,height:r}=t,o=jc(i,(e=>{let[t,i,n,r]=e;return{url:t,width:parseInt(i,10),height:parseInt(n,10),smartCenters:r?r["smart-centers"]:[]}})),a=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],n=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),r=[];for(const o of i)if(o.width&&o.height&&o.url){const t=Aa({},e,{pixelRatio:n,image:o});r.push(mf(t))}r.sort(((e,t)=>e.coeff-t.coeff));for(const o of r)if(o.coeff>1)return o;return null!=(t=r[r.length-1])?t:{}}({boundingRectangle:{width:n,height:r},images:o,stretch:!0});if(Boolean(a))return a.url;return})({size:t,images:o}):void 0}function ya(e,t){return Af.indexOf(e)>=Af.indexOf(t)}function fa(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:n}=e;if(ya(t,"start")){if(n){const e=n.params.animationParameters,t=n.params.videoParameters;if(e&&!n.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!n.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return ya(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function Sa(e){if(!Ki(e))return!1;const{adParametersObject:t}=e;return!!d(t)&&"theme-empty"===t.adCreativeConversionType}function Ta(e){var t;if(!Sa(e))return;const i=kf(e);if(!d(i))return;const{adParametersObject:n,parsedParameters:r}=i;if(!d(n)||!d(r))return;const o=Zt(n);if(!o)return;const{greenUrl:a,targetUrl:s,hasTitle:l,title:c,hasBody:u,body:h,hasAgeRestriction:p,ageRestriction:m}=r,A=null==(t=e.assets.button)?void 0:t.caption;return{greenUrl:a,clickUrl:o,targetUrl:s,label:null!=A?A:Xt(n),title:!1===l?void 0:c,body:!1===u?void 0:h,ageRestriction:p?m:void 0}}function Ea(){return Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ea.apply(this,arguments)}function ba(e){const[t,i]=Eo(void 0),n=e instanceof HTMLElement?{current:e}:e;return Co((()=>{if(null==n||!n.current)return;0;const e=new pg(n.current);return e.onResize.add((e=>i(e))),i(e.getSize()),()=>e.destroy()}),[null==n?void 0:n.current]),t}function Ca(e,t,i,n){if(!1===xf)return new Intl.NumberFormat(i,{currency:t,style:"currency"}).format(e);try{return new Intl.NumberFormat(i,{currency:t,style:"currency",maximumFractionDigits:n}).format(e)}catch(h_){if(md(h_)&&(/maximumFractionDigits/.test(h_.message)||/invalid digits/.test(h_.message)))return xf=!1,Ca(e,t,i);throw h_}}function wa(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M8.387 2.887a1.25 1.25 0 0 0-1.768-1.769L.62 7.116a1.25 1.25 0 0 0 0 1.768l5.998 5.998a1.25 1.25 0 0 0 1.768-1.769L6.62 11.347a12.498 12.498 0 0 0-2.198-1.75l-.934-.586.058-.058 1.2.171a12.5 12.5 0 0 0 1.767.126H18.75a1.25 1.25 0 0 0 0-2.5H6.513a12.5 12.5 0 0 0-1.768.126l-1.199.17-.058-.058.938-.588A12.5 12.5 0 0 0 6.62 4.652l1.766-1.765Z",fill:"currentColor"},[])])}function Pa(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M11.616 14.884a1.25 1.25 0 0 1-.003-1.771l1.766-1.765c.664-.663 1.4-1.25 2.195-1.748l.938-.588-.059-.059-1.199.171a12.5 12.5 0 0 1-1.767.126H10v.003H8.75V9.25h-7.5a1.25 1.25 0 1 1 0-2.5h12.237a12.5 12.5 0 0 1 1.767.126l1.2.17.057-.057-.934-.586a12.495 12.495 0 0 1-2.198-1.75l-1.766-1.766a1.25 1.25 0 0 1 1.768-1.769l5.998 5.998a1.25 1.25 0 0 1 0 1.768l-5.998 5.998a1.25 1.25 0 0 1-1.765.002Z",fill:"currentColor"},[])])}function Oa(e){var t;if(!be(e)&&!Te(e)||!Xc)return e;const i=ud[ud.length-1];return function(e,t,i){if(void 0===i)return e;const n=D(e),r=R(n.search);return r[t]=i,N(k({},n,{search:V(r)}))}(e,"target_ref",(null!=(t=null==i?void 0:i.ownerDocument)?t:document).referrer)}function Ia(){return Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ia.apply(this,arguments)}function ka(e,t){const i=Gp(lm);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility;for(const n of Jf)!1===i.visibility?i.controlsVisibility[n]=!1:"boolean"===typeof t.controlsVisibility[n]?i.controlsVisibility[n]=t.controlsVisibility[n]:i.controlsVisibility[n]=e.controlsVisibility[n];return i}function Da(){const e=Gp(lm);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];const r=fu(i,(e=>Boolean(e)));return ec(r,((e,t)=>ka(e,t)),e)}function Na(e){const{imhoParams:t}=e;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&Xi(i.url)}(e))return!1;if(Ji(e)||qi(e))return!1;if(Ki(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=S((()=>an(t.mediaFiles)));if(!i)return!1;const{videoMediaFiles:n}=i;if(0===n.length)return!1;if(Xh(n,(e=>!1===e.hasAudio)))return!1}return!t||t.showSoundButton}function Ra(e){if(Ji(e)||qi(e))return!1}function Va(e){const{imhoParams:t,serializablePlaybackParameters:i}=e,n={controlsVisibility:{adLabel:null==t?void 0:t.showLabel,mute:Na(e),skip:true,play:Ra(e)}};let r;return i&&(r=i.controlsSettings),Da(n,r)}function La(e,t){const i=wA(e);return x(t,i)?i:void 0}function Ba(e){let{playbackParameters:t,vastAd:i,adBreakType:n,isYandexAdCreative:r}=e;const o=Da(Va(i),t.controlsSettings),{skipDelay:a,eventName:s}=function(e){var t,i;let{vastAd:n}=e;const{skipTime:r,skipOffset:o}=n,a=null==(t=n.adParametersObject)||null==(i=t.playbackParameters)?void 0:i.skipDelay;return _e(a)?(Cu.event({name:"UsingVastSkipDelayPlaybackParameter",data:{skipDelay:a}}),{skipDelay:a,eventName:void 0}):_e(o)?_e(r)?{skipDelay:r,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:o,eventName:void 0}:{skipDelay:0,eventName:void 0}}({vastAd:i});let l,d=a;if(Pe(a)){const e=Eu.getFlagValueAndActivateTestId("VAS_SKIP_DELAY_SHIFT");if(e){const t=Number(e);_e(t)&&(d+=t)}}void 0!==s&&Cu.event({name:s,data:void 0}),!0===t.backgroundBlur?l="blur":i.backgroundColor&&(l={color:i.backgroundColor});const c=!1===t.packshotSettings.isEnabled?void 0:ga(i);let u;"inpage"!==n&&(u=(e=>cS["preroll"===e?"preroll":"non_preroll"])(n));let h=5e3;u&&Pe(u.bufferFullTimeout)?h=u.bufferFullTimeout:Pe(t.bufferFullTimeout)?h=t.bufferFullTimeout:i.serializablePlaybackParameters&&Pe(i.serializablePlaybackParameters.bufferFullTimeout)?h=i.serializablePlaybackParameters.bufferFullTimeout:"inpage"!==n&&(h=$f.bufferFullTimeout);let p,m,A=5;u&&Pe(u.bufferEmptyLimit)?A=u.bufferEmptyLimit:Pe(t.bufferEmptyLimit)?A=t.bufferEmptyLimit:i.serializablePlaybackParameters&&Pe(i.serializablePlaybackParameters.bufferEmptyLimit)?A=i.serializablePlaybackParameters.bufferEmptyLimit:"inpage"!==n&&(A=$f.bufferEmptyLimit),p=u&&Pe(u.videoTimeout)?u.videoTimeout:Pe(t.videoTimeout)?t.videoTimeout:i.serializablePlaybackParameters&&Pe(i.serializablePlaybackParameters.videoTimeout)?i.serializablePlaybackParameters.videoTimeout:"inpage"===n?Zf:$f.videoTimeout,m=u&&Pe(u.vpaidTimeout)?u.vpaidTimeout:Pe(t.vpaidTimeout)?t.vpaidTimeout:i.serializablePlaybackParameters&&Pe(i.serializablePlaybackParameters.vpaidTimeout)?i.serializablePlaybackParameters.vpaidTimeout:"inpage"===n?Qf:$f.vpaidTimeout;const v=t.clickThroughUrl||i.clickUrlData.vastClickUrl||i.clickUrlData.tgaOfferClickUrl;let g=d;return!r&&_e(t.skipDelayForNonYandexCreatives)&&(g=t.skipDelayForNonYandexCreatives),{controlsSettings:o,background:l,skipDelay:g,bufferFullTimeout:h,bufferEmptyLimit:A,videoTimeout:p,vpaidTimeout:m,clickThroughUrl:v,packshotParameters:c,packshotSettings:t.packshotSettings}}function xa(e){if("error"===e.reason)return e.details}function Ma(){return Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ma.apply(this,arguments)}function Ua(e){const{config:t,errors:i}=function(e){const t=[],i=d(e)?e:{};let n,r,o;if(fd(i.backgroundSlot)?n=i.backgroundSlot:void 0!==i.backgroundSlot&&t.push(new Od({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),void 0!==i.skipDelayForNonYandexCreatives&&(_e(i.skipDelayForNonYandexCreatives)&&i.skipDelayForNonYandexCreatives>=0?r=i.skipDelayForNonYandexCreatives:t.push(new Od({code:"INCORRECT_SKIP_DELAY_FOR_NON_YANDEX_CREATIVES_FORMAT",details:{value:i.skipDelayForNonYandexCreatives,stringValue:String(i.skipDelayForNonYandexCreatives),type:typeof i.skipDelayForNonYandexCreatives}}))),d(i.adSequence)&&Wt(i.adSequence.index)&&Wt(i.adSequence.count)){const{index:e,count:t}=i.adSequence;o={index:e,count:t}}return{config:{backgroundSlot:n,clickThroughCallback:h(i.clickThroughCallback)?i.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof i.clickThroughConfirmation?i.clickThroughConfirmation:void 0,renderSkin:h(i.renderSkin)?i.renderSkin:void 0,visibilitySlot:fd(i.visibilitySlot)?i.visibilitySlot:void 0,retainLastMediaAfterPlayback:"boolean"===typeof i.retainLastMediaAfterPlayback?i.retainLastMediaAfterPlayback:void 0,enableInfinityPackshot:"boolean"===typeof i.enableInfinityPackshot?i.enableInfinityPackshot:void 0,skipDelayForNonYandexCreatives:r,disableSurveyCompleteScreen:"boolean"===typeof i.disableSurveyCompleteScreen?i.disableSurveyCompleteScreen:void 0,disableSurveyStartTimeout:"boolean"===typeof i.disableSurveyStartTimeout?i.disableSurveyStartTimeout:void 0,adSequence:o,enableNewSkin:!0===(null==i?void 0:i.enableNewSkin)},errors:t}}(e),{config:n,errors:r}=Ft(e);return{config:Ma({},t,n),errors:[...i,...r]}}function Fa(e){let{width:t}=e;return t<uS?"small":t>1e3?"big":"middle"}function Ha(e){try{return(e.navigator||{}).userAgent||""}catch(h_){return""}}function za(e){const t=Ha(e).toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!(e=>e.navigator.userAgent.indexOf("UCBrowser")>-1)(e)}function ja(e){if(za(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}function Wa(e,t){const i={};return ot(t).forEach((t=>{i[t]=e.getAttribute(t)})),at(e,t),ie((()=>{at(e,i)}))}function Ya(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")||function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===gS.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?A:Wa(e,{pip:"false"}):A}function Ga(e,t,i){const n=i.split(".");let r=e;for(let a=0;a<n.length-1;a++)r=r[n[a]];const o=n[n.length-1];if(void 0===r[o])r[o]=t;else if("object"===typeof r[o])for(const a in t)t.hasOwnProperty(a)&&Ga(e,t[a],i+"."+a)}function Xa(e,t,i){e[i]||(e[i]={}),Ga(e,t,i)}function Ka(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:n=!1}=t,r=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),o=r.shift();if(null==o||!o.startsWith("WEBVTT"))throw new Error('Must start with "WEBVTT"');const a=o.split("\n"),s=a[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===r.length&&1===a.length)return{valid:!0,strict:n,cues:[],errors:[]};if(!i&&a.length>1&&""!==a[1])throw new Error("Missing blank line after signature");const{cues:l,errors:d}=function(e,t){const i=[],n=fu(jc(e,((e,n)=>{try{return function(e,t,i){let n="",r=0,o=.01,a="",s="";const l=fu(e.split("\n"),Boolean);if(l.length>0&&l[0].trim().startsWith("NOTE"))return;if(1===l.length&&!Za(l[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(l.length>1&&!Za(l[0])&&!Za(l[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}l.length>1&&Za(l[1])&&(n=l.shift());if("string"!==typeof l[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const d=l[0].split(" --\x3e ");if(2!==d.length||!qa(d[0])||!qa(d[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(r=Ja(d[0]),o=Ja(d[1]),i){if(r>o)throw new Error("Start timestamp greater than end (cue #"+t+")");if(o<=r)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&o<r)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=d[1].replace(yS,"").trim(),l.shift(),a=l.join("\n"),!a)return;return{identifier:n,start:r,end:o,text:a,styles:s}}(e,n,t)}catch(h_){return void i.push(h_)}})),Boolean);return{cues:n,errors:i}}(r,n);if(n&&d.length>0)throw d[0];const c=i?function(e){const t={};return Id(e.slice(1),(e=>{const i=e.indexOf(":"),n=e.slice(0,i).trim(),r=e.slice(i+1).trim();t[n]=r})),_(t).length>0?t:void 0}(a):void 0,u={valid:0===d.length,strict:n,cues:l,errors:d};return i&&(u.meta=c),u}function qa(e){return yS.test(e)}function Ja(e){const t=e.match(yS);if(null===t)throw new Error("Timestamp parse error");return 3600*parseFloat(t[1]||"0")+60*parseFloat(t[2])+parseFloat(t[3])}function Za(e){return-1!==e.indexOf("--\x3e")}function Qa(e,t){const{paused:i}=e,n=t();return i||pa(e.play()),n}function $a(e,t){const i=()=>{const i=fr(e);t(i)},n=[];return n.push(Z({element:e,eventName:"resize",listener:i}),zn(i)),()=>{X(n)}}function es(e,t,i,n){const r=function(e){let t=!1,i=!1,n=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),n=Boolean(e.once)),{capture:t,passive:i,once:n}}(n),o=wS?r:r.capture,a=r.once&&!bS?function(e){s(),i.call(this,e)}:i,s=()=>{ES(e,t,a,o)};return TS(e,t,a,o),s}function ts(e,t,i){function r(){0!==s&&(clearTimeout(s),s=0)}let{threshold:o=PS,delay:a=OS}=void 0===i?{}:i,s=0,l=0,d=0;const c=es(e,"click",(function(e){0!==s&&(r(),t(e))}),{passive:!0}),u=es(e,"touchstart",(function(e){1===e.touches.length&&(l=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,r(),s=window.setTimeout(r,a))}),{passive:!0}),h=es(e,"touchend",(function(e){0!==s&&(r(),t(e))}),{passive:!0}),p=es(e,"touchmove",(function(e){if(0===s||!n(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];(function(e,t){return Math.abs(l-e)>o||Math.abs(d-t)>o})(t,i)&&r()}),{passive:!0});return()=>{c(),u(),h(),p()}}function is(e){const t=e.duration||0;let i=(n=e.currentTime,r=.001,Math.round(n/r)*r||0);var n,r;return t-i<.001&&(i=t),{currentTime:Math.max(0,i),duration:Math.max(0,t)}}function ns(){return ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ns.apply(this,arguments)}function rs(e){return e.muted?0:e.volume}function os(e,t,i){if(!e)return MS;const n=xS(e.controlsVisibility),r=Boolean(t.abuseUrl);return{isCloseAvailable:n&&r,isCloseDialogActive:"selection"===i}}function as(e,t){if(void 0===e)return;return!!US[e]&&Boolean(t)}function ss(e){if(xc.VAS_USER_SESSION_RANDOM<=ru){const t=function(e,t){try{const i={hasMediaSourceConstructor:Boolean(tv),result:[]};return Id(e,(e=>{const{type:n,codec:r}=e,o=JA(e);i.result.push({method:"video.canPlayType",type:n,codec:r,result:VA(o,t)}),tv&&i.result.push({method:"MediaSource.isTypeSupported",type:n,codec:r,result:tv.isTypeSupported(o)})})),i}catch(i){return void Cu.error({error:new Od({code:"CODEC_PLAYABILITY_CHECK_ERROR",details:{error:i}})})}}(HS,e);t&&Cu.values({name:"CodecPlayabilityCheck",data:t,probability:1})}}function ls(){return ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ls.apply(this,arguments)}function ds(e){const t=YS(e);e.muted=!1,e.volume=1;if(e.allowedToPlay)return t(),"allowed";e.muted=!0,e.volume=0;return e.allowedToPlay?(t(),"muted"):(t(),"restricted")}function cs(e){if(!jr(e))return{autoplayAbility:"allowed",detectionMethod:"FakeVideoElement"};const t=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(e);if(!t)return{autoplayAbility:"allowed",detectionMethod:"NoWinForVideoElement"};const i=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!d(i))return;const{isActive:n,hasBeenActive:r}=i;return{isActive:n,hasBeenActive:r}}(t);if(i&&i.hasBeenActive)return{autoplayAbility:"allowed",detectionMethod:"WindowHasBeenActive"};if("boolean"===typeof e.allowedToPlay)return{autoplayAbility:ds(e),detectionMethod:"YaBroAllowedToPlay"};if((e=>Ha(e).toLowerCase().indexOf("web0s")>-1)(t))return{autoplayAbility:"allowed",detectionMethod:"WebOSSmartTV"};if((e=>{const t=Ha(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1})(t))return{autoplayAbility:"allowed",detectionMethod:"OrsaySmartTV"};if((e=>{const t=Ha(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1})(t))return{autoplayAbility:"allowed",detectionMethod:"PlayStationSmartTV"};if(e.isAVPlay)return{autoplayAbility:"allowed",detectionMethod:"TizenAVPlay"};if((e=>Ha(e).toLowerCase().indexOf("tizen")>-1)(t))return(e=>{const t=function(e){const t=Ha(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,n]=t;return{major:parseInt(i,10),minor:parseInt(n,10)}}(e);return 2===t.major&&3===t.minor})(t)?{autoplayAbility:"restricted",detectionMethod:"Tizen23SmartTV"}:{autoplayAbility:"allowed",detectionMethod:"TizenSmartTVModern"};return za(t)&&ja(t)<=9?{autoplayAbility:"restricted",detectionMethod:"IOS9OrLess"}:void 0}function us(e){let{adParametersObject:t}=e;const i=Kt(t);if(!i)return;const{showTitleAndBody:n}=i;return"boolean"===typeof n?n:void 0}function hs(){return hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hs.apply(this,arguments)}function ps(e){return ec(e,((e,t)=>e+t.getDuration()),0)}function ms(e){const t=e.ownerDocument,i=t.defaultView,n=t.documentElement,r=e.getBoundingClientRect();return{winWidth:sT?Math.max(n.clientWidth,(null==i?void 0:i.innerWidth)||0):(null==i?void 0:i.innerWidth)||n.clientWidth||t.body.clientWidth,winHeight:sT?Math.max(n.clientHeight,(null==i?void 0:i.innerHeight)||0):(null==i?void 0:i.innerHeight)||n.clientHeight||t.body.clientHeight,left:r.left,top:r.top,width:r.width,height:r.height}}function As(e){let{width:t,height:i,top:n,left:r,winWidth:o,winHeight:a}=e;const s=r+t,l=n+i,d=Tn(r,0,o),c=Tn(n,0,a);return{winWidth:o,winHeight:a,left:d,top:c,width:Tn(s,d,o)-d,height:Tn(l,c,a)-c}}function vs(e,t){return e.width*e.height/(t.width*t.height)}function gs(e){const t=function(e){return[ms(e),...jc(s(e),ms)]}(e);let i=As(t[0]),n=vs(i,t[0]);for(let a=1;a<t.length;a++){const e=t[a];i=As((r=i,{winWidth:(o=e).winWidth,winHeight:o.winHeight,left:r.left+o.left,top:r.top+o.top,width:r.width,height:r.height})),n=vs(i,t[0])}var r,o;return n}function _s(){return _s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_s.apply(this,arguments)}function ys(){return ys=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ys.apply(this,arguments)}function fs(e,t,i,n,r){const o=IT(),a=NT(),s=D_(),{playingState:l}=LT(),[d,c]=Eo({largestSize:0,descriptionFontSize:0,descriptionLineHeight:0,horizontalMargin:0,verticalMargin:{top:0,bottom:0}});bo((()=>{const e=Gp(d),t=Math.max(s.width,s.height);e.largestSize=t;const{fontSize:i,lineHeight:n}=(e=>{if(e<360)return{fontSize:12,lineHeight:18};if(e<400)return{fontSize:14,lineHeight:20};if(e<480)return{fontSize:16,lineHeight:22};if(e<560)return{fontSize:18,lineHeight:24};if(e<640)return{fontSize:20,lineHeight:26};if(e<720)return{fontSize:22,lineHeight:28};if(e<800)return{fontSize:24,lineHeight:30};if(e<960)return{fontSize:26,lineHeight:32};if(e<1024)return{fontSize:28,lineHeight:34};return{fontSize:30,lineHeight:36}})(t);e.descriptionFontSize=i,e.descriptionLineHeight=n,e.horizontalMargin=(e=>{if(e<640)return 10;if(e<960)return 15;return 20})(t),e.verticalMargin=function(e,t){void 0===t&&(t=!0);if(e<480)return t?{top:40,bottom:98}:{top:40,bottom:64};if(e<960)return{top:40,bottom:116};if(e<1280)return{top:40,bottom:122};return{top:40,bottom:128}}(t,r),c(e)}),[s]);const[h,p]=Eo(!1),[m,A]=Eo({});bo((()=>{const e=Gp(m);d.largestSize&&(e["--ctat-largest-size"]=d.largestSize+"px",e["--ctat-description-font-size"]=d.descriptionFontSize+"px",e["--ctat-horizontal-margin"]=d.horizontalMargin+"%",e["--ctat-margin-top"]=d.verticalMargin.top+"px",e["--ctat-margin-bottom"]=d.verticalMargin.bottom+"px",A(e))}),[d]);const[v,g]=Eo(""),[_,y]=Eo("");bo((()=>{let e=v;if(i.current){const t=u(i.current,i.current.ownerDocument.defaultView);e=t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+(d.descriptionFontSize+2)+"px/"+d.descriptionLineHeight+"px "+t.fontFamily}g(e);let t=_;if(i.current){const e=u(i.current,i.current.ownerDocument.defaultView);t=e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+d.descriptionFontSize+"px/"+d.descriptionLineHeight+"px "+e.fontFamily}y(t)}),[d,i.current,n.current]);const[f,S]=Eo({"--ctat-animation-animation-drift-coef":"1","--ctat-animation-progress":"0","--ctat-animation-playing-state":"paused"});bo((()=>{const i=ys({},f);if(!e||!t||!a)return void p(!1);p(!0);const{cssVars:n,totalAnimationDuration:r}=(e=>{const{duration:t}=e,i=100*Tn(t/10,1,1),n=_s({},e,{atomic100MSDuration:i}),r=(e=>{let{atomic100MSDuration:t,titleSplitResult:i,baseDelay:n}=e;const r=n,o=1.66*t,a=3,s=i.length,l=o*a*s,d=t+n,c=l+d,u=c+t+t*s,h=27*t,p=u+h;return{calculatedTitleAnimationDuration:p+t*s,calculatedTitleRevealAnimationDuration:l,titleAnimationDelayAfterEnlargement:h,titleAnimationDelayAfterReveal:d,titleAnimationEnlargementDelay:c,titleAnimationEnlargementDuration:t,titleAnimationEnlargementNextLineDelay:t,titleAnimationHideDelay:p,titleAnimationHideDuration:t,titleAnimationSingleLinePartsCount:a,titleAnimationShowDelay:r,titleAnimationTotalEnlargementDuration:u,titleLinesCount:s,titleSinglePartDuration:o}})(_s({},n,{baseDelay:25*i})),o=r.calculatedTitleAnimationDuration,a=(e=>{let{bodySplitResult:t,atomic100MSDuration:i,baseDelay:n}=e;const r=t.length,o=8.2*i,a=n+o,s=3*i,l=.75*i,d=4.5*i,c=a+l+s;return{bodyAnimationEnlargementDelay:c,bodyAnimationEnlargementDuration:d,bodyAnimationShowDelay:a,bodyAnimationShowDuration:s,bodyLinesCount:r,bodyTotalAnimationTime:c+d*r,delayBeforeShowBody:o,showLineDelay:l}})(_s({},n,{baseDelay:o})),s=a.bodyTotalAnimationTime;return{cssVars:BT(r,a),titleAnimationDuration:o,totalAnimationDuration:s,titleAnimationShowDelay:r.titleAnimationShowDelay,bodyAnimationShowDelay:a.bodyAnimationShowDelay}})({duration:a,bodySplitResult:t,titleSplitResult:e}),s=r*o;i["--ctat-animation-current-time"]=s+"ms","play"===l?i["--ctat-animation-playing-state"]="running":"pause"===l&&(i["--ctat-animation-progress"]=""+o,i["--ctat-animation-playing-state"]="paused"),S(ys({},n,i))}),[o,l,a,e,t]);return{isReadyToAnimate:h,containerStyle:ys({},m,f),titleFontStyle:v,bodyFontStyle:_}}function Ss(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"m1 1 3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function Ts(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M4 1h5v5M9 1 1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function Es(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m11.598 5 2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 0 1-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 0 1-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 0 1 1.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 0 1 2.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 0 1-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 0 1-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 0 1 .417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 0 1-.416.399h-.62a.417.417 0 0 1-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])}function bs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M16.256 15.256a.833.833 0 0 0 0-1.179L2.923.744a.833.833 0 1 0-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 0 0 4.171-.9l1.906 1.906a.833.833 0 0 0 1.179 0zm-4.357-3.178A8.309 8.309 0 0 1 9 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0 0 10.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])}function Cs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"18",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8.538 5.504c-1.025 0-1.362-.628-1.362-1.21 0-.244.077-.611.138-.825l1.07-4.612h-1.253a.25.25 0 0 1-.243-.307l.076-.325a.35.35 0 0 1 .28-.265l2.838-.5a.5.5 0 0 1 .573.608L12.14 16.05a.189.189 0 0 0 .33.164l1.165-1.425a.322.322 0 0 1 .514.386l-.7 1.013c-.734 1.07-1.407 1.316-1.988 1.316zm.338-9.862c0 .505.398.933 1.102.933.688 0 1.193-.382 1.346-.994.03-.123.046-.26.046-.368 0-.505-.398-.933-1.102-.933-.673 0-1.193.382-1.346.994-.03.123-.046.26-.046.368z",fill:"#498BFF"},[])])}function ws(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M7.36 15.5H9.97V.5H6.173C2.353.5.345 2.464.345 5.356c0 2.31 1.101 3.67 3.065 5.072L0 15.5h2.827l3.799-5.676-1.317-.885c-1.597-1.08-2.374-1.921-2.374-3.734 0-1.597 1.123-2.676 3.26-2.676H7.36V15.5Z",fill:"#498BFF"},[])])}function Ps(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("g",{"clip-path":"url(#svg-bug-icon-jsx-inline-1RCLVi9)"},[Qr("path",{d:"M19.118 10.272h-2.353V6.971l1.47-1.44a.747.747 0 0 0 0-1.16.83.83 0 0 0-1.213 0l-1.507 1.406h-.478c0-2.635-2.243-4.777-5-4.777-2.794 0-5 2.142-5 4.777h-.588L2.94 4.372a.83.83 0 0 0-1.213 0 .747.747 0 0 0 0 1.159l1.507 1.44v3.301H.882c-.514 0-.882.386-.882.843 0 .492.368.843.882.843h2.353v.843c0 1.054.258 2.002.772 2.845l-1.985 1.931a.747.747 0 0 0 0 1.16.83.83 0 0 0 1.213 0l1.875-1.792c1.066.949 2.464 1.476 4.008 1.476h1.764c1.508 0 2.905-.527 3.97-1.476l1.876 1.791a.83.83 0 0 0 1.213 0 .747.747 0 0 0 0-1.159l-1.985-1.931a5.378 5.378 0 0 0 .809-2.845v-.843h2.353c.478 0 .882-.351.882-.843 0-.457-.404-.843-.882-.843Zm-9.081-7.586c1.764 0 3.235 1.405 3.235 3.09h-6.47c0-1.685 1.433-3.09 3.235-3.09Zm.845 14.049v-6.603c0-.211-.22-.422-.44-.422h-.883a.437.437 0 0 0-.441.422v6.603C6.838 16.735 5 14.979 5 12.8V7.462h10v5.339c0 2.178-1.875 3.934-4.118 3.934Z",fill:"#498BFF"},[])]),Qr("defs",{},[Qr("clipPath",{id:"svg-bug-icon-jsx-inline-1RCLVi9"},[Qr("path",{fill:"#fff",d:"M0 0h20v20H0z"},[])])])])}function Os(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M9.117 7.349a2.5 2.5 0 0 0 0 3.535.833.833 0 1 1-1.179 1.179 4.167 4.167 0 0 1 0-5.893l2.946-2.946a4.167 4.167 0 1 1 5.893 5.892l-.91.911a.833.833 0 1 1-1.18-1.178l.911-.911a2.5 2.5 0 0 0-3.535-3.536L9.117 7.35Zm1.767 5.302a2.5 2.5 0 0 0 0-3.535.833.833 0 1 1 1.178-1.179 4.167 4.167 0 0 1 0 5.892l-2.916 2.917a4.167 4.167 0 0 1-5.893-5.892l.855-.855a.833.833 0 1 1 1.178 1.179l-.854.854a2.5 2.5 0 0 0 3.535 3.536l2.917-2.917Z",fill:"#498BFF"},[])])}function Is(){return Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Is.apply(this,arguments)}function ks(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 1 1-1.178 1.179L.744 5.589a.833.833 0 0 1 0-1.178l3.333-3.334a.833.833 0 1 1 1.179 1.179l-1.91 1.91Z",fill:"#498BFF"},[])])}function Ds(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])}function Ns(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30Z",fill:"#000","fill-opacity":".65"},[]),Qr("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 0 0-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 0 0 .713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 0 0 0-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174Z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])}function Rs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("circle",{cx:"8",cy:"8",r:"8",fill:"#262626","fill-opacity":".65"},[]),Qr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.127 12.808H10.8v-9.6H8.368c-2.445 0-3.73 1.257-3.73 3.108 0 1.478.705 2.348 1.962 3.246l-2.183 3.246h1.81l2.43-3.633-.842-.566c-1.022-.69-1.52-1.23-1.52-2.39 0-1.022.72-1.713 2.087-1.713h.745v8.302Z",fill:"#b1b1b1"},[])])}function Vs(e){let{targetElementRef:t,content:i,arrowPosition:n}=e;const r=Io(N_).ownerDocument.defaultView,{containerElement:o}=mb(),{setTooltipContent:a}=gb();Co((()=>{const e=t.current;if(!e)return;const s=new qg,l=se(r),d=()=>{if(!o)return void Cu.error({error:new Od({code:"NO_CONTAINER_ELEMENT_TO_DRAW_TOOLTIP",details:{content:i}})});const t=e.getBoundingClientRect(),r=o.getBoundingClientRect(),s={top:t.top-r.top,left:t.left-r.left,winWidth:r.width,winHeight:r.height,width:t.width,height:t.height};Cu.values({name:"ShowTooltip",sensors:{isTouch:l}});const d={content:i,targetElementCoordinates:s,onClickClose:l?()=>{a(void 0)}:void 0,arrowPosition:n};a(d)},c=()=>{a(void 0)};return s.subscribe(c),l?s.subscribe(Z({element:e,eventName:"click",listener:d})):(s.subscribe(Z({element:e,eventName:"mouseenter",listener:d})),s.subscribe(Z({element:e,eventName:"mouseleave",listener:c}))),()=>{s.dispatch(void 0)}}),[t.current,i])}function Ls(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({version:"1.1"},t),[Qr("path",{d:"M13 14a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14zm9 0a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14z"},[])])}function Bs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({version:"1.1"},t),[Qr("path",{d:"M13.53 12.956a1 1 0 0 0-1.53.848v16.392a1 1 0 0 0 1.53.848l13.113-8.196a1 1 0 0 0 0-1.696L13.53 12.956z"},[])])}function xs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({version:"1.1"},t),[Qr("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3z"},[])])}function Ms(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({version:"1.1"},t),[Qr("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm13.267 3.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function Us(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({version:"1.1"},t),[Qr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.707 30.707a1 1 0 0 0 0-1.414l-16-16a1 1 0 0 0-1.414 1.414L14.586 19H12a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283v-4.62l6.293 6.293a1 1 0 0 0 1.414 0zm.232-3.182-1.49-1.49a8.941 8.941 0 0 0 .818-3.734c0-2.197-.81-4.318-2.28-5.972L26.48 15a10.949 10.949 0 0 1 1.46 12.525zm-4.7-4.7 1.673 1.673a6.981 6.981 0 0 0-1.418-6.843L22 18.984a4.99 4.99 0 0 1 1.24 3.841zM20 14.965v4.62l-2.793-2.792 2.11-2.11a.4.4 0 0 1 .683.283z"},[])])}function Fs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({version:"1.1"},t),[Qr("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm17.267 3.301c0-2.687-.99-5.28-2.787-7.301l-1.494 1.329a8.982 8.982 0 0 1 2.281 5.972 8.98 8.98 0 0 1-2.28 5.972l1.493 1.33a10.983 10.983 0 0 0 2.787-7.302z"},[]),Qr("path",{d:"M25.267 22.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function Hs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 19 19",version:"1.1"},t),[Qr("path",{d:"M15 15a1 1 0 1 1 2 0v1.077c0 .76-.082 1.185-.318 1.627a2.364 2.364 0 0 1-.978.977c-.442.237-.866.319-1.627.319H2.923c-.76 0-1.185-.082-1.627-.319a2.363 2.363 0 0 1-.977-.977C.082 17.262 0 16.838 0 16.077V4.5A2.5 2.5 0 0 1 2.501 2l1.501.005a1 1 0 0 1-.006 2L2.5 4a.5.5 0 0 0-.5.5v11.577c0 .459.022.57.082.684.038.07.087.12.157.157.113.06.225.082.684.082h11.154c.459 0 .571-.022.684-.082a.363.363 0 0 0 .157-.157c.06-.113.082-.225.082-.684V15zm4-4a1 1 0 1 1-2 0 9 9 0 0 0-9-9 1 1 0 0 1 0-2c6.075 0 11 4.925 11 11zm-4 0a1 1 0 1 1-2 0 5 5 0 0 0-5-5 1 1 0 0 1 0-2 7 7 0 0 1 7 7zm-4 0a1 1 0 1 1-2 0 1 1 0 0 0-1-1 1 1 0 0 1 0-2 3 3 0 0 1 3 3z",fill:"#fff","fill-opacity":".85"},[])])}function zs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",style:"fill:#fff"},t),[Qr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 9a9 9 0 1 0 18 0A9 9 0 0 0 0 9zm16 0A7 7 0 1 1 2 9a7 7 0 0 1 14 0zM5.825 6.858c0-1.863 1.54-2.997 3.483-2.997 1.917 0 3.348 1.134 3.348 2.808v.054c0 1.593-1.026 2.241-1.984 2.66l-.243.108c-.324.148-.432.324-.432.715a.351.351 0 0 1-.351.351H8.7a.486.486 0 0 1-.486-.486c0-.918.324-1.498 1.174-1.877l.243-.108c.81-.364 1.242-.661 1.242-1.336 0-.729-.62-1.215-1.566-1.215-.972 0-1.7.486-1.7 1.404a.324.324 0 0 1-.325.324H6.23a.405.405 0 0 1-.405-.405zm3.28 4.266c-.728 0-1.282.526-1.282 1.282s.554 1.283 1.283 1.283c.729 0 1.282-.527 1.282-1.283 0-.756-.553-1.282-1.282-1.282z",fill:"#fff"},[])])}function js(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"40",height:"44",version:"1.1",style:"fill:#fff"},t),[Qr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m13.636 15.636.001-.001.001.001.437-.437a.575.575 0 0 1 .786-.025l1.049.92a1.67 1.67 0 0 0 2.318-.051c.286-.288.468-.679.485-1.112h.003l.091-1.392a.575.575 0 0 1 .574-.538H20V13v.001h.619c.303 0 .554.235.574.538l.09 1.392h.005c.017.435.201.828.49 1.116a1.666 1.666 0 0 0 2.33.03l1.031-.904a.575.575 0 0 1 .786.026l.437.437.002-.002v.004l.436.437a.575.575 0 0 1 .026.785l-.919 1.05a1.665 1.665 0 0 0-.442 1.133 1.669 1.669 0 0 0 1.604 1.67v.003l1.393.092c.302.02.537.27.537.573V22H29v.002h-.002v.617a.575.575 0 0 1-.537.574l-1.392.093v.001a1.666 1.666 0 0 0-1.116.49c-.302.302-.488.72-.488 1.18 0 .438.168.836.443 1.134l-.002.001.92 1.05c.2.227.189.57-.026.785l-.437.437v.002l-.438.436a.575.575 0 0 1-.785.026l-1.01-.884a1.666 1.666 0 0 0-1.173-.48 1.669 1.669 0 0 0-1.67 1.607h-.004l-.091 1.392a.575.575 0 0 1-.544.537h-1.297a.575.575 0 0 1-.543-.537l-.092-1.392h-.003a1.666 1.666 0 0 0-.49-1.12 1.666 1.666 0 0 0-1.18-.487c-.454 0-.866.181-1.167.475l-1.016.89a.575.575 0 0 1-.785-.027l-.437-.437h-.002v-.001l-.437-.437a.575.575 0 0 1-.025-.786l.92-1.049h-.002a1.669 1.669 0 0 0-.049-2.32 1.666 1.666 0 0 0-1.112-.485v-.001l-1.393-.093A.575.575 0 0 1 11 22.62V22h.001v-.619c0-.303.235-.553.538-.573l1.392-.092v-.003a1.666 1.666 0 0 0 1.605-1.67c0-.441-.171-.842-.45-1.141l-.912-1.042a.575.575 0 0 1 .026-.785l.437-.438h-.001zM23.375 22a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0z"},[])])}function Ws(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"40",height:"44",version:"1.1",style:"fill:#fff"},t),[Qr("path",{d:"M14 23a1 1 0 1 0-2 0v7h7a1 1 0 1 0 0-2h-5v-5zm6-9a1 1 0 1 0 0 2h6v5a1 1 0 1 0 2 0v-7h-8z"},[])])}function Ys(e){let{playingState:t,volumeStatus:i,controlsVisibility:n}=e;return"idle"!==t&&("unknown"!==i&&!1!==n.mute)}function Gs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M.797 11.793 5.587 7 .796 2.207A1 1 0 0 1 2.21.793l5.497 5.5a1 1 0 0 1 0 1.414l-5.497 5.5a1 1 0 0 1-1.414-1.414Z",fill:"#fff"},[])])}function Xs(e,t){if(e)return e.medicine?{text:Ch("MOTION_DRUG_DISCLAIMER",t),mandatoryHeightPortion:.05}:e.dietarysuppl?{text:Ch("MOTION_DIETARYSUPPL_DISCLAIMER",t),mandatoryHeightPortion:.1}:void 0}function Ks(){var e;const{isAbuseSubmitted:t}=yT(),i=UE(),{shouldShowSkipButton:n}=yC(),r=D_(),o=r.height>r.width;if(t)return{isActionButtonVisible:!1,isSkipButtonVisible:!1,isProductsButtonVisible:!1,shouldUseTwoLinesLayout:!1,isExperimentLiftButtonsUp:!1,fontSize:"",skipButtonFontSize:"",skinSize:i,disclaimerInfo:void 0,isEcomShopVisible:!1,shouldUseSmallCta:!1,isOutstream:!1,isVerticalFormat:o,ecomShop:void 0};const{themeEmptyParameters:a}=jy(),s=Vy(),{isPackshotPlaying:l}=bT(),{timeToSkip:d}=Fy(),{skinVariant:c}=vC(),u="videoInCombo"===c,h=!1!==s.actionButton&&void 0!==a&&!l,p=!1!==s.skip&&!u&&n,m=p&&d!==xy,{ecomShopState:A}=pC(),v=!1!==s.productsButton&&void 0!==(null==(e=A.ecomShop)?void 0:e.products)&&A.ecomShop.products.length>0&&!l&&("small"!==i||o),g=(p||v)&&r.width<750||"small"===i,{shouldUseNewSkin:_}=hT(),y=_&&"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_LIFT_BUTTONS_UP_IN_NEW_SKIN")||"PLAYER_LIKE_SKIN"===Eu.getFlagValueAndActivateTestId("VAS_NEW_SKIN_VARIANT"),f=r.width<uS||r.height<300,S=.28*ea(r)+"px",T=f?"0.8em":ta(r)+"px",E=Sy(),b=fb();return{isActionButtonVisible:h,isSkipButtonVisible:m,isProductsButtonVisible:v,isExperimentLiftButtonsUp:y,skinSize:i,shouldUseTwoLinesLayout:g,fontSize:T,skipButtonFontSize:S,disclaimerInfo:!1===s.disclaimers?void 0:Xs(b,E),isEcomShopVisible:A.isVisible&&!l,shouldUseSmallCta:f,isOutstream:u,isVerticalFormat:o,ecomShop:A.ecomShop}}function qs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({viewBox:"0 0 26 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M4.667 7.333c0-3.826 2.5-6.672 6.335-6.666 3.835.006 6.331 2.844 6.331 6.666h1.19c.871 0 1.187.088 1.508.254.321.166.576.41.754.724.18.315.28.627.314 1.498l.509 12.724A3.333 3.333 0 0 1 18.278 26H3.722a3.333 3.333 0 0 1-3.331-3.467L.901 9.81c.035-.871.135-1.183.314-1.498.178-.314.433-.558.754-.724.32-.166.637-.254 1.508-.254h1.19ZM3.057 22.64v.013l-.001.014c0 .368.298.666.667.666h14.581a.667.667 0 0 0 .64-.693L18.438 10H3.562l-.505 12.64Zm7.941-19.307c-2.278-.003-3.665 1.576-3.665 4h7.334c0-2.42-1.386-3.996-3.669-4ZM5.667 13.657c0-.963.732-1.657 1.657-1.657C8.268 12 9 12.694 9 13.657c0 .963-.732 1.676-1.676 1.676-.925 0-1.657-.713-1.657-1.676ZM14.657 12c-.925 0-1.657.694-1.657 1.657 0 .963.732 1.676 1.657 1.676.944 0 1.676-.713 1.676-1.676S15.601 12 14.657 12Z",fill:"currentColor"},[])])}function Js(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({viewBox:"0 0 26 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.513 7.399.39 4.276a1.333 1.333 0 0 1 1.885-1.885l22.667 22.666a1.333 1.333 0 1 1-1.886 1.886l-1.684-1.684a3.319 3.319 0 0 1-2.096.741H4.723a3.333 3.333 0 0 1-3.331-3.466l.509-12.725c.035-.87.135-1.183.314-1.498.178-.314.433-.558.754-.724.16-.083.318-.146.544-.188ZM19.43 23.316a.662.662 0 0 1-.126.017H4.723a.667.667 0 0 1-.667-.666v-.027L4.563 10h1.552l2.011 2.01c-.829.092-1.458.754-1.458 1.647 0 .963.732 1.676 1.657 1.676.872 0 1.563-.608 1.663-1.46l9.443 9.443ZM19.438 10l.236 5.903 2.78 2.78-.355-8.874c-.035-.87-.135-1.183-.314-1.498a1.814 1.814 0 0 0-.754-.724c-.32-.166-.637-.254-1.508-.254h-1.19c0-3.822-2.496-6.66-6.33-6.666-2.215-.004-3.984.943-5.084 2.48l1.93 1.931c.598-1.1 1.691-1.747 3.149-1.745 2.283.004 3.669 1.58 3.669 4h-4.562L13.77 10h5.667Z",fill:"currentColor"},[])])}function Zs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({viewBox:"0 -5 15 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M1.25 0a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5ZM5 .25a1 1 0 0 0 0 2h12a1 1 0 1 0 0-2H5Zm0 5a1 1 0 0 0 0 2h12a1 1 0 1 0 0-2H5Zm-1 6a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Zm-4-5a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM1.25 10a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z",fill:"currentColor"},[])])}function Qs(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({viewBox:"0 -5 15 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M1.25 0a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5ZM5 .25a1 1 0 0 0 0 2h12a1 1 0 1 0 0-2H5Zm0 5a1 1 0 0 0 0 2h12a1 1 0 1 0 0-2H5Zm-1 6a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Zm-4-5a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM1.25 10a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z",fill:"currentColor"},[])])}function $s(){return $s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$s.apply(this,arguments)}function el(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M0 8c6 0 9-8 12-8s6 8 12 8v1.5H0V8Z",fill:"#2F2F32"},[])])}function tl(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 16.003a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm2.404-11.82A1 1 0 1 1 11.818 5.6L9.414 8.003l2.404 2.404a1 1 0 0 1-1.414 1.414L8 9.417 5.596 11.82a1 1 0 0 1-1.414-1.414l2.404-2.404-2.404-2.404a1 1 0 0 1 1.414-1.415L8 6.59l2.404-2.405v-.001Z",fill:"#fff","fill-opacity":".25"},[])])}function il(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42ZM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97Zm11.248 2.6a7.666 7.666 0 0 0-2.053-5.2l-1.73 1.487a5.48 5.48 0 0 1 1.467 3.712 5.48 5.48 0 0 1-1.467 3.714l1.73 1.487a7.667 7.667 0 0 0 2.053-5.2Z",fill:"#F2F2F2"},[])])}function nl(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4 2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4Zm12.907 8.412 2.002 1.686a7.556 7.556 0 0 0 .346-2.258 7.666 7.666 0 0 0-2.054-5.2l-1.732 1.487a5.48 5.48 0 0 1 1.469 3.713c0 .192-.01.383-.031.572Zm3.817 3.215 1.79 1.508A10.962 10.962 0 0 0 23.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 0 1-.85 3.787ZM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907Z",fill:"#F2F2F2"},[])])}function rl(){return rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},rl.apply(this,arguments)}function ol(e){e.styles;var t=Object.assign({},e);return delete t.styles,Qr("svg",Object.assign({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),[Qr("path",{d:"M2 9a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1h6a1 1 0 1 0 0-2H2V9Zm6-9a1 1 0 0 0 0 2h6v5a1 1 0 1 0 2 0V1a1 1 0 0 0-1-1H8Z"},[])])}function al(){return al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},al.apply(this,arguments)}function sl(e){const t=jc(e.children,(e=>sl(e)));return{xmlString:e.xmlString,children:t}}function ll(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}function dl(e){return"__private_"+_P+++"_"+e}function cl(){return cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cl.apply(this,arguments)}function ul(e){const t={};for(const i in e)g(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function hl(e){if(!d(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return ul({stickTo:pl(t,DP),stickyColorScheme:pl(i,kP)})}function pl(e,t){if("string"!==typeof e)return;if(!d(t))return;const i=e.toLowerCase();return ni(t).indexOf(i)>-1?i:void 0}function ml(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?Ot(i):void 0}function Al(e,t){return"true"===ml(e,t)}function vl(){return vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vl.apply(this,arguments)}function gl(){return gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gl.apply(this,arguments)}function _l(e,t,i){var n;const r=[],o=i.querySelector("AdSource");if(!o)throw new Od({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let a=0;if(o.hasAttribute("id")){if(a=Number(o.getAttribute("id")),!qt(a))throw new Od({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else r.push(new Od({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const s=i.querySelector("Extensions");if(!s)throw new Od({code:"NO_AD_BREAK_EXTENSIONS",details:t});const l=o.querySelector("VASTAdData"),d=null!=(n=null==l?void 0:l.querySelector("VAST"))?n:void 0,c=d?(e=>{const t=new XMLSerializer;return t.serializeToString(e)})(d):void 0,u=o.querySelector("AdTagURI"),h=Ot(u);if(!u||!h)throw new Od({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const p={adTagURI:h,adFoxParameters:void 0,inlineVast:c},m=i.getAttribute("breakType"),A=Pt(i,"breakId"),v=Pt(i,"timeOffset","start"),g=()=>new Od({code:"VMAP_INCORRECT_TIME_OFFSET",details:gl({},t,{timeOffset:v,breakIdAttribute:A})});if(-1===IP.indexOf(A))throw new Od({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:gl({},t,{breakIdAttribute:A})});const _=function(e,t){switch(e){case"linear,nonlinear":return[new Od({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case"linear":return[];case"nonlinear":return[new Od({code:"NON_LINEAR_AD_BREAK_IN_NOT_SUPPORTED",details:t})];default:throw new Od({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(m,t);let y;if(r.push(..._),"inpage"===A)y=function(e){const t=ml("Stick",e),i=hl({stickTo:ml("StickTo",e),stickyColorScheme:ml("ColorScheme",e)});return vl({stick:"true"===t,adType:"inpage",replayMode:NP(e)},i)}(s);else if("inroll"===A)y={adType:"inroll"};else if("postPauseroll"===A)y={adType:"postPauseroll"};else if("start"===v){if(OP[v]!==A)throw g();y={adType:"preroll"}}else if("end"===v){if(OP[v]!==A)throw g();y={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(v))throw g();{if("midroll"!==A)throw g();const e=function(e,t){return Number(ml(e,t))}("MaxRepeatCount",s),t=zt(Pt(i,"repeatAfter")),n={timeOffset:zt(v),repeatAfter:isNaN(t)?0:t,maxRepeatCount:isNaN(e)?0:e,repeatNumber:0};y=gl({adType:"midroll",broadcastReplace:Al("BroadcastReplace",s)},n)}}return{adBreak:gl({impId:a},y,e,p),errors:r,events:[]}}function yl(){return yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yl.apply(this,arguments)}function fl(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:n}=e;const r=[],o=[],a=[],{xml:s,responseText:l}=t,d={responseText:l,vmapLoadParams:i};if(null===s||void 0===s)throw new Od(i?{code:"VMAP_EMPTY_RESPONSE",details:yl({},i,{vmapXmlObject:t})}:{code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const c=s.querySelector("VMAP");if(!c)throw new Od({code:"NO_VMAP_ROOT_NODE",details:d});const u=c.querySelectorAll("AdBreak");null!==u&&0!==u.length||o.push({name:"NoVmapAdBreaks",data:d});const h=new PP,p=s.querySelector("VMAP > Extensions");if(!p)throw new Od({code:"NO_VMAP_EXTENSIONS",details:d});A(c.querySelectorAll("TrackingEvents"));const m=e=>{const t=p.querySelector('Extension[type="'+e+'"]');return t?Ot(t):""};h.isSingleVideoSession="true"===m("SingleVideoSession"),h.isUniformat="true"===c.getAttribute("ya-uniformat");const v={sessionId:m("SessionID"),vastTimeout:parseInt(m("VASTTimeout"),10)};for(let A=0;A<u.length;A++)try{const{adBreak:e,errors:t,events:i}=_l(yl({},v,n),d,u[A]);h.adBreaks.push(e),r.push(...t),o.push(...i)}catch(g){r.push(g)}return a.push({name:"CreateVmapFromXMLString",data:{vmap:l},sensors:{uniformat:h.isUniformat}}),{vmap:h,errors:r,events:o,valuesEvents:a}}function Sl(){return Sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Sl.apply(this,arguments)}function Tl(e){if(!d(e))return{};const{wrapperMaxCount:t}=e;if(void 0!==t&&!Wt(t))throw new Od({code:"INVALID_WRAPPER_MAX_COUNT",details:{wrapperMaxCount:t}});const i={wrapperMaxCount:t};if(void 0!==e.adFoxParameters){const t=d(n=e.adFoxParameters)?Ai(n)?void 0===n.containerId||f(n.containerId)?l(n.ownerId)?0===n.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT";if(t)throw new Od({code:t,details:{adConfig:e}});i.adFoxParameters=e.adFoxParameters}var n;return i}function El(){return El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},El.apply(this,arguments)}function bl(e){if(!d(e))return{};const{partnerId:t,category:i,vmapId:n,vmapScenarioId:r,impId:o,videoContentId:a,additionalParams:s,vmap:l,hasPreroll:c}=e;if(void 0!==o&&!qt(o))throw new Od({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==n&&!qt(n))throw new Od({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==l&&!f(l))throw new Od({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==c&&"boolean"!==typeof c)throw new Od({code:"INVALID_CONFIG_HAS_PREROLL_VALUE",details:{config:e}});if(void 0!==r&&!qt(r))throw new Od({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return El({},function(e){const t=d(e)?e:{};return ul({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:l,hasPreroll:c,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:o,vmapId:n,vmapScenarioId:r,videoContentId:"string"===typeof a?a:void 0,additionalParams:$i(s)})}function Cl(){return Cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cl.apply(this,arguments)}function wl(e){if(!d(e))return{};const t=Tl(e),i=bl(e),n=function(e){if(!d(e))return;let t,i;return t=Array.isArray(e.videoGenreId)?jc(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),i=Array.isArray(e.videoGenreName)?jc(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:t,videoGenreName:i,musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?jc(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),r=function(e){if(!d(e))return;const{metaRequestIndex:t,metaImpIdRequestIndex:i}=e;if(void 0!==t&&!Wt(t))throw new Od({code:"INVALID_CONFIG_META_REQUEST_INDEX_VALUE",details:{config:e}});if(void 0!==i&&!Wt(i))throw new Od({code:"INVALID_CONFIG_META_IMP_ID_REQUEST_INDEX_VALUE",details:{config:e}});return{metaRequestIndex:t,metaImpIdRequestIndex:i}}(e),o=function(e){const t={};return d(e)?(x(["full","creative","limited","domain"],e.omidAccessMode)&&(Cu.event({name:"OmidAccessModeIsSetThroughAdConfig",data:{accessMode:e.omidAccessMode}}),t.omidAccessMode=e.omidAccessMode),t):t}(e);return Cl({},t,i,n,r,o,{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&f(e.vast)?String(e.vast):void 0,desiredBitrate:Vt(e.desiredBitrate),secureMode:BP(e),preferableAdSize:RP(e),loadHarmlessVastCallback:h(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0})}function Pl(e){return f(e)?e:"0"}function Ol(e){const t=d(e)?e:{};return ul({vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout)})}function Il(){return Il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Il.apply(this,arguments)}function kl(){return kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},kl.apply(this,arguments)}function Dl(){return Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Dl.apply(this,arguments)}function Nl(e){return!!l(e)&&HP.indexOf(e)>-1}function Rl(){return Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Rl.apply(this,arguments)}function Vl(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function Ll(e){let t={};try{const i=yc({localStorage:e},GP);null!==i&&(t=JSON.parse(i))}catch(n){}const i={};return w(t,((e,t)=>{Pe(e)&&(i[t]=e)})),i}function Bl(){return Bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bl.apply(this,arguments)}function xl(e){let{config:t,adPlacementOptions:i,win:n}=e;const{partnerId:r}=t;if(!r)throw new Od({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const o=((e,t)=>{const{category:i,vmapScenarioId:n,hasPreroll:r,targetRef:o}=e,a=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),s=rA(e);let l;try{l=new XP}catch(p){}let d=0;"number"===typeof i&&l&&(d=l.getWatchedTimeSinceAd({category:i}));const c=P(t),u=t.document.referrer;let h;h=o||(c===nA?u:c);return Bl({},s,a,{[Mu]:!1===r?"0":!0===r?"1":void 0,[xu]:void 0===n?void 0:String(n),[Uu]:String(Math.floor(d)),client_type:"html"},"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_ENABLE_VAST_IN_VMAP")?{"target-ref":h,"inline-preroll-vast-in-vmap":"1"}:{})})(t,n),a=Ne({url:L(""+KP+r,o),ignoreAbd:!0,options:i,win:n}),s=uu(n);return"function"===typeof s?s(L(a,{abd:"1"})):a}function Ml(){return Ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ml.apply(this,arguments)}function Ul(e){var t;let{rawAdConfig:i,useDefaultAdPlaybackParameters:n=!1,syntheticVMAPType:r="preroll",adPlacementOptions:o,stats:a}=e;const{adConfig:s,adBreak:l,warnings:d}=function(e,t,i){const{vastBase64:n,adBreakType:r}=e,o=Vl(e,zP),a=[],s=wl(o),{videoContentId:l}=s,d=Rl({},Vl(s,jP),{videoContentId:Pl(l)});let c,u;if(n&&(d.vast=ze(n)),Nl(r)?u=r:t&&(a.push(new Od({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),Nl(i)&&(u=i)),u){const e=Ol(o);c=Rl({},FP[u],e)}return{adConfig:d,adBreak:c,warnings:a}}(i,n,r);let c;ei(d);const u=xc.isDebugEnabled?(()=>{if(!xc.isDebugEnabled)return;const e=Mv();if(null==e||!e.getVmap)return;const t=e.getVmap();return Cu.event({name:"LoadInlineTestUtilsVmap",data:{vmap:t},probability:1}),t})():void 0,h=f(s.vmap)?s.vmap:void 0,p=null!=u?u:h;if(f(p)){c={adConfig:s,vmap:(e=>{const t=pt(e),{vmap:i,events:n,valuesEvents:r,errors:o}=fl({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return ei(o),Id(n,(e=>{Cu.event(Sl({},e,{probability:1}))})),Id(r,(e=>{Cu.values(e)})),i})(p),adPlacementOptions:o,stats:a}}else if(s.adFoxParameters){const e=l||wP,t=new PP;t.adBreaks=[e],c={adConfig:s,vmap:t,adBreak:e,adPlacementOptions:o,stats:a}}else if(l){const e=new PP;e.adBreaks=[l],c={adConfig:s,vmap:e,adBreak:e.adBreaks[0],adPlacementOptions:o,stats:a}}if(0===(null==(t=c)?void 0:t.vmap.adBreaks.length))throw new Od({code:"AD_LOADER_AD_CONFIG_VMAP_NO_AD_BREAKS",details:i});return{config:c,parsedAdConfig:s}}function Fl(e){const{config:t,parsedAdConfig:i}=Ul(e);if(t)return new EP(t);const n=e.adPlacementOptions,r=async function(){let e;if(1===arguments.length)e=arguments.length<=0?void 0:arguments[0];else{const t=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],n=bl(t),r=xl({config:n,adPlacementOptions:i,win:window}),{vmapLoadTimeout:o}=n;let a=3e3;o&&(a=o),e={url:r,vmapLoadParams:{url:r,config:t,timeout:a},timeout:a}}const{url:t,vmapLoadParams:i,timeout:n}=e,r=Date.now();let o;Cu.event({name:"VmapLoadStart",data:i});try{const e=!h(uu(window)),i="boolean"===typeof xc.hardcodedParams.adsdkwithcredentials?xc.hardcodedParams.adsdkwithcredentials:e;o=await At({url:t,data:null,timeout:n,withCredentials:i})}catch(l){const e=Wp({thrownError:l,errorCode:"VMAP_LOAD_ERROR",errorDetails:i,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:i});throw Cu.error({error:e}),e}const{responseStatus:a,responseText:s}=o;if(200!==a){const e=WP(s);if(Pe(e))throw new Od({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:Ml({},i,{responseStatus:a,disabledPageId:e})});throw new Od({code:"INVALID_VMAP_RESPONSE_STATUS",details:Ml({},i,{responseStatus:a,responseText:o.responseText})})}try{const e=Ol(i.config),{vmap:t,events:n,valuesEvents:a,errors:s}=fl({vmapXmlObject:o,vmapLoadParams:i,vmapAdBreaksConfig:e});ei(s),Id(n,(e=>{Cu.event(Ml({},e,{probability:1}))})),Id(a,(e=>{Cu.values(e)}));const l=Ml({},ct(jc(IP,(e=>["adBreak_"+e,!1]))),ct(jc(t.adBreaks,(e=>["adBreak_"+e.adType,!0]))));return Cu.values({name:"VmapLoadSuccess",data:i,values:{adBreaksCount:t.adBreaks.length,timeSpent:Date.now()-r},sensors:l}),t}catch(l){throw Cu.errorToStats(l),l}}(i,n).then((t=>{if(0===t.adBreaks.length)throw new Od({code:"AD_LOADER_AD_CONFIG_VMAP_NO_AD_BREAKS",details:i});const r=new EP({adConfig:i,vmap:t,adPlacementOptions:n,stats:e.stats});return r.addDestroyHandler(Q((()=>{r.destroy()}),null!=pd?pd:window)),r}));return r.catch((t=>{e.stats.errorToStats(t)})),r}function Hl(e){return e.getBoundingClientRect().bottom>e.ownerDocument.body.getBoundingClientRect().bottom}function zl(e){var t;if(!e)return!1;const i=null!=(t=(e.ownerDocument||document).defaultView)?t:window;return Boolean(i.Element)&&e instanceof i.Element}function jl(e,t){void 0===t&&(t=40);const i=e.ownerDocument,{body:n}=i,r=i.documentElement,o=i.defaultView,a=Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight);if(e===r||e===n){return a-((o.pageYOffset||r.scrollTop)-(r.clientTop||0)+o.innerHeight)<t}return!(e.clientHeight>0&&e.scrollHeight>e.clientHeight&&e.scrollHeight-(e.scrollTop+e.clientHeight)>t)}function Wl(e){const{parentElement:t}=e;if(!t)return!1;const i=t.parentElement;if(!i)return!1;let n=i;for(;Boolean(n);){if(zl(n)&&!jl(n))return!1;n=n.parentNode||n.host}return!0}function Yl(e,t){if($P)return!1;const{left:i,right:n,top:r,bottom:o}=lp(e),a=n-i,s=o-r,l=e.ownerDocument!==document;let d;if(l){const t=Array.prototype.slice.call(document.getElementsByTagName("iframe"),0);d=yd(t,(t=>t.contentWindow===e.ownerDocument.defaultView))}return!Ou(t,(t=>{let[n,o]=t,c=i+(a-1)*(1+n)/2,u=r+(s-1)*(1+o)/2;if(d){const{left:e,top:t}=lp(d);c+=e,u+=t}const p=document.elementFromPoint(c,u);if(!p||e===p||e.contains(p))return!0;if(l&&p&&"IFRAME"===p.tagName&&p.contentWindow&&p.contentWindow.document.body.contains(e))return!0;if(h(e.getRootNode)){if(Gl(p,e))return!0;if(Xl(p,e))return!0}return!1}))}function Gl(e,t){const i=e.getRootNode();return!(!i||!i.host)&&(!!t.contains(i.host)||Gl(i.host,t))}function Xl(e,t){const i=t.getRootNode();return!(!i||!i.host)&&(e===i.host||Xl(e,i.host))}function Kl(e){return e[rO]}function ql(){return ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ql.apply(this,arguments)}function Jl(){return Jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jl.apply(this,arguments)}function Zl(e){let{placeholderElement:t,placeholderWidth:i,adContentSize:n}=e;const r=function(e){let{placeholderWidth:t,adContentSize:i}=e;if(!i)return;const{width:n,height:r}=i;if(!Pe(n)||!Pe(r))return;const o=r/n;return Math.floor(t*o)}({placeholderWidth:i,adContentSize:n});void 0!==r?n&&(Uc("inPage: adjust ad height to adContentSize=["+JSON.stringify(n)+"] nextHeight=["+r+"]"),uy(t,{height:r+"px"},!0)):Uc("inPage: skip adjust placeholder to unknown ad size")}function Ql(){return Ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ql.apply(this,arguments)}function $l(){return $l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$l.apply(this,arguments)}const ed=e(5335),td=(e,t,i)=>{const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t.call(i,e[r],r,e);return n},id={}.toString,nd=/\[object (\w+)\]/,rd=e=>{const t=id.call(e);if(!t)return null;const i=t.match(nd);if(!i)return null;const n=i[1];return n||null},od=["","webkit","moz","o","ms"],ad=["","-webkit-","-ms-","-moz-","-o-"],sd=td(ad,(e=>"("+e+"any-pointer:coarse)")).join(","),ld=td(ad,(e=>"("+e+"touch-enabled)")).join(","),dd=(void 0===cd&&(cd=window),function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(h_){return""}}(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map((e=>e.trim().split("/")[0])).filter((e=>e&&"mobile"!==e));return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]}(cd)||a(cd)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&o(e)}(cd));var cd;const ud=s(document.documentElement),{length:hd}=ud,pd=hd>0?ud[hd-1].ownerDocument.defaultView:window,md=e=>e instanceof Error||"Error"===rd(e),Ad=e=>!!d(e)&&(!!l(e.name)&&!!l(e.message)),vd=e=>({name:e.name,message:e.message,stack:e.stack});let gd;const _d=[].find,yd=c(_d)?(e,t)=>_d.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const n=e[i];if(t(n,i,e))return n}},fd=e=>{try{return"display"in u(e)}catch(h_){return!1}};var Sd=e(3438),Td=e.n(Sd);const Ed="DEFAULT_ERROR_MESSAGE",bd=0,Cd="",wd="?:?:?",Pd=!0;class Od extends Error{constructor(e,t){var i;void 0===e&&(e={}),void 0===t&&(t={});const n="object"===typeof e?e:{message:String(e||Ed)};super(),this.originalError=Ad(e)?e:void 0,Td()(this,Od.prototype);const r=t.code||n.code||n.id||bd,o=t.message||n.message||Ed;this.message="VAS Error ["+r+"]"+(o?"["+o+"]":""),this.code=r,this.isFatal=Boolean(null!=(i=n.isFatal)?i:Pd),this.details=t.details||n.details||Cd;const a=n.stack||function(e){const{url:t,line:i,col:n,fileName:r,columnNumber:o,lineNumber:a}=e;return(t||r||"?")+":"+(i||a||"?")+":"+(n||o||"?")}(n);let s=a===wd?this.stack:a;if(s&&s!==wd)this.stack=s;else if(!this.stack)try{throw new Error(this.message)}catch(h_){this.stack=s=h_.stack||wd}this.toString=()=>p(this.toJSON()),this.toJSON=()=>({originalError:this.originalError,message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:s})}}const Id=(e,t,i)=>{for(let n=0;n<e.length;n++)t.call(i,e[n],n,e)},kd=function(e,t){let i=e[t];if(!c(i)){const n=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=n}catch(h_){}}return i}(Array,"isArray"),Dd=Boolean(kd)?e=>kd.call(Array,e):e=>"Array"===rd(e),Nd=["expFlags"],Rd=(e,t)=>{if(!d(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!l(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0!==e.length){for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[n,,r]=i;if(0===n.trim().length)throw new Error("testId length error ["+e+"]");if(0===r.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}}(t.testIds),!("flags"in t)||!d(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},Vd=e=>{const t=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,Nd),i={},n={};return Id(e.expFlags,(e=>{Id(e,(e=>{let{CONTEXT:{FLAGS:t},TESTID:r}=e;d(t)&&Id(_(t),(e=>{var o;const a=t[e];i[e]=a,n[e]=null!=(o=n[e])?o:[],n[e].push({value:a,testId:r[0]})}))}))})),y({flags:i,flagsMap:n},t)},Ld={testIds:"",flags:{}};const Bd=v((()=>{try{return __UAAS_CFG__}catch(e){return e}})),xd=e=>{if(md(e))return{error:e,config:Ld};try{const t=d(e)?e:JSON.parse(""+(e||"")),i=(e=>!!d(e)&&!(!("expFlags"in e)||!Dd(e.expFlags)))(t)?Vd(t):t;if(!Rd(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:Ld}}},Md=v((e=>xd(e||Bd()))),Ud=!T(Math.random)||Math.random()===Math.random(),Fd=Date&&i(Date.now)?()=>Date.now():()=>(new Date).getTime(),Hd="undefined"===typeof window?void 0:window.performance,zd=Hd&&i(Hd.now),jd=Hd&&Hd.timing&&Hd.timing.navigationStart?Hd.timing.navigationStart:Fd();let Wd=0;const Yd=zd?()=>Hd.now():()=>(()=>{const e=Fd()-jd;return Wd=Math.max(e,Wd),Wd})(),Gd=2147483647;let Xd=Date.now()*Yd()%Gd;const Kd=Ud?function(){return Xd=16807*Xd%Gd,(Xd-1)/2147483646}:function(){return Math.random()};let qd;try{qd="651309"}catch(h_){qd="INVALID_BUILD_VERSION"}const Jd=qd,Zd="VAS",Qd=e=>b(e.substr(-4),4,"0"),$d=()=>b(Date.now().toString().slice(0,10),10,"0"),ec=function(e,t,i){let n=0;for(arguments.length<3&&(n=1,i=e[0]);n<e.length;n++)i=t(i,e[n],n,e);return i},tc=e=>{const t=[];for(;e;)try{if(P(e),t.push(e),e.parent===e)break;e=e.parent}catch(h_){break}return t},ic=I(Array,"isArray"),nc=Boolean(ic)?e=>ic.call(Array,e):e=>"Array"===rd(e);class rc{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const oc=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new rc({})),function(){const n=t.apply(this,arguments);if(i.has(n))return i.get(n);const r=e.apply(this,arguments);return i.set(n,r),r}},ac=document.createElement("a"),sc=(oc((e=>k({},D(e)))),/^(android-app:|chrome-extension:)/),lc=e=>{try{return decodeURIComponent(e)}catch(h_){return e}},dc=(e,t)=>t.map((t=>e+"[]="+encodeURIComponent(t))).join("&"),cc="aim-banner-id",uc="aim-design-id",hc="aim-design-name",pc="aim-subdesign-id",mc=_({adsdkver:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkabflags:0,adsdkuaas:0,[cc]:0,[uc]:0,[hc]:0,[pc]:0,adsdkhoneypotforced:0,adsdkgrforced:0,vasnetworklogs:0,vasconsolelogs:0,vasdebug:0,vasfulldebug:0}),Ac={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},vc=_(Ac),gc=e=>"false"!==e&&Boolean(e),_c={adsdkver:e=>f(e)?e:void 0,adsdkecmaver:e=>{const t=null==e?void 0:e.toUpperCase();return"ES2017"===t||"ES5"===t?t:void 0},adsdktracelogs:M,adsdksecuremode:e=>e&&x(vc,e)?e:void 0,adsdkwithcredentials:e=>{const t=e?(""+e).toLowerCase():void 0;return"true"===t||"false"!==t&&void 0},adsdkabflags:U,adsdkuaas:U,[cc]:U,[uc]:U,[hc]:U,[pc]:U,adsdkhoneypotforced:M,adsdkgrforced:M,vasnetworklogs:gc,vasconsolelogs:gc,vasdebug:gc,vasfulldebug:M},yc=(e,t)=>{try{return e.localStorage.getItem(t)}catch(i){return null}},fc=(e,t,i)=>{try{e.localStorage.setItem(t,i)}catch(n){return}},Sc=new Set(mc),Tc=(Y(window),e=>d(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__));let Ec=document.currentScript;if(!Ec){const e=G(document.getElementsByTagName("script"));Ec=yd(e,Tc),Ec||(Ec=e[e.length-1])}const bc=Ec,Cc=bc?bc.src:"",wc="InPage",Pc=A,Oc=A,Ic=A,kc=e=>{let{propertyName:t}=e;return{call:e=>Pc(K({propertyName:t},e)),subscribe:e=>Ic(K({propertyName:t},e)),wait:e=>(e=>{let{propertyName:t}=e;return new Promise((e=>{Ic({callback:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e(i)},propertyName:t})}))})(K({propertyName:t},e)),waitUntil:e=>(e=>{let{propertyName:t,comparator:i}=e;return new Promise((e=>{Ic({propertyName:t,callback:function(){i(...arguments)&&e()}})}))})(K({propertyName:t},e)),clear:e=>Oc(K({propertyName:t},e))}};kc({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME"});const Dc=bc?bc.__AD_SDK_SCRIPT_SESSION_PARAMETERS__:void 0;bc&&(e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__})(bc);const Nc=["a","n.ya","nd","ex.ru"].join(""),Rc=["y","a","nde","x.ru"].join(""),Vc=["ya","sta","tic.net"].join(""),Lc=["ver","ify.y","a","nde","x.ru"].join(""),Bc=[Rc,Nc,Vc],xc=function(e){var t,i,n,r,o;const a=(e=>{let t;return{rootFields:S((()=>(e=>{if(d(e)){const t={},{vsid:i,contentPlayerVersion:n,pcodeVersion:r,widgetVersion:o}=e;if(f(i)&&(t.vsid=i),f(n)&&(t.contentPlayerVersion=n),f(r)&&(t.pcodeVersion=r),f(o)&&(t.widgetVersion=o),_(t).length>0)return t}return})(e)),(e=>{t=e}))||void 0,extractionError:t}})(null==Dc?void 0:Dc.STATS_ROOT_PARAMS),{config:s,parsingError:c}=function(e,t){let i,n=(null==t?void 0:t.VAS_UAAS_CONFIG)||Ld;try{const t=z(e,"adsdkuaas"),i=Md(t);if(i.error)throw i.error;n=i.config}catch(h_){i=h_}return{config:n,parsingError:i}}(e,Dc),u=function(e,t,i){var n;const r=t.flags,o=null!=(n=null==i?void 0:i.AB_FLAGS)?n:{};let a={};0;const s=z(e,"adsdkabflags"),d=l(s)?ec(s.split(","),((e,t)=>{const[i,n]=t.split("=");return J({},e,{[i]:n})}),{}):{};return J({},a,r,o,d)}(e,s,Dc),h=function(e,t){const i=W(e,t),n=ec(mc,((e,t)=>{const n=j(i,t);return H({},e,{[t]:(0,_c[t])(n)})}),{});return n.vasfulldebug&&(n.vasnetworklogs=!0,n.vasconsolelogs=!0,n.vasdebug=!0),n}(e,u),p=h.vasdebug,m=h.vasconsolelogs,A=q(h.adsdktracelogs,m),v=(null==a||null==(t=a.rootFields)?void 0:t.vsid)||(null==Dc?void 0:Dc.VSID)||function(e){void 0===e&&(e=Jd);return[E(44),Zd,Qd(e),$d()].join("x")}();A((null!=a&&null!=(i=a.rootFields)&&i.vsid||null!=Dc&&Dc.VSID?"Use VSID from session":"Generate new VSID")+" ["+v+"]");const g=null!=(n=null==Dc?void 0:Dc.VAS_USER_SESSION_RANDOM)?n:Kd(),y=(null==Dc?void 0:Dc.ICOOKIE)||s.iCookie,T=(null==Dc?void 0:Dc.AdditionalStatsRootFields)||a.rootFields||void 0,b=(null==Dc?void 0:Dc.TEST_IDS)||s.testIds||void 0,C=(Cc&&D(Cc).hostname,null!=(r=null==Dc?void 0:Dc.loaderLoadedFromAnYandexRu)&&r);return{hardcodedParams:h,isDebugEnabled:p,VSID:v,VAS_USER_SESSION_RANDOM:g,AB_FLAGS:u,ICOOKIE:y,TEST_IDS:b,VAS_UAAS_CONFIG:s,VAS_UAAS_CONFIG_ParseError:c,AdditionalStatsRootFields:T,AdditionalStatsRootFieldsExtractionError:a.extractionError,STATS_ROOT_PARAMS:null!=(o=null==Dc?void 0:Dc.STATS_ROOT_PARAMS)?o:{},isRumEnabledByLogProbability:!1,loaderLoadedFromAnYandexRu:C,activeTestIds:null==Dc?void 0:Dc.ActiveTestIds}}(window),Mc=xc.VSID,Uc=q(xc.hardcodedParams.adsdktracelogs,xc.isDebugEnabled);let Fc=!1,Hc=!1,zc=!1;try{const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>Fc=!0}),Object.defineProperty(t,"passive",{get:()=>Hc=!0}),Object.defineProperty(t,"capture",{get:()=>zc=!0}),e.addEventListener("click",A,t)}catch(MO){}const jc=(e,t,i)=>{const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t.call(i,e[r],r,e);return n},Wc=["pagehide","unload"],Yc=Boolean(window.location.ancestorOrigins),Gc=ee(window),Xc=function(){const e=td(ud,(e=>e.ownerDocument)),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}(),{topAncestor:Kc,isTrusted:qc}=function(e){void 0===e&&(e=window);const t=ee(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:n}=te(e.document),r=Xc?n:i,o=!Xc||Y(pd).length<2,{protocol:a,hostname:s,host:l,port:d}=D(r);return{topAncestor:N({protocol:a,hostname:s,host:l,port:d,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:o}}(),Jc=Kc,Zc=qc,Qc=200,$c=e=>T(e.navigator.sendBeacon),eu=$c(window),tu="https://log.strm.yandex.ru/log",iu=xc.hardcodedParams.vasnetworklogs||xc.VAS_UAAS_CONFIG.isInternalNetwork||!1,nu=iu?1:.01,ru=iu?1:.001,ou="VAS",au="adsdk-test-tag",su=(e,t)=>{for(const i of t.split(".")){if(!d(e)){e=void 0;break}e=e[i]}return e},lu="__ADB_CONFIG__",du=d(lu)&&lu.fn&&h(lu.fn.encodeUrl)?lu.fn.encodeUrl:void 0,cu=void 0===du?void 0:e=>du(e),uu=e=>{if(cu)return cu;const t=tc(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=su(e,"ya.videoAd.encodeUrl");if(h(i))return i}},hu=tc,pu=function(e){const t=hu(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window);class mu{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(Ae({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const n=t+i,r=me(e.toString(2),n).substr(-n,i);return parseInt(r,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return n(e)&&((e,t,i)=>{for(let n=0;n<e.length;n++)t.call(i,e[n],n,e)})(this.getTemplate(),(t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])}),this),this}getProps(){return Ae({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return he((e=this.getTemplate(),t=this.props,td(e,(e=>{let[i,n]=e;return[i,n&&t[n]||null]}))))}slice(e,t){return mu.sliceBits(this.serialize(),e,t)}}const Au={AdSDKLoader:0,VpaidPlayerLoader:1,AdLoader:11,InPage:13,Multiroll:16,VideoBannerAd:17,MotionTailor:18,YaMusicAPI:19,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,Rum:27,Examples:30,TestStand:29,Test:31,TestVpaid:31,TestVpaidAdCreative:31,HermioneTestApi:31,LoaderFunctions:32,SurveyOldDesignAdCreative:32,MultirollTestStand:32};const vu=new class extends mu{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:Number(Jd),BUNDLE:Au.InPage,UNUSED:0,ADBLOCK:h(uu(window))}}},gu=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0;class _u{constructor(e){this.rootFields={},this.onLogError=v((e=>{$(e),this.error({error:new Od({code:"STATS_LOG_ERROR",details:{message:null==e?void 0:e.message,stack:null==e?void 0:e.stack}})})})),this.event=e=>{let{name:t,data:i,probability:n=nu}=e;this.push({eventType:"event",eventName:t,data:i,probability:n})},this.error=e=>{let{error:t}=e;const i=ae(t)?t:new Od(t);this.push({eventName:String(i.code),eventType:"error",data:i,probability:1})},this.values=e=>{const{name:t,probability:i=nu}=e,{data:n,values:r,sensors:o,dailySensors:a}=e;this.push({eventName:t,eventType:"values",data:n,probability:i,values:r,sensors:o,dailySensors:a})},this.setRootFields=e=>{const t=ce(e);Id(t,(e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i}))},this.getRootFields=()=>this.rootFields,this.errorToStats=e=>{const t=ae(e)?e:new Od(e);this.push({eventName:String(t.code),eventType:"error",data:t,probability:1})},this.params=e,this.customRootFields=ge({},this.params.AdditionalStatsRootFields,{[au]:String(vu.serialize()),bannerTypeFromNanpu:pu,bundleName:wc,abFlags:this.params.AB_FLAGS,iCookie:this.params.iCookie,testIds:this.params.testIds})}push(e){let{eventName:t,eventType:i,data:n,probability:r,values:o,sensors:a,dailySensors:s}=e;if(!this.shouldLogEventWithProbability(r))return;const{version:l}=this.params,d={version:l,data:n,eventName:t,eventType:i,values:o,sensors:a,dailySensors:s};if(void 0!==this.sendingEventName)throw new Od({code:"RecursiveStatsRequests",details:void 0});Uc("[Stats] "+i+"="+t,d),this.sendingEventName=t;try{const e=L(tu,{[ou]:l,[i]:t}),n=p(this.createFullStatsObject(d));if(n.length>1e6&&"EnormousLogDetected"!==t)return this.sendingEventName=void 0,void this.event({name:"EnormousLogDetected",data:{eventName:t},probability:1});this.sendData(e,n)}catch(h_){this.sendingEventName=void 0,this.onLogError(new Od(h_,{details:{service:ou,version:l,eventType:i,eventName:t}}))}this.sendingEventName=void 0}sendData(e,t){const i=function(e,t){return!!eu&&window.navigator.sendBeacon(e,t)}(e,t);i||oe({url:e,data:t,method:"POST"})}shouldLogEventWithProbability(e){return this.params.rnd<e}createFullStatsObject(e){const{version:t,eventName:i,eventType:n,data:r,sensors:o,dailySensors:a}=e,{location:s,referrer:l}=te(document),d=se(window)?le(window):void 0,c=h(uu(window));return ge({},this.customRootFields,this.rootFields,{service:ou,values:e.values,sensors:o?ue(o,(e=>String(e))):void 0,dailySensors:a?ue(a,(e=>String(e))):void 0,timestamp:Date.now(),eventType:n,eventName:i,data:r,vsid:this.params.vsid,version:t,location:P(window),topLocation:s,topAncestor:Jc,isTopAncestorUndetermined:!Zc||void 0,ancestorOrigins:Gc,documentIsVisible:ve(document),referrer:window.document.referrer,topReferrer:l,currentScriptSrc:Cc,secureIFrame:Xc,isVideoADB:c,rnd:this.params.rnd,topDocumentFocus:de(),pcodeActiveTestIds:this.params.AB_FLAGS_STORE.getActiveTestIds(),deviceOrientation:d})}}kc({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME"});class yu{get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){yu.errorHandlers.push(e);return()=>{const t=((e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1})(yu.errorHandlers,(t=>t===e));yu.errorHandlers.splice(t,1)}}constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[n]=t;this._isDestroyed||(this._isDestroyed=!0,this._destroyReason=n,Id(this.destroyHandlers,(e=>{try{e(...t)}catch(MO){X(yu.errorHandlers,MO)}})),this.destroyHandlers.length=0)}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=A);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i.apply(t,n)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}yu.errorHandlers=[];const fu=(e,t,i)=>{const n=[];for(let r=0;r<e.length;r++){const o=e[r];t.call(i,o,r,e)&&n.push(o)}return n};class Su{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>{this.remove(...t)}}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>{this.remove(...t)}}promise(){return new Promise((e=>{this.addOne(e)}))}dispatch(e){const{once:t}=this;this.once=[],fe(this.on,e),fe(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=fu(this.on,(e=>t.indexOf(e)<0)),this.once=fu(this.once,(e=>t.indexOf(e)<0))}}class Tu{constructor(e,t){this.activeTestIds=[],this.initialActiveTestIds=[],this.activeFlags=new Set,this.getFlagValueAndActivateTestId=e=>{var t;const i=this.abFlags[e],n=i?null==(t=this.flagToTestIdMap[e])?void 0:t[i]:void 0;if(n)for(const r of n){const t=this.testIdMap.get(r);t&&(this.activateTestId(t),this.activateFlag(e))}return i},this.getActiveTestIds=()=>this.activeTestIds,this.isFlagActive=e=>this.activeFlags.has(e),this.__setAbFlags=e=>{this.abFlags=e},this.__restoreAbFlags=()=>{this.abFlags=this.initialAbFlags},this.__setActiveTestIds=e=>{this.initialActiveTestIds=this.activeTestIds,this.activeTestIds=e},this.__restoreActiveTestIds=()=>{this.activeTestIds=this.initialActiveTestIds},this.onTestIdActivated=new Su,this.abFlags=t,this.initialAbFlags=t;const{flagsMap:i,testIds:n}=e;if(this.testIdMap=new Map,f(n))for(const r of n.split(";")){const[e]=r.split(",");this.testIdMap.set(e,r)}this.flagToTestIdMap=(e=>void 0===e?{}:ue(e,(e=>ec(e,((e,t)=>{var i;let{value:n,testId:r}=t;const o=null!=(i=e[n])?i:[];return o.push(r),e[n]=o,e}),{}))))(i)}activateTestId(e){x(this.activeTestIds,e)||(this.activeTestIds.push(e),this.onTestIdActivated.dispatch(e))}activateFlag(e){this.activeFlags.has(e)||this.activeFlags.add(e)}getNumberFlagValueAndActivateTestId(e){const t=this.getFlagValueAndActivateTestId(e),i=Number(t);return _e(i)?i:void 0}activateTestIds(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t){const[e]=n.split(",");if(!f(e))continue;const t=this.testIdMap.get(e);f(t)&&this.activateTestId(t)}}}const Eu=(null==Dc?void 0:Dc.AB_FLAGS_STORE)||function(){const e=new Tu(xc.VAS_UAAS_CONFIG,xc.AB_FLAGS);e.getFlagValueAndActivateTestId("ADSDKVER");const t=null==Dc?void 0:Dc.ActiveTestIds;return t&&e.activateTestIds(...t),e}(),bu={version:Jd,vsid:Mc,rnd:xc.VAS_USER_SESSION_RANDOM,AdditionalStatsRootFields:xc.AdditionalStatsRootFields,AB_FLAGS:xc.AB_FLAGS,AB_FLAGS_STORE:Eu,iCookie:xc.ICOOKIE,testIds:xc.TEST_IDS},Cu=new _u(bu);yu.addErrorHandler((e=>{Cu.error({error:new Od(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})}));const wu=/^([a-z0-9|-]+\.)*adfox.ru$/,Pu=/\/(an|ads)\/adfox/,Ou=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1},Iu=[...["localhost","127.0.0.1"].concat([]),...[Rc,"yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",Vc,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]],ku=(e=>c(e.navigator.sendBeacon))(window),Du=(kc({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME"}),-1),Nu={droppedVideoFrames:Du,corruptedVideoFrames:Du,totalVideoFrames:Du},Ru=Oe({},Nu,{droppedVideoFramesRatio:Du}),Vu={width:0,height:0},Lu={visibility:0,size:Vu,relativeSizeRatio:0,screenSize:Vu,devicePixelRatio:0,downlink:0,videoContentSize:void 0,videoAvatarSize:Vu,videoPixelRatio:Du,videoToDevicePixelRatio:Du,videoFramesInfo:Ru,videoSrc:"",videoMuted:!0,videoVolume:0,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:Du,remainingBufferedTime:0,isFullscreen:void 0,adPodId:void 0,productType:void 0},Bu="vsid",xu="vmap-scenario-id",Mu="has-preroll",Uu="wtime-since-ad",Fu="ad-pod-id",Hu=(e,t,i)=>{let n=e.getItem(t);return n||(n=i(t),e.setItem(t,n)),n},zu=(e,t)=>{for(const i of t.split(".")){if(!n(e)){e=void 0;break}e=e[i]}return e},ju=(e,t,i)=>{if(!n(e))return e;const r=e,o=t.split("."),a=o.pop();for(const s of o){const t=e[s];e=n(t)?t:e[s]={}}return e[a]=i,r},Wu=e=>{try{return e()}catch(h_){return}},Yu=(e,t,n,r)=>function(){try{return t.apply(n||this,arguments)}catch(h_){if(i(r)&&r(h_),!0===h_.preventProtect)throw h_;Yu.log(h_,e)}};Yu.log=function(e,t){console.log("LOG:"+t+":"+e)},Yu.setTimeout=(e,t,i,n)=>window.setTimeout(Yu("timeout",e,i,n),t);class Gu{}Gu.YaContextCallbacks=ke("Ya.C","ontext._callbacks"),Gu.YaContextCallbacksCalls=ke("Ya.C","ontext._callbacks_call"),Gu.AdvManager=ke("A","dvManager"),Gu.AdvBlock=ke("A","dvBlock"),Gu.RTB=ke("R","TB"),Gu.Rtb=ke("R","tb"),Gu.MetrikaAdtune=ke("metrika_a","dtune");class Xu{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const Ku=ie((()=>((e,t,i)=>{let n;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],(e=>{if(n=Wu((()=>zu(e,t))),!n)return Wu((()=>G(e.frames)))||[]})),n||(n=i()),ju(e,t,n),n})(self,"Ya.pcodeCrossFrameData",(()=>new Xu({}))))),qu=ie((()=>((e,t,i)=>{let n=zu(e,t);return n||(n=i(),ju(e,t,n)),n})(self,"Ya.pcodeWindowData",(()=>new Xu({}))))),Ju="Ya._metrika.dataLayer",Zu=Yu("metrika::pushEvent",((e,t)=>{const i=zu(e,Ju)||[];ju(e,Ju,i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:De({},t)}}})})),Qu=Yu("sessionId::configureMetrika",((e,t)=>{Zu(e,{adSessionID:t})})),$u=()=>(1e6*Kd()).toFixed(0)+(new Date).valueOf().toString(),eh="sessionId";let th;const ih=()=>{var e;return th||(th=((e,t,i,n)=>{let r=t.getItem(eh);return r||(r=i.getItem(eh)||e(),n(window,r)),t.setItem(eh,r),i.setItem(eh,r),r})($u,(e="common",Hu(qu(),e,(()=>new Xu({})))),(e=>Hu(Ku(),e,(()=>new Xu({}))))("common"),Qu)),th},nh=()=>S(ih)||void 0,rh=e=>{var t;const i=null==(t=e.yandex)?void 0:t.getSiteUid;if(h(i))return String(i())},oh=e=>Math.round(e),ah=e=>({width:oh(e.width),height:oh(e.height)}),sh="function"===typeof IntersectionObserver&&T(IntersectionObserver),lh=()=>!dh(),dh=()=>sh||!Xc,ch=e=>(e=>e instanceof Promise||"Promise"===rd(e)&&Boolean(Le((()=>T(e.constructor)))))(e)||(e=>Boolean(Le((()=>i(e.then)&&i(e.catch)))))(e),uh=[].find,hh=T(uh)?(e,t)=>uh.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const n=e[i];if(t(n,i,e))return n}};let ph;const mh=e=>t=>{const{JSON:i,clean:n}=function(e){void 0===e&&(e=document.body);const t=function(e){const t=function(e,t){let{content:i,size:n}=void 0===t?{}:t;const r=e.ownerDocument.createElement("iframe");r.scrolling="no",r.setAttribute("allowfullscreen",""),r.style.display="block",n&&(r.height=n.height,r.width=n.width),e.appendChild(r);const o=r.contentDocument;return o.open(),i&&o.write(i),o.close(),o.body.style.margin="0",r.style.borderWidth="0",r}(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>function(e){e.src="",function(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}(e)}(t)}}();try{return i[e](t)}finally{n()}},Ah="DEFAULT_ERROR_MESSAGE",vh=0,gh="",_h="?:?:?",yh=!0,fh=e(3438);class Sh extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||Ah)};super(),fh(this,Sh.prototype),this.message=t.message||i.message||Ah,this.code=t.code||i.code||i.id||vh,this.isFatal=Boolean(function(e){const[t]=((e,t,i)=>{const n=[];for(let r=0;r<e.length;r++){const o=e[r];t.call(i,o,r,e)&&n.push(o)}return n})(e,(e=>void 0!==e));return t}([t.isFatal,i.isFatal,yh])),this.details=t.details||i.details||gh;const n=t.stack||i.stack||function(e){const{url:t,line:i,col:n,fileName:r,columnNumber:o,lineNumber:a}=e;return(t||r||"?")+":"+(i||a||"?")+":"+(n||o||"?")}(i);let r=n===_h?this.stack:n;if(r&&r!==_h)this.stack=r;else if(!this.stack)try{throw new Error(this.message)}catch(h_){this.stack=r=h_.stack||_h}this.toString=()=>xe(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:r})}}const Th="ru";class Eh extends Sh{constructor(){super(...arguments),this.name="TranslatorError"}}const bh=function(e,t){void 0===t&&(t=!1);const i=(t,i,n)=>e[t][i][n],n=(t,i,n)=>e[t]&&e[t][i]&&e[t][i][n],r=e=>{let{keyset:t,key:r,lang:o=Th,onError:a,throwErr:s=!0}=e;if(n(o,t,r))return i(o,t,r);if(n(Th,t,r))return i(Th,t,r);{const e=new Eh("Tanker locale for lang="+o+", keyset="+t+", key="+r+" not found");return s&&$(e),"function"===typeof a&&a(e),""}};if(t){return oc(r,(e=>{let{keyset:t,key:i,lang:n}=e;return t+"_"+i+"_"+n}))}return r}(e(3716)),Ch=function(e,t){return void 0===t&&(t=Th),bh({keyset:"adsdk",key:e,lang:t})},wh=/&\w+;/g,Ph={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},Oh=["spec","logo","misc"],Ih=e=>{if(d(e))for(const t in e)if(e.hasOwnProperty(t)&&!x(Oh,t))return e[t]},kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",Dh=e=>{var t;let{secureMode:i,url:n}=e;const r=null!=(t=xc.hardcodedParams.adsdksecuremode)?t:i;return"ForceSafe"===r||"Safe"===r&&(!n||!be(n))},Nh=(e,t)=>{let i=0;return{promise:new Promise((n=>{i=t.setTimeout(n,e)})),clear(){t.clearTimeout(i)},timeoutId:i}},Rh="application/x-javascript",Vh=["application/javascript",Rh],Lh="ad-creative-animation/javascript",Bh=Ge({},Vu,{bitrate:0}),xh=["aw","ap","s-a","d-sd","k-j","s"].join(""),Mh=xh+"/1_0",Uh={MotionTailor:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",SurveyOldDesignAdCreative:"survey_old_design_ad_creative"},Fh=qe({},{InPage:"inpage",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},Uh),Hh=ue(Uh,(e=>e+".js")),zh=Ke(Hh),jh=ue(Hh,(e=>"https://"+Vc+"/"+Mh+"/"+e)),Wh=Ke(jh),Yh=Je({},Bh,{url:jh.InteractiveElementsAdCreative,type:Lh}),Gh="https://"+Vc+"/"+Mh+"/ad_creative.js",Xh=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0},Kh={MotionTailor:"motion",InteractiveElementsAdCreative:"interactiveViewer",SurveyOldDesignAdCreative:"survey"},qh=""+("https://"+Vc+"/"+Mh+"/")+("interactive_viewer"+".js"),Jh=function(e,t){const i=z(e,"adsdkver");return i||t}(window,Jd),Zh="https://"+Vc+"/vas-bundles/",Qh="https://"+Vc+"/"+xh+"/1_0/vpaid-motion.js",$h="https://"+Vc+"/pcode/media/vpaid-motion.js",ep="https://"+Nc+"/system/video-ads-sdk/vpaid-motion.js",tp=et(Jh)+"vpaid-motion.js",ip=[Qh,$h,ep,tp],np="video-banner_survey",rp="https://"+Vc+"/pcode/media/vpaid-creative.js",op="https://"+Vc+"/"+xh+"/1_0/vpaid-creative.js",ap=[rp,op];class sp extends Su{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add((i=>{e(i)&&ye(t,i)}))}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,(e=>{i(),ye(t,e)}));return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}const lp=e=>{try{const{left:t,right:i,top:n,bottom:r}=e.getBoundingClientRect();return{left:t,right:i,top:n,bottom:r,width:i-t,height:r-n}}catch(h_){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}},dp={ES5:"bundles",ES2017:"bundles-es2017"},cp=e=>{let{version:t=Jd,win:i}=e;const n=uu(i),r=dp.ES5,o=""+et(t)+r+"/proxy_frame.html";return h(n)?n(o):o};let up;const hp=function(e){return void 0===e&&(e=window),up||(up=e.document.createElement("div")),up}(window),pp=(e,t)=>{const i="undefined"!==typeof hp.style[e];if(i&&t&&l(t))try{hp.style.cssText=e+": "+t+";";const i=Boolean(hp.style.cssText);return hp.style.cssText="",i}catch(h_){return!1}return i},mp={},Ap=function(e){return void 0===e&&(e=""),mp[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<od.length;i++){const n=od[i],r=n?""+n+t:e;if(pp(r))return mp[e]=r}return mp[e]=e}(e)},vp={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},gp={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},_p={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},yp=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const n=i?_p:gp;at(t,n.attributes),rt(t,n.styles)},fp="VAS_FRAME_GLOBAL_CALLBACK",Sp=kc({propertyName:fp}),Tp=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),Ep=e=>{let{container:t,frameUrl:i,initialData:n}=e;const r=t.ownerDocument.createElement("iframe"),o=(e=>{const t=st({},e,{RUM_WRAPPER:void 0,AB_FLAGS_STORE:void 0,STATS_ROOT_PARAMS:void 0,VAS_UAAS_CONFIG:void 0,VAS_UAAS_CONFIG_ParseError:void 0,AdditionalStatsRootFields:void 0,AdditionalStatsRootFieldsExtractionError:void 0,statsInstance:void 0});return encodeURI(JSON.stringify(t))})(n);at(r,{name:o,sandbox:Tp,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),rt(r,lt({},vp)),yp({iframe:r,shouldBeVisibleNow:!1}),t.appendChild(r);const a=r.name;return a!==o&&Cu.event({name:"VASFrameInsideApiNoNameOnMount",data:{expectedName:o,actualName:a,handshakeID:n.handshakeID},probability:1}),r};class bp extends yu{constructor(e,t){super(),this.listenForCommandEvents=e=>{const t=Z({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new Od({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},this.port=e,this.commandHandlers=t,this.listenForNewCommands(),this.addDestroyHandler(Z({element:e,eventName:"messageerror",listener:()=>{this.destroy(new Od({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=E(6),n=Nh(5e3,window);n.promise.then((()=>{this.destroy(new Od({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))})).catch($),this.addDestroyHandler((()=>n.clear()));const r=this.waitForNextCommandEvent({name:e,id:i}),o=new Promise(((t,o)=>{r.then((r=>{if(n.clear(),"success"===r.status)t(r.payload);else if("error"===r.status){const e=r.payload;o((e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t})(e))}else{if("abort"===r.status)return;this.destroy(new Od({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:r.status,payload:r.payload,name:e,commandId:i}}))}})).catch(o)})),a=v((()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})}));return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:o,abort:a}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new Od({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(dt({},e,{type:"command"}))}catch(t){0,this.destroy(new Od({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise((t=>{const i=this.listenForCommandEvents((n=>{n.name===e.name&&n.id===e.id&&(i(),t(n))}))}))}listenForNewCommands(){this.listenForCommandEvents((e=>{var t;if("start"!==e.status)return;const i=null==(t=this.commandHandlers)?void 0:t[e.name];if(!i)return void this.destroy(new Od({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const n=this.createCommandControlDescriptor(e),r=e.payload;try{i(n,r)}catch(o){0,this.destroy(new Od({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:o}}))}}))}createCommandControlDescriptor(e){const t=new Su;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy((n=>{i||"abort"===n.status&&n.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())}))).catch(A),{resolve:n=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:n})},reject:n=>{if(i)return;i=!0,t.removeAll();const r=vd(n);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:r})},subscribeForAbort:function(){return i?A:t.add(...arguments)}}}isEventDataCommandLike(e){return!!d(e)&&("command"===e.type&&(!!f(e.id)&&!!f(e.status)))}}const Cp=_({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),wp=["src","poster"],Pp=_({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),Op=["video/mp4","video/webm"],Ip={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},kp=_({load:0,play:0,pause:0,setAttribute:0}),Dp=(e,t,i)=>{if(!d(e))return e;const n=e,r=t.split("."),o=r.pop();for(const a of r){const t=e[a];e=d(t)?t:e[a]={}}return e[o]=i,n};const Np=_({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),Rp=new WeakSet;class Vp extends yu{static isVideoNodeLocked(e){return Rp.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),Uc("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",ct(jc(Op,(e=>[e,this.params.videoNode.canPlayType(e)])))),Id(_(Ip),(e=>{const t=Ip[e];Id(t,(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}))}))}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(x(kp,e)){if("setAttribute"===e){const[e,n=""]=t;if(!f(e))return;return x(wp,e)?i.setAttribute(e,n):void Cu.error({error:new Od({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:n}})})}return i[e]()}Cu.error({error:new Od({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!x(Pp,e))return void Cu.error({error:new Od({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const n=e,r=i[n];Dp(i,e,t),this.params.handleVideoNodePropertyChange(n,i[n]),this.addDestroyHandler((()=>{Dp(i,e,r)}))}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;Id(Cp,(t=>{this.addDestroyHandler(Z({element:e,eventName:t,listener:e=>{Ip.hasOwnProperty(e.type)&&Id(Ip[e.type],(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})),setTimeout(this.ignoreAfterDestroy((()=>{const t=(e=>ut({},ct(jc(Np,(t=>[t,e[t]]))),{target:null}))(e);this.params.handleVideoNodeEvent(t)})),0)}}))}))}}class Lp extends yu{constructor(e){super(),this.vpaidEventBus=new Su,this.vpaidGetterPropertyBus=new Su,this.dispatcherCommandHandlers={handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:n,args:r}]=t;i(),this.vpaidEventBus.dispatch({eventName:n,args:r})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:n,value:r}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:n,value:r})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:n}=e,[{methodName:r,args:o}]=t;const a=this.localVideoNode;if(a)try{Uc("[outsideAPI] call video method=["+r+"], args=["+o+"]");const e=a.callVideoNodeMethod(r,o);return ch(e)?e.then((e=>{i(e)})).catch(n):i(e)}catch(s){this.destroy(new Od({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new Od({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:n,value:r}]=t;i();const o=this.localVideoNode;o?x(Pp,n)?(Uc("[outsideAPI] set video property name=["+n+"], value=["+r+"]"),o.setVideoNodeProperty(n,r)):this.destroy(new Od({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:n,value:r}})):this.destroy(new Od({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:n,value:r}}))}},this.handleVideoNodeEvent=e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])},this.handleVideoNodePropertyChange=(e,t)=>{Uc("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])},this.params=e,Uc("[outsideApi]: init"),this.addDestroyHandler((e=>{e&&Cu.error({error:e})})),this.changeFrameVisibility(!1),this.dispatcher=new bp(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler((()=>this.dispatcher.destroy(void 0))),this.addDestroyHandler(Z({element:e.port,eventName:"message",listener:e=>{if(!(e=>{const t=e.data;return!(!d(t)||"kill-me"!==t.type)})(e))return;const{data:t}=e;this.destroy(new Od({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler((e=>{this.isDestroyed||(Cu.error({error:null!=e?e:new Od({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))})),this.addDestroyHandler((()=>{this.vpaidEventBus.removeAll()}))}async doGETRequest(e){Uc("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:n,responseHeaders:r}=await t.promise;return Uc("[outsideApi]: finish get request"),{responseStatus:n,responseText:i,responseHeaders:r}}async loadCreative(e){Uc("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,Uc("[outsideApi]: done loading creative")}async initCreative(e){Uc("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,Uc("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return Uc("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return Uc("[outsideApi]: "+(e?"show":"hide")+" frame"),yp({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(Vp.isVideoNodeLocked(t))throw Uc("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");Uc("[outsideApi]: assign video tag"),this.localVideoNode=new Vp({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler((()=>{var e;Uc("[outsideApi]: UNassign video tag"),null==(e=this.localVideoNode)||e.destroy(void 0)}))}listenRemoteVpaidEvents(e,t){return Uc("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add((i=>{let{eventName:n,args:r}=i;e===n&&t(n,r)}))}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add((t=>{let{methodName:i,value:n}=t;e(i,n)}))}}const Bp=e=>{var t;Uc("[initOutsideApi]: do init"),t={name:"before OutsideAPI init call",initParams:e},Sp.call({propertyName:fp,callbackArguments:[{step:t}]});const{container:i,initTimeout:n}=e,r=new Su,o=i.ownerDocument.defaultView,a=(async e=>{let{container:t,initAbort:i,initTimeout:n}=e;const r=E(6);Cu.event({name:"VASFrameInitStart",data:{handshakeID:r}});const o=Date.now();let a=!1;const s=new Su;s.add((()=>{a=!0})),i.add((()=>{Uc("[initOutsideApi]: init aborted"),Cu.event({name:"VASFrameInitAborted",data:{handshakeID:r}}),s.dispatch(void 0)}));const l=ht({},nt(xc,Eu),{handshakeID:r}),c=Ep({container:t,frameUrl:cp({win:window}),initialData:l});s.add((()=>{Uc("[initOutsideApi]: remove frame"),m(c)}));const u=new MessageChannel;u.port1.start(),s.add((()=>{u.port1.close()}));const h=new Promise((e=>{Uc("[initOutsideApi]: wait for frame to load"),c.addEventListener("load",(()=>{Uc("[initOutsideApi]: got load event. transfer port"),c.contentWindow.postMessage({type:"init",handshakeID:r},"*",[u.port2]),e()}))})),p=new Promise((e=>{const t=Z({element:u.port1,eventName:"message",listener:i=>{const n=i.data;"handshake"===n.type&&n.initialData.handshakeID===r&&(Uc("[initOutsideApi]: got handshake event"),t(),e())}})})),A=Promise.all([h,p]),{promise:v,clear:g}=Nh(n,window);if(v.then((()=>{var e;Cu.error({error:new Od({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null==(e=c.parentElement)?void 0:e.tagName,frameBoundingClientRect:lp(c),handshakeID:r}})}),s.dispatch(void 0)})),A.then((()=>{g()})),s.add((()=>{g()})),await Promise.race([A,v]),a)throw new Od({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});Cu.values({name:"VASFrameInitSuccess",data:{handshakeID:r},values:{timeSpent:Date.now()-o}}),c.removeAttribute("name"),i.removeAll();const _=new Lp({port:u.port1,initialData:l,frame:c});return _.addDestroyHandler((()=>{Uc("[initOutsideApi]: do teardown since class destroy"),Cu.event({name:"VASFrameDestroy",data:{handshakeID:r}}),s.dispatch(void 0)})),_.addDestroyHandler(Z({element:u.port1,eventName:"message",listener:e=>{const t=e.data;d(t)&&"destroy"===t.type&&Cu.error({error:new Od({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),Uc("[initOutsideApi]: init done"),_})({container:i,initAbort:r,initTimeout:n,win:o});return{initPromise:a,abortInit:()=>r.dispatch(void 0)}},xp={idle:["initializing"],initializing:["initialized"]};class Mp extends yu{constructor(){super(),this.state=new sp({name:"idle"},((e,t)=>{const i=xp[e.name];return i&&x(i,t.name)||Cu.error({error:new Od({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),Uc("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),this.users=0,Uc("SingleVASFrame: create instance"),this.initPromise=new Promise((e=>{this.state.add((t=>{"initialized"===t.name&&e(t.outsideApi)}))})),this.state.add((e=>{"initializing"===e.name&&e.outsideApiInitPromise.then((e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler((()=>{e.destroy(void 0)}))})).catch((e=>{this.destroy(e)}))}))}init(e){Uc("SingleVASFrame: do init");const t=Bp(e);this.addDestroyHandler((()=>{t.abortInit()})),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");Uc("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){Uc("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let Up;const Fp=()=>(Up||(Up=new Mp,Up.addDestroyHandler((()=>{Up=void 0}))),Up),Hp=async e=>{const t=Fp();return(await t.initPromise).doGETRequest(e)},zp=e=>{let{url:t,data:i,withCredentials:n=!0}=e;return new Promise(((e,r)=>{const o=new XMLHttpRequest;o.open("GET",t),o.withCredentials=n,o.onerror=()=>r({reason:"error",error:new Error("XHR Error["+o.status+"]["+o.statusText+"]["+t+"]")}),o.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:n}=t,r={};Id(t.getAllResponseHeaders().trim().split(/[\r\n]+/),(e=>{const t=e.split(": "),i=t.shift(),n=t.join(": ");i&&(r[i]=n)})),i({responseText:n,responseStatus:e,responseHeaders:r})}})({xhr:o,resolve:e});try{o.send(i)}catch(MO){MO.message="XHR Send Error["+MO.message+"]["+t+"]";r({reason:"error",error:MO})}}))},jp=async e=>{await new Promise((t=>{window.setTimeout(t,e)}))},Wp=e=>{let{thrownError:t,errorCode:i,errorDetails:n,timeoutCode:r,timeoutDetails:o}=e;const a=t;if(ae(a))return a;if("string"===typeof a.reason&&d(a.error)){const{error:e,reason:t}=a;if("error"===t)return new Od(e,{code:i,details:n});if("timeout"===t)return new Od(e,{code:r,details:o})}return new Od(t,{code:i,details:n})},Yp=function(e,t){let i=e[t];if(!T(i)){const n=i;try{delete e[t],i=e[t],e[t]=n}catch(h_){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,n(t))for(const n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return new i},Gp=function e(t,r){void 0===r&&(r={preserveConstructors:!0});let o=t;if(nc(t)){const i=t.map((t=>e(t,r)));return i}return(a=t)instanceof Date||"Date"===rd(a)?new Date(t.getTime()):(!i(t)&&n(t)&&(o=r.preserveConstructors?Yp(t):{},w(t,((t,i)=>{o[i]=e(t,r)}))),o);var a},Xp=_t({},Bh,{type:Rh}),Kp=yt({url:Gh},Xp),qp={nextAd:0,startVideo:0,continueVideo:0},Jp={type:"nextAd",poster:[]},Zp={poster:[]};let Qp={ads:[],children:[],xmlString:"",url:void 0,isUniformat:!1};let $p={sequence:0,adId:void 0,bidreqid:void 0,campaignid:void 0,pageId:void 0,impId:void 0,vmapRequestId:void 0,creativeId:void 0,parseIndex:0,randomHexString:"",adParameters:"",mediaFiles:[],firstFrameImages:[],icons:[],progressTrackings:[],trackingEvents:{},abuseUrl:"",duration:0,adVerifications:[],creativeParameters:{body:void 0,ageRestriction:void 0,buttonLabel:void 0,showTitleAndBody:void 0,greenUrl:void 0,punyDomain:void 0,domain:void 0,title:void 0,targetUrl:void 0},assets:{button:void 0,logo:void 0,images:void 0,icon:void 0,app:void 0},clickUrlData:{vastClickUrl:void 0,serializablePlaybackParametersClickUrl:void 0,tgaOfferClickUrl:void 0},bannerFlags:void 0,legalText:void 0,surveyParameters:void 0,ecomShop:void 0,adTitleParameters:void 0};const em="https://"+Vc+"/"+xh+"/1_0/no-aim-screen.js",tm={type:"ad-creative-animation/javascript",url:em},im=(e,t,i)=>{const n=Pt(e,t,i),r=parseInt(n,10);return _e(r)?r:i},nm=2147483647,rm=-1,om={adLabel:0,socialAdLabel:0,businessUnitAdLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0,disclaimers:0,ageLabel:0,title:0,body:0,domain:0,backpackAdSequence:0,productsButton:0,controlPanel:0},am=_(om),sm=ue(om,(()=>!1)),lm={controlsVisibility:{}},dm={};let cm={showCountDown:!0,showSoundButton:!0,showLabel:!0};const um=e=>({src:Ot(e.querySelector("StaticResource")),program:Pt(e,"program"),xPosition:im(e,"xPosition",0),yPosition:im(e,"yPosition",0),width:im(e,"width",0),height:im(e,"height",0)}),hm=v((()=>{Cu.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0})}));var pm=0,mm=1;const Am=e=>{if(!Array.isArray(e))return[];const t=jc(e,(e=>{const t=e[0],i=Number(e[1]),n=Number(e[2]),r=e[3];if(f(t)&&!isNaN(i)&&!isNaN(n)){const e=[t,String(i),String(n)];return d(r)&&e.push(r),e}}));return fu(t,(e=>void 0!==e))},vm=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!d(t)||!d(t.data_params))return;const i=Ih(t.data_params);if(!d(i))return;const n=i.assets;if(!d(n))return;const r={},{logo:o,button:a,icon:s,app:l,images:c,price_info:u}=n;if(d(o)){const e=ce(o);if(e.length){const t={};for(const[i,n]of e){const{url:e,width:r,height:o}=n;f(e)&&qt(r)&&qt(o)&&(t[i]={url:e,width:r,height:o})}Jt(t)||(r.logo=t)}}if(d(a)){const{caption:e,href:t,key:i}=a;f(e)&&f(t)&&f(i)&&(r.button={caption:e,href:t,key:i})}if(d(l)){const{review_count:e,store_name:t,name:i,download_count:n,rating:o,store_app_id:a,store_content_id:s,price_currency_symbol:d,price_currency_code:c,price:u,age:h,free:p}=l;qt(e)&&f(t)&&f(i)&&f(n)&&Pe(o)&&f(a)&&f(s)&&f(d)&&f(c)&&Pe(u)&&qt(h)&&"boolean"===typeof p&&(r.app={review_count:e,store_name:t,name:i,download_count:n,rating:o,store_app_id:a,store_content_id:s,price_currency_symbol:d,price_currency_code:c,price:u,age:h,free:p})}if(d(s)){const e=ce(s);if(e.length){const t={};for(const[i,n]of e){const{url:e,width:r,height:o}=n;f(e)&&qt(r)&&qt(o)&&(t[i]={url:e,width:r,height:o})}Jt(t)||(r.icon=t)}}if(Dd(c)&&(r.images=Am(c)),d(u)&&f(u.price)&&f(u.currency)&&(r.priceInfo={currency:u.currency,oldPrice:f(u.old)?Number.parseFloat(u.old):void 0,price:Number.parseFloat(u.price)}),n.multicards&&d(n.multicards_click_link)&&d(n.multicards_button_text)&&d(n.multicards_type)){const e=n.multicards,t=n.multicards_click_link,i=n.multicards_button_text[1],o="1"===n.multicards_type[1]?mm:pm,a=_(e).sort(),s=jc(a,(i=>{const{href:n,currency:r,price_old:o,price:a,text:s,image:l}=e[i],d=t[i],c=void 0!==r&&void 0!==a?{price:a,currency:r,oldPrice:o}:void 0,u=l.sort(((e,t)=>t.Width*t.Height-e.Width*e.Height))[0].Url;return{clickThruUrl:d,priceInfo:c,text:s,link:n,imageUrl:u}}));r.ecomShop={buttonText:i,products:s,type:o}}return r},gm=v((e=>{Cu.values({name:"AdCreativeVideoBannerVastLegalText",sensors:{source:e}})})),_m=function(e){let t=0,i=e?jc(e,(e=>e[0])):[],n=e?jc(e,(e=>e[1])):[];const r=e=>(t=i.indexOf(e))>-1,o={get size(){return i.length},has:r,clear:()=>{i=[],n=[]},get:e=>n[i.indexOf(e)],keys:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>i.slice())),values:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>n.slice())),entries:()=>jc(i,((e,t)=>[e,n[t]])),delete:e=>r(e)&&i.splice(t,1)&&Boolean(n.splice(t,1)),forEach(e,t){Id(n,((n,r)=>e.call(t,n,i[r],o)))},set:(e,a)=>(r(e)?n[t]=a:n[i.push(e)-1]=a,o)};return o},ym=(Boolean(window.Map)&&"function"===typeof window.Map.prototype.keys&&window.Map,class{constructor(){this.map=new _m}add(e){return this.map.set(e,e),this}clear(){this.map.clear()}delete(e){return this.map.delete(e)}has(e){return this.map.has(e)}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}get size(){return this.map.size}}),fm=(c(window.Set)&&window.Set,e=>{const t=[];if(!d(e))return t.push(new Error("parsed but not an object")),{errors:t,params:void 0};let i,n;if(0===e.show||1===e.show)i=1===e.show;else{if("boolean"!==typeof e.show)return t.push(new Error('"show" is not a boolean nor 0,1 number')),{errors:t,params:void 0};i=e.show}if("domain"in e&&e.domain&&"string"!==typeof e.domain)return t.push(new Error('"domain" is defined but not a string')),{errors:t,params:void 0};f(e.domain)&&(n=e.domain);return{errors:void 0,params:{show:i,domain:!n||n.length<=30?n:n.slice(0,30)+"..."}}}),Sm=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])};let Tm;const Em=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const n=e.querySelector("VideoClicks"),r=e.querySelectorAll("MediaFile"),o=e.querySelector("Linear"),a=e.querySelector("TrackingEvents"),s=a?a.querySelectorAll("Tracking"):[],c=G(e.querySelectorAll("Impression")),u=e.querySelectorAll("Error"),h=e.querySelector("Extensions"),p=e.querySelector("Description"),m=e.querySelectorAll("Icons Icon"),A=e.querySelector("AdParameters"),g=e.querySelector("AdSystem"),_=e.querySelector("AdTitle"),y=e.querySelector("Creative"),S=f(e.id)?e.id:void 0,T=Gp($p,{preserveConstructors:!1});T.adId=S,y&&(T.creativeId=f(y.id)?y.id:void 0),T.parseIndex=void 0===Tm?(Tm=0,Tm):++Tm,T.randomHexString=E(16);const b=e.querySelector("InLine"),C=e.querySelector("Wrapper"),w=Boolean(b);if(w===Boolean(C)){if(w)throw new Od({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new Od({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(T.adVerifications=function(e){const t=[];let i=e.querySelector("AdVerifications");const n=e.querySelector("Extensions");if(!i&&n&&(i=n.querySelector('[type="AdVerifications"]>AdVerifications')),!i)return t;const r=i.querySelectorAll("Verification"),o=[];if(Boolean(r))for(const a of Array.from(r)){const e=a.getAttribute("vendor"),i=Ot(a.querySelector("JavaScriptResource")),n={},r=a.querySelectorAll("TrackingEvents>Tracking");if(Boolean(r))for(const t of Array.from(r)){const e=Pt(t,"event"),i=Ot(t);f(e)&&f(i)&&(n[e]=i)}const s=Ot(a.querySelector("VerificationParameters"));f(e)&&f(i)&&l(s)?t.push({vendorKey:e,javaScriptResource:i,trackingEvents:n,verificationParameters:s}):o.push({vendorKey:e,javaScriptResource:i,trackingEvents:n,verificationParameters:s})}return o.length>0&&Cu.error({error:new Od({code:"OMID_OBJECT_FROM_VERIFICATION_NODE_IN_VAST_IS_INVALID",details:{invalidAdVerifications:JSON.stringify(o)}})}),t}(e),T.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return-1;const i=parseInt(t,10);return Wt(i)?i:(Cu.error({error:new Od({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),-1)}(e),n){const e=Ot(n.querySelector("ClickThrough"));e&&(T.clickUrlData.vastClickUrl=e);const t=n.querySelectorAll("ClickTracking");for(let i=0;i<t.length;i++)Sm(T,"clickThrough",Ot(t[i]))}if(w&&A){const e=Ot(A);T.adParameters=e;const t=Ht(e);if(d(t)){var P;T.adParametersObject=t;const e=function(e){if(!d(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!d(t))return;const{data_params:i}=t;if(!d(i))return;const{misc:n}=i;if(!d(n))return;const{click_url:r}=n;if(!d(r))return;const{abuse:o}=r;return f(o)?o:void 0}(t);e&&(T.abuseUrl=e),T.serializablePlaybackParameters=Ft(t.playbackParameters).config;const i=function(e){if(!d(e))return;const{background:t}=e;return d(t)&&f(t.color)?t.color:void 0}(t);void 0!==i&&(T.backgroundColor=i);const n=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(f(t))return t}(t);n&&Sm(T,"packshotStart",n);const{bidreqid:r,campaignid:o,pageId:a,impId:s,vmapRequestId:c}=function(e){if(!d(e))return{};const{AUCTION_DC_PARAMS:t}=e;if(!d(t))return{};const{data_params:i}=t;if(!d(i))return{};const{misc:n}=i;if(!d(n))return{};const{bidreqid:r,campaignid:o,pageId:a,impId:s,vmap_request_id:l}=n;return{bidreqid:f(r)?r:void 0,campaignid:f(o)?o:void 0,pageId:f(a)?a:void 0,impId:f(s)?s:void 0,vmapRequestId:f(l)?l:void 0}}(t);T.bidreqid=r,T.campaignid=o,T.pageId=a,T.impId=s,T.vmapRequestId=c,T.firstFrameImages=St(null==(P=t.firstFrame)?void 0:P.images),T.productType=Dt(t),Object.assign(T.creativeParameters,(e=>{const t=Xt(e),{title:i,body:n,hasTitle:r,hasBody:o}=He(e),a=Fe(e);let s,l,d,c,u;if(a){u=a.domain;const{green_url_text_prefix:t,green_url_text_suffix:i,age:n}=a;d=Gt({domain:u,greenUrlTextPrefix:t,greenUrlTextSuffix:i});const r=Kt(e);s=null==r?void 0:r.punyDomain,l=null==r?void 0:r.showTitleAndBody,f(n)&&(c=n)}return{buttonLabel:t,title:r?i:void 0,body:o?n:void 0,domain:u||void 0,punyDomain:s||void 0,showTitleAndBody:l,greenUrl:d,ageRestriction:c,targetUrl:We(e)}})(t)),T.ecomShop=function(e){if(!d(e))return;const t=vm(e);return null==t?void 0:t.ecomShop}(t);const u=vm(t);u&&Object.assign(T.assets,u),Object.assign(T.clickUrlData,{tgaOfferClickUrl:Zt(t),serializablePlaybackParametersClickUrl:T.serializablePlaybackParameters.clickThroughUrl}),function(e){const{tgaOfferClickUrl:t,vastClickUrl:i,serializablePlaybackParametersClickUrl:n}=e,r=fu([t,i,n],f);0===r.length&&Cu.event({name:"VastAdHasNoClickUrls",data:{clickUrlData:e}}),new ym(r).size>1&&Cu.event({name:"VastAdHasDifferentClickUrls",data:{clickUrlData:e}})}(T.clickUrlData),T.bannerFlags=function(e){const t=Fe(e);if(!d(t))return;const{banner_flags:i}=t;if(!f(i))return;const n=i.split(",");return{medicine:x(n,"medicine"),dietarysuppl:x(n,"dietarysuppl"),businessUnit:x(n,"business_unit")}}(t),T.legalText=function(e){const{LEGAL_TEXT:t,HAS_LEGAL:i}=e;if(i&&f(t))return gm("legalField"),t.trim();const n=Fe(e);if(!d(n))return;const{warning:r,dynamic_disclaimer:o}=n;return f(r)&&"1"===o?(gm("dynamicDisclaimer"),r):void 0}(t),T.surveyParameters=(e=>{if(!d(e))return;const{pythia:t}=e;if(!d(t))return;const{basePath:i,slug:n,extra:r,"survey-config":o}=t;if(!l(r))return;const a=Qt(e),s=new URL(i+"/"+n+"/?"+r);return{surveyConfig:o,location:{host:s.host,pathname:s.pathname,search:s.search},isBrandLiftSurveyCreative:a}})(t)}}if(C){const t=Ot(e.querySelector("VASTAdTagURI"));if(!t)throw new Od({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});T.vastAdTagUri=t}if(void 0!==r)for(let l=0;l<r.length;l++){const e=kt(r[l]);e&&T.mediaFiles.push(e)}for(let l=0;l<s.length;l++){const e=Pt(s[l],"event"),t=Ot(s[l]);if("progress"===e){const e=Pt(s[l],"offset",""),n=jt(e);void 0===n?Cu.error({error:new Od({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})}):T.progressTrackings.push({urls:[t],offset:n})}else Sm(T,e,t)}Id(c,(e=>{Sm(T,"impression",Ot(e))}));for(let l=0;l<u.length;l++)Sm(T,"error",Ot(u[l]));for(let l=0;l<m.length;l++)T.icons.push(um(m[l]));if(h){const e=h.querySelectorAll('Extension[type="skipAd"]');for(let i=0;i<e.length;i++)Cu.event({name:"UsingSkipAdExtensionInVast",data:void 0}),Sm(T,"skip",Ot(e[i]));const t=h.querySelector('Extension[type="skipTime"]');if(It(t)){const e=zt(Ot(t));Cu.event({name:"UsingSkipTimeExtensionInVast",data:{skipTime:e}}),T.skipTime=zt(Ot(t)),T.skipTime>180&&(T.skipTime=0)}const n=h.querySelector('Extension[type="controls"]');if(n){const e=(e=>{const t=Yt({},cm),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==Pt(i,"layout"));const n=e.querySelector('control[id="soundbtn"]');n&&(t.showSoundButton="0"!==Pt(n,"layout"));const r=e.querySelector('control[id="adlabel"]');return r&&(t.showLabel="0"!==Pt(r,"layout")),t})(n);Cu.event({name:"UsingControlsExtensionInVast",probability:ru,data:{imhoParams:e}}),T.imhoParams=e}const r=h.querySelector('Extension[type="AdTitle"]');if(r){const{errors:e,params:t}=(e=>{const t=Ot(e),i=[];let n;try{n=JSON.parse(t)}catch(h_){i.push(h_)}if(!n)return{errors:i,params:void 0};const r=fm(n);return r.errors?{errors:r.errors,params:void 0}:{errors:void 0,params:r.params}})(r);null!=e&&e.length?Cu.error({error:new Od({code:i?"YANDEX_VAST_INCORRECT_AD_TITLE_EXTENSION_XML":"VAST_INCORRECT_AD_TITLE_EXTENSION_XML",details:{errors:e}})}):(Cu.event({name:"UsingAdTitleExtensionInXMLVast",probability:ru,data:void 0}),T.adTitleParameters=t)}const o=v((()=>{Cu.event({name:"UsingCustomTrackingExtensionInVast",probability:ru,data:void 0})})),a=h.querySelector('Extension[type="CustomTracking"]'),s=a?a.querySelectorAll("Tracking"):[];for(let i=0;i<s.length;i++){o();const e=Pt(s[i],"event");Sm(T,e,Ot(s[i]))}}if(It(p)&&(T.description=Ot(p)),It(g)){T.adSystem=Ot(g);const e=Pt(g,"dspLabel");f(e)&&(T.dspLabel=e)}if(It(_)&&(T.adTitle=Ot(_)),o){const e=Pt(o,"skipoffset","").trim();if(""!==e){const t=zt(e);isNaN(t)?Ve(new Od({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),T.trackingEvents.error):T.skipOffset=t}const t=o.querySelector("Duration");t&&(T.duration=zt(Ot(t)))}return T},bm=async e=>{var t;let{url:i,loadParameters:n,isWrapper:r=!1}=e;if(!i)return Promise.reject(new Od({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:o}=n;Cu.event({name:r?"WrapperVastLoadStart":"VastLoadStart",data:{url:i,loadParameters:n,timeout:o}});const a=Date.now(),s=await Cm({url:i,loadParameters:n,isWrapper:r}),l=s.ads[0],d=We(null==l?void 0:l.adParametersObject),c=Boolean(d),u=it(l),h=Te(p=i)?"AD_FOX":be(p)?"YANDEX":"EXTERNAL";var p;const m=null!=(t=n.adPlacementOptions.adBreakType)?t:n.adBreakType;return Cu.values({name:r?"WrapperVastLoadSuccess":"VastLoadSuccess",data:{url:i,timeout:n.vastTimeout},values:{adsCount:s.ads.length,timeSpent:Date.now()-a},sensors:{adBreakType:m,firstAdPodFormatType:u,vastSource:h,hasTargetUrl:c}}),s},Cm=async e=>{let{url:t,loadParameters:i,isWrapper:n=!1}=e;const{vastTimeout:r}=i,o=be(t),a="VASFrame"===i.requestMethod?Hp:zp,s="boolean"!==typeof xc.hardcodedParams.adsdkwithcredentials||xc.hardcodedParams.adsdkwithcredentials;try{const{responseText:e,responseStatus:n}=await At({url:t,data:null,timeout:r,doRequest:a,withCredentials:s});if(function(e,t,i,n){if(200===i)return;if(204===i&&0===t.length)return void Cu.event({name:"NoContentVastResponseWithEmptyText",data:{url:e,isYandexUrl:n},probability:ru});let r;switch(t){case"\x3c!-- Bad partner/domain --\x3e":r="BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";break;case"\x3c!-- PageImp data not found --\x3e":r="BAD_IMP_ID_FOR_VAST_REQUEST";break;default:r=n?"YANDEX_UNEXPECTED_VAST_RESPONSE_TEXT":"UNEXPECTED_VAST_RESPONSE_TEXT"}if(r)throw new Od({code:r,details:{url:e,responseText:t,responseStatus:i}})}(t,e,n,o),204===n)throw new Od({code:"NO_AD_SECTION",details:{reason:"status-204"}});return wm({xmlString:e,loadParameters:i,vastUrl:t})}catch(MO){const a="AD_FOX"===i.vastSourceType;let s,l;s=ae(MO)?MO.code:a?"ADFOX_VAST_LOAD_ERROR":o?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR",l=n?o?"YANDEX_WRAPPER_VAST_LOAD_TIMEOUT":"WRAPPER_VAST_LOAD_TIMEOUT":o?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT";const d=Wp({thrownError:MO,errorCode:s,errorDetails:void 0,timeoutCode:l,timeoutDetails:{vastTimeout:r,url:t}});return Promise.reject(d)}},wm=async e=>{var t,i,n,r;let{loadParameters:o,vastUrl:a,xmlString:s}=e;const c=pt(s),u="YANDEX"===o.vastSourceType;if(!c){const e=(()=>{switch(o.vastSourceType){case"YANDEX":return"YANDEX_INVALID_VAST_XML";case"AD_FOX":return"ADFOX_INVALID_VAST_XML";default:return"INVALID_VAST_XML"}})();throw new Od({code:e,details:{xmlString:s}})}const h=c.querySelector("VAST");if(!h)throw new Od({code:"NO_AD_SECTION",details:{reason:"no-vast-tag"}});const p=h.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!l(e))return!1;const t=Number(e.split(".")[0]);return!!Pe(t)&&t<=4}(p))throw new Od({code:u?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:s,version:p}});const m="true"===h.getAttribute("ya-uniformat"),A=G(h.querySelectorAll("VAST Ad"));let v;if(0===A.length)v=function(e){let{isUniformat:t,xmlVastNode:i,xmlString:n}=e;const r=Gp(Qp,{preserveConstructors:!1}),o=i.querySelector('Extension[type="aim"]');if(!o)return r;const a=o.textContent;if(!a)return r;const s=S((()=>JSON.parse(a)),(()=>{throw new Od({code:"NO_AIM_SCREEN_JSON_IS_INVALID",details:{aimConfig:a}})}));if(!d(s))throw new Od({code:"NO_AIM_SCREEN_JSON_IS_NOT_AN_OBJECT",details:{aimConfig:s}});Cu.event({name:"NoAimScreenDataParsed",data:{aimNodeConfig:a},probability:1});const{isActive:l,filterReasons:c}=s;if("boolean"!==typeof l)throw new Od({code:"NO_AIM_SCREEN_INVALID_IS_ACTIVE_PARAMETER",details:{aimConfig:a}});if(!l)return r;if(!Dd(c))throw new Od({code:"NO_AIM_SCREEN_FILTER_REASONS_IS_NOT_ARRAY",details:{filterReasons:c}});const u=[];for(const d of c){if(!wt(d))throw new Od({code:"NO_AIM_SCREEN_FILTER_REASON_INVALID",details:{filterReasons:c}});u.push(d)}const h={controlsSettings:{visibility:!1,controlsVisibility:{}},trackingEvents:{},lang:"ru",packshotSettings:{},contentAfterAd:Zp},p={playbackParameters:h,mediaFiles:[tm],adParameters:{filterReasons:u}};return{isUniformat:t,ads:[Ct({},Gp($p,{preserveConstructors:!1}),{duration:15,serializablePlaybackParameters:h,mediaFiles:[Kp],adParameters:JSON.stringify(p),adParametersObject:p})],children:[],xmlString:n,url:void 0}}({isUniformat:m,xmlVastNode:h,xmlString:s});else{const e=[],t=jc(A,(t=>{const i=Em(t,{isYandexVastUrl:u}),{vastAdTagUri:n}=i;if(!n)return[i];if(o.remainingLoadWrapperVastCount<=1)return Cu.error({error:new Od({code:u?"YANDEX_WRAPPER_VAST_MAX_COUNT_LIMIT":"WRAPPER_VAST_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:r}=o;return bm({url:Ne({url:n,options:r,win:window}),loadParameters:$t({},o,{remainingLoadWrapperVastCount:o.remainingLoadWrapperVastCount-1}),isWrapper:!0}).then((t=>(e.push(t),jc(t.ads,(e=>{var t,n;return t=e,(n=i).mediaFiles.length&&(t.mediaFiles=[...t.mediaFiles,...n.mediaFiles]),Id(_(n.trackingEvents),(e=>{t.trackingEvents[e]=[...t.trackingEvents[e]||[],...n.trackingEvents[e]||[]]})),n.clickUrlData.vastClickUrl&&(t.clickUrlData.vastClickUrl=n.clickUrlData.vastClickUrl),null===t.skipTime&&(t.skipTime=n.skipTime),null===t.skipOffset&&(t.skipOffset=n.skipOffset),t.progressTrackings.push(...n.progressTrackings),isNaN(t.duration)&&(t.duration=n.duration),-1===t.sequence&&(t.sequence=n.sequence),t.adSystem||(t.adSystem=n.adSystem),f(n.dspLabel)&&(t.dspLabel=n.dspLabel),e}))))).catch((e=>(ae(e)?Cu.error({error:e}):Cu.error({error:new Od({code:u?"YANDEX_WRAPPER_VAST_LOAD_ERROR":"WRAPPER_VAST_LOAD_ERROR",details:{error:e,vastAdTagUri:n,parsingParameters:o}})}),[])))}));v={ads:vt(await Promise.all(t)),xmlString:s,children:e,url:a,isUniformat:m}}const g=v.ads[0],y=!!g&&function(e){var t,i,n;const r=Ih(null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)?void 0:i.data_params),o=null==r||null==(n=r.assets)?void 0:n.images;return void 0!==o&&Dd(o)&&o.length>0}(g),T=(null==g?void 0:g.firstFrameImages.length)>0,E=void 0!==(null==g?void 0:g.legalText),b=void 0!==(null==g?void 0:g.bannerFlags),C=!0===(null==g||null==(t=g.bannerFlags)?void 0:t.businessUnit),w=!0===(null==g||null==(i=g.bannerFlags)?void 0:i.medicine),P=!0===(null==g||null==(n=g.bannerFlags)?void 0:n.dietarysuppl),O=!0===(null==g||null==(r=g.adParametersObject)?void 0:r.isStock),I=function(e){var t;const i=null==(t=e.ads[0])?void 0:t.productType;return void 0===i?"unknown":gt(i)}(v);let k;return k=!0===I?"cpm":!1===I?"other":"unknown",Cu.values({name:"CreateVastFromXMLString",data:{vastXmlString:s},sensors:{uniformat:v.isUniformat,firstAdPodHasImages:y,firstAdPodHasFirstFrameImage:T,firstAdPodCreativeType:k,firstAdPodHasLegalText:E,firstAdPodHasBannerFlags:b,firstAdPodHasBuBannerFlag:C,firstAdPodHasMedicineBannerFlag:w,firstAdPodHasDietarysupplBannerFlag:P,firstAdPodIsStock:O}}),v},Pm={bids:[],creatives:{},creativeUrls:{}};class Om extends yu{constructor(e){super(),this.onFetchBidsStart=new Su,this.postMessageRequestId=Mc+"_"+E(16),this.params=e,this.addDestroyHandler((()=>{this.onFetchBidsStart.removeAll()})),this.requestPromise=new Promise((e=>{this.addDestroyHandler(e)})),this.requestBids()}requestBids(){Cu.event({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then((async e=>{let{timeout:t}=e;Cu.event({name:"HBFetchBidsStart",data:oi({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:n}=Nh(t,window);throw this.addDestroyHandler(i),await n,new Od({code:"HB_FETCH_BIDS_TIMEOUT",details:oi({},this.getDataForLogs(),{timeout:t})})})).catch((e=>{Cu.errorToStats(e),this.destroy(Pm)}))}subscribeHBMessages(){this.addDestroyHandler(Z({element:this.params.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!d(t)||!d(i))return;const{id:n,methodName:r}=t;if(n===this.postMessageRequestId)switch(r){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:Cu.error({error:new Od({code:"HB_MESSAGE_UNKNOWN_METHOD",details:oi({},this.getDataForLogs(),{methodName:r})})})}}}))}handleFetchBidsStartEventData(e){if(!d(e))return void Cu.error({error:new Od({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;Pe(t)?this.onFetchBidsStart.dispatch({timeout:t}):Cu.error({error:new Od({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:oi({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:n,warnings:r}=function(e,t){const i=[];if(!Array.isArray(e))throw new Od({code:"HB_NON_ARRAY_BIDS_DATA",details:ri({},t,{fetchedBids:e})});e.length>1&&i.push(new Od({code:"HB_EXTRA_BIDS_DATA",details:ri({},t,{fetchedBids:e})}));const[n]=e;if(!d(n))throw new Od({code:"HB_NON_OBJECT_BIDS_DATA",details:ri({},t,{fetchedBids:e})});const{bids:r,creatives:o,creativeUrls:a}=n;if(!Array.isArray(r)||!Xh(r,d))throw new Od({code:"HB_INVALID_BIDS_OBJECTS",details:ri({},t,{fetchedBids:e})});if(!d(o)||!Xh(ni(o),l))throw new Od({code:"HB_BIDS_INVALID_CREATIVES",details:ri({},t,{fetchedBids:e})});if(!d(a)||!Xh(ni(a),l))throw new Od({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:ri({},t,{fetchedBids:e})});return{bids:r,creatives:o,creativeUrls:a,warnings:i}}(e,this.getDataForLogs()),o={bids:t,creatives:i,creativeUrls:n};ei(r),Cu.event({name:"HBFetchBidsComplete",data:oi({},this.getDataForLogs(),{fetchedBidsObject:o})}),this.destroy(o)}catch(MO){Cu.errorToStats(MO)}}sendBidsRequest(){const{win:e,adBreakType:t,adFoxParameters:i}=this.params,n=Y(e),r={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:i.containerId,adBreakType:t}]};for(const s of n)ii(oi({win:s},r));const{promise:o,clear:a}=Nh(100,window);return this.addDestroyHandler(a),new Promise(((t,i)=>{o.then((()=>{const{promise:t,teardown:i}=function(e){let t;const i=Math.random(),n=new Promise((n=>{t=Z({element:e,eventName:"message",listener:e=>{let{data:r}=e;r===i&&(t(),n())}}),e.postMessage(i,"*")}));return{teardown:t,promise:n}}(e);return this.addDestroyHandler(i),t})).then((()=>{i(new Od({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))})).catch(i);const n=ti((e=>{a(),t(e)}),(e=>{Cu.error({error:new Od({code:"HB_START_MULTIPLE_TIMES",details:oi({},this.getDataForLogs(),{data:e})})})}));this.addDestroyHandler(this.onFetchBidsStart.add(n))}))}getDataForLogs(){const{adBreakType:e,adFoxParameters:t}=this.params;return{adBreakType:e,adFoxParameters:t,postMessageRequestId:this.postMessageRequestId}}}const Im=function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1},km=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var Dm,Nm;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(Dm||(Dm={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(Nm||(Nm={}));const Rm=e=>Math.max(0,Math.round(e));class Vm{constructor(){this.config=si()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}const Lm=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],Bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";vi();let xm=0;const Mm=()=>xm,Um=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},Fm=e=>{const t=e.getFullYear(),i=Um(e.getMonth()+1,2),n=Um(e.getDate(),2),r=Um(e.getHours(),2),o=Um(e.getMinutes(),2),a=Um(e.getSeconds(),2),s=Um(e.getMilliseconds(),3),l=(e=>{const t=-e.getTimezoneOffset();return(t>=0?"+":"-")+Um(Math.floor(Math.abs(t)/60),2)+":"+Um(Math.abs(t)%60,2)})(e);return t+"-"+i+"-"+n+"T"+r+":"+o+":"+a+"."+s+l},Hm=()=>function(e,t){let i=e+Kd()*(t+1-e);return i=Math.floor(i),i}(1,4294967295);let zm=0;const jm=[/avito/],Wm=["slide","visibleAfterInit","stick","stickTo","stickyColorScheme","replayMode","preload"],Ym=["ya","ndex.ru/ads/adf","ox"].join("");class Gm extends yu{constructor(e){super(),this.params=e;const{promise:t,clear:i}=Nh(3e3,e.win);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch((e=>{throw Cu.error({error:e}),this.destroy(),e}))}async processAdFoxVastLoading(){var e;const{adConfig:t,adPlacementOptions:i}=this.params;let{adFoxParameters:n}=t;const{bids:r,containerId:o}=n;if(!r&&o){const e=new Om({adBreakType:this.params.adBreakType,adFoxParameters:ki({},n,{containerId:o}),win:window});this.addDestroyHandler((()=>{e.destroy(Pm)}));const i=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then((()=>{throw new Od({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,timeout:3e3}})}))]);n=ki({},n,i)}const a={},s=await Promise.race([Ii({adFoxParameters:n,adPlacementOptions:i,secureMode:t.secureMode,__requestInfoForLogs:a}),this.loadingTimeoutPromise.then((()=>{throw new Od({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adFoxParameters:n}})}))]),{vastBase64:l}=s;if(l){const e=await this.processBase64Vast(l).catch((e=>{throw new Od({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,vastBase64:l,error:e,adFoxUrl:a.adFoxUrl,responseText:a.responseText,responseHeaders:a.responseHeaders}})}));return Cu.event({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t}}),this.destroy(),e}const d=await this.processLoadingHBCreativeUsingCampaignId(n,s),c=fu(null!=(e=n.bids)?e:[],(e=>""+(e.campaign_id||"")===s.campaignId));return Id(c,(e=>{let{win_notice:t}=e;t&&Id(d.ads,(e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)}))})),Cu.event({name:"AdFoxVastLoaded",data:{adConfig:t}}),this.destroy(),d}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:n}=this.params,{creatives:r={},creativeUrls:o={}}=e,{wrapperMaxCount:a}=n,s=r[i],l=o[i];if(!s&&!l)throw new Od({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:n,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch((e=>{throw new Od({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:n,vastBase64:s,error:e}})})):bm({url:l,loadParameters:je({adConfig:n,adBreakType:this.params.adBreakType,remainingLoadWrapperVastCount:a,isAdFox:!0,adPlacementOptions:Lu})}).catch((e=>{throw new Od({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:n,vastUrl:l,error:e}})}))}processBase64Vast(e){let t;try{t=ze(e)}catch(MO){throw new Od({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:MO}})}return wm({xmlString:t,loadParameters:je({adConfig:this.params.adConfig,adBreakType:this.params.adBreakType,remainingLoadWrapperVastCount:this.params.adConfig.wrapperMaxCount,isAdFox:!0,adPlacementOptions:Lu}),vastUrl:void 0})}}const Xm=function e(t){return ec(t,((t,i)=>t.concat(Dd(i)?e(i):i)),[])},Km=e=>{const t=e.match(/(.*?)[?#]/);return null===t?e:t[1]},qm=e=>{const{protocol:t}=D(e);return"blob:"===t?e:be(e)?h(uu(window))?e:L(e,{[Bu]:Mc}):e},Jm=e=>Di({},e,{url:qm(e.url)}),Zm=Li({},Bh,{url:jh.MotionTailor,type:Lh}),Qm=Bi({},Bh,{url:jh.SurveyOldDesignAdCreative,type:Lh}),$m=["tickerData","interactiveElements","mediaFiles","adTitle"],eA=["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"];const tA=["https://"+Vc+"/pcode/media/vpaid-pythia-survey-embed.js"],iA=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&Ou(t,(e=>x(ap,e.url)))},nA="about:blank",rA=e=>{let{additionalParams:t,videoContentId:i,videoContentName:n,videoPublisherId:r,videoPublisherName:o,videoGenreId:a,videoGenreName:s,musicArtistId:l,musicGenreId:d,musicGenreName:c,preferableAdSize:u}=e;const{ICOOKIE:h,TEST_IDS:p,AB_FLAGS:m}=xc;return en({},$i(t),{"video-content-id":i,"video-content-name":n,"video-publisher-id":r,"video-publisher-name":o,"video-genre-id":Qi(a),"video-genre-name":Qi(s),"meta-request-index":void 0,"meta-impid-request-index":void 0,music_artist_id:l,"music-genre":d,"music-genre-name":c,"ad-session-id":nh(),[cc]:xc.hardcodedParams["aim-banner-id"],[uc]:xc.hardcodedParams["aim-design-id"],[hc]:xc.hardcodedParams["aim-design-name"],[pc]:xc.hardcodedParams["aim-subdesign-id"],"pcode-icookie":h,"pcode-test-ids":p,"pcode-flags":JSON.stringify(m),"preferable-ad-size-width":u?String(Math.floor(u.width)):void 0,"preferable-ad-size-height":u?String(Math.floor(u.height)):void 0,"pcode-version":void 0,"widget-version":void 0,uniformat:"true"})},oA=e=>{let{adConfig:t,win:i,repeatNumber:n,sessionId:r}=e;const{targetRef:o,width:a,height:s,tagsList:l,extParam:d,distrId:c,metaRequestIndex:u,metaImpIdRequestIndex:h}=t,p=i.document.referrer,m=P(i);let A;return o?(A=o,Cu.event({name:"UsingTargetRefApiParameter",data:{adConfig:t}})):m===nA?(A=p,Cu.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t}})):A=m,tn({},rA(t),{"meta-request-index":void 0===u?void 0:String(u),"meta-impid-request-index":void 0===h?void 0:String(h),"repeat-number":Wt(n)?String(n):void 0,"target-ref":A,"page-ref":p,"video-width":a,"video-height":s,"tags-list":Qi(l),"ext-param":d,"video-session-id":r,"distr-id":c,"enable-page-options":"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_REMOVE_ENABLE_PAGE_OPTIONS_PARAM_FROM_LINK")?void 0:"65536"})},aA="Yabs Ad Server",sA=[aA,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],lA={width:void 0,height:void 0},dA={text:"",textColor:"#FFFFFF",isVisible:!1},cA=e=>!(!(e=>{const t=e.document;return"documentMode"in t&&"undefined"!==typeof t.documentMode})(e)&&!(e=>{const t=e.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0})(e)),uA=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&$c(e))(window),hA=uA?"ES2017":"ES5",pA="utf-8",mA={onBeforeLoad:e=>{((e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t})(e,hn({},nt(xc,Eu)))}},AA=e=>{(e=>{e.crossOrigin="anonymous"})(e),null==mA.onBeforeLoad||mA.onBeforeLoad(e)},vA="YS Text, -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif",gA=1e3;class _A extends yu{constructor(){super(),this.isStarted=!1,this.spent=0,this.callbacks=[],this.timeoutId=0,this.recalculateTimeAndDispatchCallbacks=()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)},this.addDestroyHandler((()=>{this.stop()}))}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise((t=>{this.addCallback(e,t)}))}addCallbackToArray(e,t){const i={time:e,callback:t};for(let n=0;n<this.callbacks.length;n++){const{time:t}=this.callbacks[n];if(t>=e)return void this.callbacks.splice(n,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=on(this.callbacks,(e=>{let{time:t}=e;return t<=this.spent}));this.callbacks=t,Id(e,(e=>{let{callback:t}=e;t()}))}}const yA=vn({},vp,{display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:vA,padding:"14px",backgroundColor:"#f4f6fb",fontSize:"14px",color:"#a3acbf",boxSizing:"border-box"}),fA={fontWeight:"600",fontSize:"16px",color:"#3a3d40",textAlign:"center"},SA={listStyle:"none",margin:"0px",padding:"0px",alignSelf:"flex-start",width:"100%"},TA=gn({},vp,{display:"flex",justifyContent:"center",alignItems:"center",fontFamily:vA,backgroundColor:"#fff",fontSize:"14px",color:"#000",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' version='1.1'%3E%3Crect width='50' height='50' fill='rgba(0, 0, 0, 0.2)'/%3E%3Crect width='50' height='50' y='50' x='50' fill='rgba(0, 0, 0, 0.2)'/%3E%3C/svg%3E \")",backgroundSize:"20% 20%",backgroundRepeat:"repeat",backgroundPosition:"0 0"}),EA="https://"+Vc+"/"+xh+"/1_0/test-ad-creative.js",bA=e=>{let{src:t,win:i}=e;const n=Xi(t),{promise:r,teardown:o}=mn({src:n?tp:t,win:i});return{promise:r.then((()=>i.getVPAIDAd)),teardown:o}},CA=(En({},xc.AB_FLAGS),En({},xc.AB_FLAGS)),wA=e=>CA[e],PA=e=>{const t=Number(wA(e));return _e(t)?t:void 0},OA=PA("MEDIA_FILE_BITRATE_PRIORITY_FACTOR"),IA=Wt(OA)?Tn(OA,0,1):1e-6,kA=Eu.getFlagValueAndActivateTestId("PERFECT_VPR"),DA=Number(kA),NA=Pe(DA)?DA:1.3,RA=document.createElement("video"),VA="function"===typeof RA.load?function(e,t){return void 0===t&&(t=RA),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1,LA=PA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_HLS"),BA=Wt(LA)?LA:void 0,xA=PA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_MP4"),MA=Wt(xA)?xA:void 0,UA=PA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNKNOWN_TYPE"),FA=Wt(UA)?UA:void 0,HA=PA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNSET_TYPE"),zA=Wt(HA)?HA:void 0,jA=PA("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_WEBM"),WA=Wt(jA)?jA:void 0,YA={bitratePriorityFactor:IA,mediaFileTypePriorities:{webm:null!=WA?WA:1,mp4:null!=MA?MA:2,unknown:null!=FA?FA:3,unset:null!=zA?zA:4,hls:null!=BA?BA:1e4},canPlayType:VA,perfectVpr:NA},GA="TRUE"===Eu.getFlagValueAndActivateTestId("DISABLE_144P_QUALITY"),XA="TRUE"===wA("DISABLE_VP9_CODECS"),KA="TRUE"===wA("ENABLE_H265_CODECS")||void 0,qA="video/webm";const JA=e=>{let{type:t,codec:i}=e;return i?t+'; codecs="'+i+'"':t},ZA={},QA=e=>{ZA[e]||(ZA[e]=!0,Cu.values({name:"WrongRequestMediaFileCodec",sensors:{codec:e}}))},$A=v((()=>{Cu.values({name:"MediaFileStringSize"})})),ev=(e=>{const t=Dn(e);return!!t&&Boolean(Le((()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"'))))})(window),tv=Dn(),iv=!dd&&VA("video/webm"),nv=ev&&iv,rv=tv&&c(tv),ov=void 0!==window.AbortController&&void 0!==window.fetch&&c(AbortController)&&c(fetch),av=rv&&ov;const sv=["application/vnd.apple.mpegurl","application/x-mpegurl"],lv=Eu.getNumberFlagValueAndActivateTestId("VAS_BITRATE_CAP_VALUE"),dv=Pe(lv)?lv:1e4,cv=v((e=>{Cu.values({name:"InvalidMediaFileBitrate",data:{mediaFile:e}})})),uv=v((e=>{Cu.values({name:"InvalidMediaFileCodec",data:{mediaFile:e}})})),hv=v((e=>{Cu.values({name:"InvalidMediaFileHasAudio",data:{mediaFile:e}})})),pv=v((e=>{Cu.values({name:"InvalidMediaFileWidthHeight",data:{mediaFile:e}})})),mv=v((e=>{Cu.values({name:"InvalidMediaFileVmafAvg",data:{mediaFile:e}})})),Av=v((e=>{Cu.values({name:"InvalidMediaFileTypeEmpty",data:{mediaFile:e}})})),vv=Eu.getNumberFlagValueAndActivateTestId("VAS_BITRATE_CAPPING_SOLUTION_MULTIPLIER"),gv=Pe(vv)?vv:10,_v=(e,t)=>e+"_"+t;var yv=e(9233);class fv extends yu{constructor(e){let{win:t,onReport:i}=e;super();const n=t;if(void 0===n.ReportingObserver)return;const r=new n.ReportingObserver((e=>{i({reportSourceEvent:"callback",reports:e,records:r.takeRecords()})}),{buffered:!0});r.observe();const o=r.takeRecords();o.length&&i({reportSourceEvent:"buffered",reports:[],records:o}),this.addDestroyHandler(Z({element:t,eventName:"beforeunload",listener:()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler((()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),r.disconnect()}))}}const Sv=D(tu).hostname,Tv=250;let Ev=0;const bv=[],Cv=(e,t)=>{const i=e.contentDocument.body;return zn((()=>{var e;!(null!=(e=i.ownerDocument)&&e.defaultView)&&t()}))};class wv extends yu{static create(e){const{parentElement:t,attributes:i,scope:n}=e,r=jn(t,i);if(!r)throw Un({scope:n,errorType:"NOT_CREATED",error:new Error,details:void 0});return new wv(Yn({},e,{iframe:r}))}static createHidden(e){const{parentElement:t,attributes:i,scope:n}=e,r=Wn(t,i);if(!r)throw Un({scope:n,errorType:"NOT_CREATED",error:new Error,details:void 0});return new wv(Yn({},e,{iframe:r}))}constructor(e){super();const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler((()=>{m(i)})),this.addDestroyHandler(Cv(this.iframe,(()=>{this.destroy(Un({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))}))),this.addDestroyHandler(Hn(this.window,((i,n,r)=>{const o="PRELOADING_IFRAME"===e.scope?void 0:e.provideLogDetails?e.provideLogDetails():void 0;Cu.error({error:Un({scope:t,errorType:n,error:i,details:Yn({},o,{error:i,data:r})})})})))}}kc({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME"});var Pv,Ov;const Iv=null!=(Pv=null!=(Ov=window.URL)?Ov:window.webkitURL)?Pv:{},kv=h(Iv.createObjectURL)&&h(Iv.revokeObjectURL)?Iv:void 0,Dv=e=>!!f(e)&&(!!VA(e)&&(e=>Boolean(kv)&&!Rn(e))(e)),Nv=kc({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME"});class Rv{constructor(e){this.ready=!1;const{type:t}=e;if(!Dv(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=this.preloadToBlob(e);Nv.call({callbackArguments:[{mediaFile:e,videoPreloader:this}]}),this.readyPromise=i.then((t=>(this.ready=!0,null!=t?t:e)))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),l(this.blobUrl)&&(null==kv||kv.revokeObjectURL(this.blobUrl))}async preloadToBlob(e){const{response:t}=await(i={method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e},new Promise(((e,t)=>{oe(Kn({},i,{onSuccess:e,onError:t}))})));var i;return qn({},e,{url:null==kv?void 0:kv.createObjectURL(t)})}}const Vv=["preloadTimeout"];class Lv{constructor(e){this._isPreloaded=!1,this.preloaders=[];const{params:t,contentType:i,options:n,mediaAd:r}=e;this.parsedParams=function(e){const{videoSlot:t,viewMode:i="normal",preloadJS:n=!0,preloadVideo:r=!0}=e,{width:o=t.clientWidth,height:a=t.clientHeight}=e,s=Vt(e.desiredBitrate);let{preloadTimeout:l}=e;return("number"!==typeof l||l>nm)&&(l=nm),{preloadTimeout:l,width:o,height:a,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:n,preloadVideo:r}}(t),this.contentType=i,this.getMediaFiles=n.getMediaFiles,this.getJSMediaFile=n.getJSMediaFile,this.getVastAd=n.getVastAd,this.mediaAd=r}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}get preloadedFirstFramePicture(){return this._preloadedFirstFramePicture}destroy(e){this._promise&&Cu.event({name:"PreloadCancelled",data:{reason:e}}),this._promise=void 0,this._vpaidWindow=void 0,Id(this.preloaders,(e=>e.destroy())),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{var e;const{preloadJS:t,preloadVideo:i}=this.parsedParams,n=this.getVastAd(),r=Ki(n);if(!r&&i&&"video"===this.contentType)return void(await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams));if(!r&&t&&"js"===this.contentType)return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:o,animationMediaFile:a}}=sn(null!=(e=n.adParametersObject)?e:n.adParameters),s=[];if(!r)return;if(i&&o.length>0){const e=this._preloadVideoFile(o,this.parsedParams);s.push(e)}if(t&&a){const e=this._preloadAdCreative(a);s.push(e)}return void(await Promise.all(s))}catch(MO){Id(this.preloaders,(e=>e.destroy())),this.preloaders.length=0,this._logError(MO,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=wv.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME"}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e){const t=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:i,teardown:n}=_n({animationMediaFile:e,win:t});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:n}),this._preloadedAdCreativeInitFunction=await i}catch(MO){return void this._logError(MO,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,Vv),n=this.getJSMediaFile();if(!n)return;const r=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=r;try{const{promise:e,teardown:t}=bA({src:n.url,win:r});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(MO){return this._logError(MO,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null==(t=r.Ya)?void 0:t.preloadVPAIDAd))return;const o=r.Ya.preloadVPAIDAd(Jn({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let a;this.preloaders.push(o);try{a=await o.readyPromise}catch(MO){return void this._logError(MO,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=a.AdParameters}async _preloadVideoFile(e,t){let{width:i,height:n,desiredBitrate:r}=t;const{adBreak:o}=this.mediaAd,a=this.mediaAd.getAdPodId(),{prioritisedMediaFile:s}=Mn(e,Jn({container:{width:i,height:n},desiredBitrate:r,isVideoADB:h(uu(window))},YA),{adBreak:o,adPodId:a,initiator:"PreloadingController"});if(!s)return;const{firstFrameImages:l}=this.mediaAd.vastAd,d=Sn(l,s);d&&(Xn(d.url),this._preloadedFirstFramePicture=d);const c=Jm(s),u=new Rv(c);let p;this.preloaders.push(u);try{p=await u.readyPromise}catch(MO){return void this._logError(MO,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=p}_logError(e,t){Gn(e),Cu.error({error:new Od(e,{code:t})})}}class Bv{constructor(){this.x=NaN,this.y=NaN,this.width=NaN,this.height=NaN}static fromVastIcon(e){const t=new Bv;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class xv{get contentType(){return this.getIsConvertedFromVideoVast()?"video":this.getJSMediaFile()?"js":"video"}constructor(e,t,i){this.duration=0,this.getMediaFiles=()=>Ri(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getAdContentDimensions=()=>function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:n,adParameters:r,adParametersObject:o}=t;if(Ki(t)){const{parsed:{videoMediaFiles:e}}=sn(null!=o?o:r);return 0===e.length?lA:ln(e)}const a=dn(n,i);return ln(a?[a]:Ri(n,i))}({vastAd:this.vastAd,secureMode:this.adConfig.secureMode}),this.getJSMediaFile=()=>dn(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getIsConvertedFromVideoVast=()=>{const{vastAd:{originallyConvertedFromVast:e}}=this;return void 0!==e&&Vi({secureMode:this.adConfig.secureMode,vastAd:e})},this.getPreloadedAdCreativeInitFunction=()=>{var e;return null==(e=this.preloadingController)?void 0:e.preloadedAdCreativeInitFunction},this.adBreak=e,this.vastAd=t,this.adConfig=i,this.icons=jc(this.vastAd.icons,(e=>Bv.fromVastIcon(e))),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}getAdPodId(){return(this.vastAd.adId||"")+";"+(this.vastAd.creativeId||"")+";"+this.vastAd.parseIndex+";"+this.vastAd.randomHexString+";"+(this.vastAd.bidreqid||"")+";"+(this.vastAd.campaignid||"")+";"+(this.vastAd.pageId||"")+";"+(this.vastAd.impId||"")+";"+(this.vastAd.vmapRequestId||"")}trackError(e){Ve(e,this.vastAd.trackingEvents.error)}hasMediaFiles(){var e;return(null==(e=this.getMediaFiles())?void 0:e.length)>0}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new Lv({params:e,contentType:this.contentType,options:{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd},mediaAd:this}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){return this.vastAd.adSystem===aA}getIsIndependentOnVideoElement(){if(function(e){let{adParametersObject:t}=e;const i=null==t?void 0:t.mediaFiles,n=Array.isArray(i)?i[0]:void 0;return d(n)&&n.url===Zm.url}(this.vastAd))return!0;this.getJSMediaFile();return!1}getIsYandexCreative(){return e=this.vastAd,x(sA,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null==(e=this.preloadingController)?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVideoFile}getPreloadedFirstFramePicture(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedFirstFramePicture}getPreloadedVpaidAdParameters(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(Uc("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.vastAd.imhoParams&&(!Ki(this.vastAd)&&!be(e.url)))}}const Mv=()=>pd.__VAS_TEST_UTILS_CONTEXT__,Uv=e=>{try{const t=function(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}(e);return"display"in t}catch(h_){return!1}},Fv="TRUE"===wA("DISABLE_SUBTITLES")||void 0,Hv="DISABLE"===wA("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0,zv={reason:1,action:0},jv={reason:2,action:0},Wv={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},Yv={unpleasantContentAd:{reason:24,action:2},politicalAd:{reason:31,action:4},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},Gv={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},Xv=cr({},{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0},advertiserInfo:{reason:20,action:0}},Wv,Yv,Gv),Kv={abuseUrl:"",legalText:void 0},qv="https://"+Rc+"/secure-ads",Jv="https://"+Rc+"/ads/advertiser_info",Zv={isAvailable:!1},Qv=!1,$v={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:-2,getAdVolume:0,getAdIcons:false,getAdExpanded:false,getAdHeight:0,getAdWidth:0,getAdLinear:!0,getAdSkippableState:Qv},eg=ur({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),tg=ur({},$v,eg),ig={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},ng={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},rg={adVolume:"setAdVolume"},og=!(null===RA.onwaiting)||dd?(e,t)=>{let i=0,n=!1;return zn((()=>{const r=e.currentTime,o=e.duration,{currentTime:a}=e,s=e.buffered&&1===e.buffered.length&&a>e.buffered.end(0);if(s&&!n)return n=!0,void t(n);if(s&&n)return;if(!e.paused){const e=i+.004;n?r>e&&(t(!1),n=!1):r<e&&r!==o&&(t(!0),n=!0)}i=r}))}:(e,t)=>{let i=!1;const n=Z({element:e,eventName:"pause",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),r=Z({element:e,eventName:"waiting",listener:()=>{i||(i=!0,t(!0))},options:{passive:!0}}),o=Z({element:e,eventName:"playing",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),a=Z({element:e,eventName:"canplay",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}});return()=>{n(),r(),o(),a()}};class ag extends yu{constructor(){super(),this.isPlaying=new sp(!1),this.isBuffering=new sp(!1),this.bufferingTimeCount=new _A,this.addDestroyHandler((()=>{this.bufferingTimeCount.destroy()}))}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(og(e,(e=>{this.isBuffering.dispatch(e)}))),this.addDestroyHandler(hr([this.isPlaying,this.isBuffering],((e,t)=>e&&t),(e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()})))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/gA}}const sg={AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdPaused:"pause",AdPlaying:"resume"},lg={adloox:"AdCreativeInitMeasurer_adloox",adriver:"AdCreativeInitMeasurer_adriver",moat:"AdCreativeInitMeasurer_moat",weborama:"AdCreativeInitMeasurer_weborama"},dg=["impression"],cg={adloox:{impression:"TrackingEventWithMeasurer_impression_adloox"},yandexTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_yandexTestMeasurer"},weborama:{impression:"TrackingEventWithMeasurer_impression_weborama"},moat:{impression:"TrackingEventWithMeasurer_impression_moat"},adriver:{impression:"TrackingEventWithMeasurer_impression_adriver"}},ug=_({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),hg=Boolean(pu);class pg extends yu{constructor(e){var t;super(),this.resizeObserverCallback=e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})},this.getElementWindow=e=>{var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||null};const i=lp(e);this.onResize=new sp({width:i.width,height:i.height},((e,t)=>{let{width:i,height:n}=t;return e.width===i&&e.height===n})),this.addDestroyHandler((()=>{this.onResize.removeAll()}));const n=this.getElementWindow(e),r=null!=(t=null==n?void 0:n.ResizeObserver)?t:window.ResizeObserver;if("undefined"!==typeof r&&c(ResizeObserver))try{const t=new r(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler((()=>{t.disconnect()}))}catch(MO){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return vr({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=lp(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Z({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(zn(i))}}class mg{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class Ag{constructor(e){this.stopped=!0,this.lastNow=0,this.lastKnockTime=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0,this.distributionFunction=e,this.clock=new mg}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout((()=>{this.knock(this.lastNow+this.lastTimeout)}),this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout((()=>{this.knock(e+t)}),t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const vg={height:0,width:0},gg=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],_g=1,yg=2,fg=3,Sg=4,Tg=e=>{const t=e.currentTime,i=Sr(e),n=(r=t,yd(i,(e=>{let{start:t,end:i}=e;return t<=r&&r<=i})));var r;return n?n.end-t:0},Eg=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)},bg=Eg(),Cg={PAGEURL:encodeURIComponent(te(document).location),Y_DEVICE_TYPE:bg?"mobile":"desktop",Y_AD_SESSION_ID:ih()},wg=.5;class Pg{constructor(){var e=this;this.events={},this.subscribe=(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let n=this.events[t];void 0===n&&(n=this.events[t]=[]),n.push({callback:e,context:i})},this.unsubscribe=(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=fu(i,(t=>{let{callback:i}=t;return e!==i})))},this.dispatch=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if("string"!==typeof t)throw new Error("Event name MUST be a string");const o=e.events[t];o&&Id(o,(e=>{let{callback:i,context:r}=e;try{i.apply(r,n)}catch(h_){Cu.error({error:new Od(h_,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:n}})})}}))}}}const Og="TRUE"===Eu.getFlagValueAndActivateTestId("VAS_ADLOOX_INIT_RU")?"https://pixel.adlooxtracking.ru/ads/ic.php":"https://pixel.adlooxtracking.com/ads/ic.php",Ig={id1:"",id2:"",id5:"",id7:"",id9:""},kg="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",Dg=Jc.split("/"),Ng=Dg[Dg.length-1],{initMoatTracking:Rg}=e(7176),Vg={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},Lg="yandexhostedvideo786420153684",Bg={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r}=e;const o=i.ownerDocument.defaultView,a=(e=>"https://"+Vc+"/pcode-static/measurers/"+e+"/video/adriver.js")(r);await un({win:o,src:a}).promise;new o.AdriverViewabilityYandexVPAID(Pr({},n,{ya_custom:"ADSID="+Mc}),i,t),Uc("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:n,onMeasurerError:r,yastaticVersion:o,verifyLogAdditionalData:a=""}=e;const s=Rg(i,Or({},n,{zMoatADID:a,slicer1:Ng,partnerCode:Lg}),t.getAdDuration(),Lg,o);Id(_(Vg),(e=>{t.subscribe((()=>{try{s.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(MO){r(new Od({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:MO,eventName:e}}))}}),e)}))},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:n,onMeasurerError:r,yastaticVersion:o,verifyLogAdditionalData:a=""}=e;var s;const l=wr({},n,{targetelt:((s=i).id||(s.id=E(8)),s.id),urli:kg,urlv:kg,urle:kg},{id8:a}),d=ec(ce(l),((e,t,i)=>{let[n,r]=t;return"string"!==typeof r?e:e+(0===i?"#":"&")+n+"="+encodeURIComponent(r)}),"");t.subscribe((()=>{const e=""+(e=>"https://"+Vc+"/pcode-static/measurers/"+e+"/video/adloox.js")(o)+d;var t;we((t=wr({},Ig,l),L(Og,(e=>{let{id1:t,id2:i,id5:n,id7:r,id9:o}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:n,id7:r,id9:o,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(t)))),un({win:i.ownerDocument.defaultView,src:e}).promise.catch((e=>{r(new Od({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))}))}),"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r,verifyLogAdditionalData:o=""}=e;const a=i.ownerDocument.defaultView,s=(e=>"https://"+Vc+"/pcode-static/measurers/"+e+"/video/weborama.js")(r);await un({win:a,src:s}).promise;new a.WBMeasurerV(i,t,JSON.stringify(Ir({},n,{siteid:o}))),Uc("weborama measurer loaded")},yandexTestMeasurer:async e=>{let{vpaidCreative:t}=e;Uc("start YandexTestMeasurer initialization"),Id(ug,(e=>{const i=v((()=>{var t;Cu.values({name:(t=e,"YandexTestMeasurerVpaidEvent_"+t),data:{},sensors:{},values:{}})}));t.subscribe((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Uc("YandexTestMeasurer received VPAID event=["+e+"], args=["+Ai(n)+"]"),i()}),e)})),Uc("complete YandexTestMeasurer initialization")}},xg={moat:{actual:"71",unstable:"71"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"79",unstable:"88"},adriver:{actual:"28",unstable:"28"},yandexTestMeasurer:{actual:"1",unstable:"2"}},Mg=_(Bg),Ug="omid",Fg={1:[],2:[],3:[],5:[]},Hg=["use_unstable_script"];class zg extends yu{constructor(e,t,i){var n;super(),n=this,this.userInteractionDispatchers={AdClickThru:e=>{let{url:t,clickSource:i,playerHandles:n}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),{dailySensors:{clickSource:i}}),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,void 0,n)},AdSkipped:()=>{this.onSkipped.dispatch(void 0)},AdStopped:()=>{this.onStopped.dispatch(void 0)},AdVideoComplete:()=>{this.onVideoComplete.dispatch(void 0)},AdUserClose:()=>{this.onUserClose.dispatch(void 0)},AdTimeToSkipChange:A},this.playingStateValueSignal=new sp(!1),this.slotHoverStateValueSignal=new sp(!1),this.shouldPlayTimeCounter=new _A,this.vpaidEventBus=new Pg,this.vpaidCreativeProxyForMeasurersEventBus=new Pg,this.isVisibilityConfirmed=!1,this.initializedMeasurers=void 0,this.initMeasurableParameters=v((e=>{const t=e[4];if(!d(t))throw new Od({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:i}=t,n=e[5];if(!d(n)||!d(n.slot))throw new Od({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:r,videoSlot:o}=n;this.bufferingTimeManager.start(o);const{parameters:a,errors:s}=Br(i);if(Id(s,this.callbacks.onExecutionError),!a)throw new Od({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:i}});this.vpaidInitParameters={slot:r,videoSlot:o,adParameters:a},this.initMeasurers()})),this.initMeasurers=v((()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t,parameters:i}=this;if(!e)return this.callbacks.onExecutionError(new Od({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:n}}=e,r=Ur({},n,{yandexTestMeasurer:{}});this.initializedMeasurers=r;const{slotsParameters:o}=i,{visibilitySlotParameters:a}=o,{element:s}=a;return Promise.all(jc(_(r),(async e=>{const i=r[e],n=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(i,Hg),o=Bg[e],a=((e,t)=>{const i=xg[e],n=t;return d(n)&&"use_unstable_script"in n&&Boolean(n.use_unstable_script)?i.unstable:i.actual})(e,i);try{await o({vpaidCreative:t,slot:s,measurerParameters:n,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:a,verifyLogAdditionalData:this.parameters.verifyLogAdditionalData}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:s,measurerParameters:n})}catch(MO){this.callbacks.onExecutionError(new Od({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:n,error:new Od(MO)}}))}})))})),this.trackRenderUndetermined=v((()=>{this.trackEvent("renderUndetermined",this.getTrackingUrlsByTrackingEventName("renderUndetermined"),{})})),this.trackEncounters=v((e=>{this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{dailySensors:{reason:e}}),this.trackImpression()})),this.trackImpression=v((()=>{this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),{}),this.trackImpressionWithVisibility()})),this.trackTrueView=v((e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{dailySensors:{reason:e}})})),this.startMeasurement=v((()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new Od({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i}=e,{viewability:n,dwell:r}=i;this.addDestroyHandler(Ar(t,(e=>{this.slotHoverStateValueSignal.dispatch(e)})));const o=new pg(t),{valueSignal:a,teardown:s}=Mr([this.parameters.slotsParameters.visibilitySlotParameters.size],(e=>mr(e,hg)));this.addDestroyHandler(s),this.measurerStartParameters={slotSize:o.onResize},this.addDestroyHandler((()=>{o.destroy()}));const l=new Ag((e=>{let{count:t}=e;return 1===t&&(l.destroy(),this.trackTrueView("progress")),3e4})),d=new Set,c="DISABLE_AT_ALL"===Eu.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")?void 0:new Ag((e=>{let{count:t}=e;const i=(r=t)>3?{eventName:"viewability5",intervalId:5}:1===r?{eventName:"viewability1",intervalId:1}:2===r?{eventName:"viewability2",intervalId:2}:3===r?{eventName:"viewability3",intervalId:3}:void 0;var r;if(void 0!==i){("SEND_ONLY_UNIQUE"!==Eu.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")||!d.has(i.eventName))&&this.trackEvent(i.eventName,n[i.intervalId],{})}return xr(t)})),u=new Set,h="DISABLE_AT_ALL"===Eu.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")?void 0:new Ag((e=>{let{count:t}=e;const i=(n=t)>3?{eventName:"dwell5",intervalId:5}:1===n?{eventName:"dwell1",intervalId:1}:2===n?{eventName:"dwell2",intervalId:2}:3===n?{eventName:"dwell3",intervalId:3}:void 0;var n;if(void 0!==i){("SEND_ONLY_UNIQUE"!==Eu.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")||!u.has(i.eventName))&&this.trackEvent(i.eventName,r[i.intervalId],{})}return xr(t)})),p=new Ag((e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),p.destroy()),xr(t)}));this.addDestroyHandler((()=>{l.destroy(),null==c||c.destroy(),null==h||h.destroy(),p.destroy()})),this.addDestroyHandler(this.playingStateValueSignal.add((e=>{l.setEnabled(e)}))),this.addDestroyHandler(hr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,a],((e,t,i)=>e&&t&&i),(e=>{e&&p.reset(),null==c||c.setEnabled(e),p.setEnabled(e)}))),this.addDestroyHandler(hr([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,a],((e,t,i,n)=>e&&t&&i&&n),(e=>{null==h||h.setEnabled(e)})))})),this.methodInterceptors={subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe},this.onSkipped=new Su,this.onStopped=new Su,this.onVideoComplete=new Su,this.onUserClose=new Su,this.eventInterceptors={AdLoaded:()=>{this.initMeasurers().then((()=>{this.vpaidEventBus.dispatch("AdLoaded")})).catch($)},AdVideoStart:()=>{this.vpaidEventBus.dispatch("AdVideoStart"),"video"===this.parameters.intrinsicAdCreativeType&&this.trackImpression()},AdSkipped:()=>{var e;this.callbacks.onExecutionError(new Od({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onSkipped.dispatch(void 0),this.vpaidEventBus.dispatch("AdSkipped")},AdUserClose:()=>{var e;this.callbacks.onExecutionError(new Od({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onUserClose.dispatch(void 0),this.vpaidEventBus.dispatch("AdUserClose")},AdStopped:()=>{var e;this.callbacks.onExecutionError(new Od({code:"VPAID_MEASURER_RECEIVED_AD_STOPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onStopped.dispatch(void 0),this.vpaidEventBus.dispatch("AdStopped")},AdVideoComplete:()=>{var e;this.callbacks.onExecutionError(new Od({code:"VPAID_MEASURER_RECEIVED_AD_VIDEO_COMPLETE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onVideoComplete.dispatch(void 0),this.vpaidEventBus.dispatch("AdVideoComplete")}},this.vpaidWillSetProperty=(e,t)=>{this.vpaidCreative[e]=t},this.vpaidWillCallMethod=(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(MO){return this.vpaidEventBus.dispatch("AdError",MO),void this.destroy({error:MO})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodInterceptors[e];if(i)return i(...t);return this.vpaidCreative[e].apply(this.vpaidCreative,t)},this.trackImpressionWithVisibility=()=>{const e=lh()?"impressionUndetermined":"impressionDetermined";this.trackEvent(e,this.getTrackingUrlsByTrackingEventName(e),{})},this.updatePlayTimeCounter=e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}},this.trackEvent=function(e,t,i){if(void 0===t&&(t=[]),Uc("Track VPAIDMeasurer event=["+e+"]"),!n.vpaidInitParameters||!n.measurerStartParameters)return void n.callbacks.onExecutionError(new Od({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:r}=n.measurerStartParameters,{slotsParameters:o}=n.parameters,{visibilitySlotParameters:a}=o,{visibilityRatio:s}=a,l=ah(r.getValue()),d={eventName:e,trackingEventDetails:i,trackingUrls:t,options:Tr({win:window,slotSize:l,slotVisibilityRatio:s.getValue(),videoNode:n.vpaidInitParameters.videoSlot,bufferingTime:n.bufferingTimeManager.getBufferingTime()}),pixelsSource:"adParameters"};br(d),n.callbacks.onTrackEvent(d),pr(e,n.initializedMeasurers)},this.vpaidCreative=e,this.parameters=t,this.callbacks=i;const{visibilityRatio:r}=t.slotsParameters.visibilitySlotParameters;this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.addDestroyHandler(this.onSkipped.add((()=>{this.trackEvent("skip",this.getTrackingUrlsByTrackingEventName("skip"),{}),this.destroy({reason:"AdSkipped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdSkipped")}))),this.addDestroyHandler(this.onUserClose.add((()=>{this.trackEvent("close",this.getTrackingUrlsByTrackingEventName("close"),{}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdUserClose")}))),this.onStopped.addOne((()=>{this.destroy({reason:"AdStopped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdStopped")})),this.addDestroyHandler(this.onVideoComplete.add((()=>{this.trackEvent("complete",this.getTrackingUrlsByTrackingEventName("complete"),{}),this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),{}),this.trackTrueView("complete"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdVideoComplete")}))),this.playingStateValueSignal.add(i.onPlayingStateChange);const{valueSignal:o,teardown:a}=Mr([r],(e=>e>=wg));this.addDestroyHandler(a),this.slotVisibilityStateValueSignal=o,this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new ag,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.addDestroyHandler((e=>{i.onStop(e),Id([this.playingStateValueSignal,this.slotHoverStateValueSignal],(e=>{e.dispatch(!1),e.removeAll()}))})),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=ue(eg,((e,t)=>()=>{Uc("Measurer called VPAID action method=["+t+"]"),Cu.event({name:"Measurer_VPAIDActionMethodCalled",data:{methodName:t},probability:1})})),n=ue($v,((t,i)=>function(){const t=e[i];for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(e,r)}));Id(ug,(e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...n)}),e)}));return Cr(Ur({},i,n,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;Id(ug,(t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.vpaidDidDispatchEvent(t,n)}),t)}))}vpaidDidDispatchEvent(e,t){const i=sg[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),{}),"AdVideoStart"===e&&this.onAdVideoStart(),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new Od({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};Uc("Track VPAIDMeasurer event=[error]"),Re(i),this.callbacks.onAdError(i)}var n,r,o;("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdImpression"===e)&&this.callbacks.onExecutionError(new Od({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null==(n=this.vpaidInitParameters)?void 0:n.adParameters}}));"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new Od({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null==(r=this.vpaidInitParameters)?void 0:r.adParameters}}));"AdUserMinimize"===e&&this.callbacks.onExecutionError(new Od({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null==(o=this.vpaidInitParameters)?void 0:o.adParameters}}));if("AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),{}),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),{}),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdError":this.destroy({reason:e})}const a=this.eventInterceptors[e];void 0===a?this.vpaidEventBus.dispatch(e,...t):a(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Dd(i)?i:[]}onAdVideoStart(){this.measurerStartParameters?(this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{values:{timeToStart:this.shouldPlayTimeCounter.getTime()}}),lh()&&this.trackRenderUndetermined()):this.callbacks.onExecutionError(new Od({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const jg=["clickThrough","close","impression","mute","skip","unmute"],Wg={},Yg=()=>0,Gg=()=>false,Xg=()=>false,Kg=()=>"2.0";class qg{constructor(e){this.dispatch=v((e=>{this.value=e,this._isDispatched=!0,X(this.callbacks,e),this.callbacks.length=0})),this.callbacks=[],this._isDispatched=!1,h(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),A):(this.callbacks.push(e),()=>{this.callbacks=fu(this.callbacks,(t=>t!==e))})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise((e=>{this.subscribe(e)}))}}class Jg extends yu{constructor(e){super(),this.params=e,this.promise=this.loadAdCreative().catch((e=>{throw this.destroy(),e}))}async loadAdCreative(){const{adParametersString:e,surveyAdCreativeInitParameters:t,slot:i,externalLiveCycle:n,initAdCreative:r}=this.params;if(!h(r))throw new Od({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let o;try{o=r({adParametersString:e,surveyAdCreativeInitParameters:t,slot:i,externalLiveCycle:n})}catch(h_){throw new Od(h_,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!d(o))throw new Od({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_OBJECT",details:this.getAdCreativeErrorDetails()});const{promise:a,teardown:s}=o;if(!ch(a))throw new Od({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});if(!h(s))throw new Od({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_FUNCTION_TEARDOWN",details:this.getAdCreativeErrorDetails()});const l=()=>{s()};let c;this.addDestroyHandler(l);try{0,c=await a}catch(h_){if(l(),ae(h_))throw h_;throw new Od(h_,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return c}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const Zg={startAd:()=>new Promise(A),stopAd:A};class Qg extends yu{constructor(e){super(),this.vpaidEventBus=new Pg,this.handshakeVersion=Kg,this.subscribe=this.vpaidEventBus.subscribe,this.unsubscribe=this.vpaidEventBus.unsubscribe,this.resizeAd=A,this.expandAd=A,this.collapseAd=A,this.getAdIcons=Xg,this.getAdExpanded=Gg,this.setAdVolume=A,this.getAdVolume=Yg,this.initAd=v((()=>{this.vpaidEventBus.dispatch("AdLoaded")})),this.videoStartedLatch=new qg,this.adCreativeLatch=new qg,this.completeLatch=new qg,this.isPackshotStarted=new qg,this.remainingTime=new sp(-2),this.shouldPlay=new sp(!1),this.isPlaying=new sp(!1),this.shouldPlayTimeCounter=new _A,this.lifeCycleLatches=ue({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},((e,t)=>new qg(this.ignoreAfterDestroy((()=>{this.vpaidEventBus.dispatch(t)}))))),this.stopAnimation=A,this.completeOrDestroyLatch=new qg,this.packshotCurrentTime=0,this.destroyReasonSniffers={complete:()=>{this.params.adCreativeUserInteractionCallbacks.AdVideoComplete()},skip:()=>{this.params.adCreativeUserInteractionCallbacks.AdSkipped()},close:()=>{this.params.adCreativeUserInteractionCallbacks.AdUserClose()},stopAd:A},this.pauseAd=()=>{this.shouldPlay.dispatch(!1)},this.resumeAd=()=>{this.shouldPlay.dispatch(!0)},this.getAdHeight=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoHeight)?e:0},this.getAdWidth=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoWidth)?e:0},this.getAdLinear=()=>!1,this.getAdDuration=()=>{const e=this.getVideoDuration();return e||-1},this.getAdRemainingTime=()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDuration(),{currentTime:i}=t.getCurrentPosition();if(Pe(e)&&Wt(i)){if(this.isPackshotStarted.getValue()){const e=this.getPackshotBgVideoDuration();return Math.max(e-this.packshotCurrentTime,0)}return Math.max(e-i,0)}}return-1},this.getAdSkippableState=()=>!0,this.dispatchAdStartedOrPlaying=ti((()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),(()=>{this.vpaidEventBus.dispatch("AdPlaying")})),this.params=e,this.addDestroyHandler((()=>{this.completeOrDestroyLatch.dispatch(void 0)})),this.completeLatch.subscribe((()=>{this.completeOrDestroyLatch.dispatch(void 0)}));const{videoParameters:t,firstFrameParameters:i,videoNodeController:n,slot:r,slotSize:o,packshotParameters:a,adCreativeUserInteractionCallbacks:s,slotsParameters:l}=e;if(t&&i){const{posterImage:e,isPreloaded:t}=i,{videoNode:r}=n,o=function(e,t){return ar(e,{backgroundImage:'url("'+t.url+'")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"})}(r,e),a=Date.now();this.videoStartedLatch.subscribe((()=>{t&&Cu.values({name:"TimeBetweenFirstFrameImageAndVideoStart",values:{time:Date.now()-a}}),o()})),this.addDestroyHandler(o)}if(this.vpaidEventBus.subscribe((e=>{Cu.errorToStats(e)}),"AdError"),this.addDestroyHandler(v(s.AdStopped)),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.shouldPlay.add((e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()})),this.remainingTime.add((()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")})),this.addDestroyHandler((()=>{this.remainingTime.removeAll()})),t){this.getAdVolume=()=>n.getVolume(),this.setAdVolume=e=>{0===e?n.setMuted(!0):n.setVolume(e)};const e=()=>{const e="play"===n.playingState.getValue();this.isPlaying.dispatch(e)};this.completeOrDestroyLatch.subscribe(n.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(n.pause(),t&&(this.attachToVideoNode(t,n),this.addDestroyHandler(this.adCreativeLatch.subscribe((()=>{this.shouldPlay.getValue()&&n.play();const e=this.shouldPlay.add((e=>{e?n.play():n.pause()}));this.isPackshotStarted.subscribe(e),this.completeOrDestroyLatch.subscribe(e)})))),this.params.videoParameters&&this.videoStartedLatch.subscribe(this.dispatchAdStartedOrPlaying),this.adCreativeLatch.subscribe((e=>{const{getAdDuration:i,getAdRemainingTime:n,resizeAd:r}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add((t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)})),t||(h(i)&&(this.getAdDuration=()=>i.call(e)),h(n)&&(this.getAdRemainingTime=()=>n.call(e),this.addDestroyHandler(zn((()=>{this.remainingTime.dispatch(this.getAdRemainingTime())}))))),this.stopAnimation=v((()=>{e.stopAd()})),this.addDestroyHandler(this.stopAnimation),this.completeOrDestroyLatch.subscribe(o.add((t=>{h(r)&&r.call(e,t)})))})),a){const e=r.ownerDocument.defaultView;if(e){const e="packshot"===a.type?a.packshotImageUrl:void 0;e&&this.lifeCycleLatches.AdVideoThirdQuartile.subscribe((()=>{Ce(e)})),this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{if(l.visibilitySlotParameters.visibilityRatio.getValue()>=wg||"honeypot"===a.type)return this.destroyReasonSniffers.complete(),void this.isPackshotStarted.dispatch(a);this.stopAdAndDestroyWrapper("complete")})))}else Cu.error({error:new Od({code:"AD_CREATIVE_PACKSHOT_WINDOW_NULL",details:{win:String(e)}})})}else this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{this.params.destroyAfterComplete?this.stopAdAndDestroyWrapper("complete"):this.destroyReasonSniffers.complete()})));this.isPackshotStarted.subscribe((e=>{this.stopAnimation();const t="packshot"===e.type?e.renderLayoutComponent(e):e.renderLayoutComponent();this.shouldPlay.add((e=>{t.setPlaying(e)})),t.progress.add((t=>{"packshot"===e.type&&(this.packshotCurrentTime=Math.min(e.packshotDuration,e.packshotDuration*t))})),t.addDestroyHandler((t=>{let{reason:i,details:n}=t;"complete"!==i?("firstRenderError"!==i&&"runtimeError"!==i||(Cu.error({error:new Od({code:"firstRenderError"===i?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:{type:e.type,error:n}})}),this.vpaidEventBus.dispatch("AdError",n)),this.destroy()):this.destroy()})),this.addDestroyHandler((()=>{t.destroy({reason:"stopAd",details:void 0})}))})),this.loadAndRenderAnimation().catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()})))}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null==(e=this.params.videoParameters)?void 0:e.getStartStrategy();t&&"startPlaying"!==i?(Uc("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),Cu.event({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,startStrategy:i}})):(Uc("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)),this.addDestroyHandler(this.shouldPlay.add((e=>{t&&!this.isPackshotStarted.getDispatched()||(e?this.dispatchAdStartedOrPlaying():this.vpaidEventBus.dispatch("AdPaused"))}))),this.addDestroyHandler((()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()}))}stopAd(){this.destroy()}skipAd(){this.stopAdAndDestroyWrapper("skip")}stopAdAndDestroyWrapper(e){this.destroyReasonSniffers[e](),this.destroy()}getVideoDuration(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{duration:e}=t.getCurrentPosition(),i=Pe(e)?e:void 0;if(i){return i+this.getPackshotBgVideoDuration()}}}async loadAndRenderAnimation(){const{animationParameters:e,adCreativeWindow:t,slot:i,videoParameters:n}=this.params;if(!e)return void this.adCreativeLatch.dispatch(Zg);const{animationMediaFile:r,getPreloadedAdCreativeInitFunction:o,adCreativeParameters:a,surveyAdCreativeParameters:s}=e;let l=o();try{if(h(l))0;else{0;const{promise:e,teardown:i}=_n({animationMediaFile:r,win:t});this.completeOrDestroyLatch.subscribe(i),l=await e}}catch(MO){if(ae(MO))throw MO;throw new Od(MO,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:{adParametersString:a}})}if(this.isDestroyed)return void 0;const d=new Jg({slot:i,adParametersString:a,surveyAdCreativeInitParameters:s,externalLiveCycle:Boolean(n),initAdCreative:l});this.addDestroyHandler((()=>{d.destroy()}));const c=await d.promise;this.isDestroyed||this.adCreativeLatch.dispatch(c)}attachToVideoNode(e,t){const{videoContentSize:i,videoMediaFile:n,videoMediaFiles:r,videoTimeout:o,bufferEmptyLimit:a,bufferFullTimeout:s,durationFallback:l,onVideoBufferingStateChange:d}=e,{videoNode:c}=t,{clickThroughUrl:u,animationParameters:p,slot:m}=this.params;t.onVolumeChange.add((()=>this.vpaidEventBus.dispatch("AdVolumeChange")));const g=Date.now();this.addDestroyHandler(t.onCanPlay.addOne((()=>{Cu.values({name:"MediaFileLoadingTime",values:{loadingTime:Date.now()-g}})}))),t.setSrc(n),f(u)&&this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{const e=e=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:u,playerHandles:!0,clickSource:e})};this.completeOrDestroyLatch.subscribe(t.onClick.add((()=>{e("AdCreativeWrapperVideoElement")}))),jr(c)&&!hg&&this.completeOrDestroyLatch.subscribe(ar(c,{cursor:"pointer"})),void 0===p&&(this.completeOrDestroyLatch.subscribe(Z({element:m,eventName:"click",listener:()=>{e("AdCreativeWrapperSlotElement")},ignoreBubbling:!0})),hg||this.completeOrDestroyLatch.subscribe(ar(m,{cursor:"pointer"})))}))),this.addDestroyHandler(t.onVolumeChange.add((()=>{this.vpaidEventBus.dispatch("AdVolumeChange")}))),this.addDestroyHandler(this.videoStartedLatch.subscribe((()=>{const e=t.onPlayAfterPause.add((()=>{this.videoStartedLatch.getDispatched()&&this.dispatchAdStartedOrPlaying()})),i=t.playingState.add((e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")}));this.completeOrDestroyLatch.subscribe(e),this.completeOrDestroyLatch.subscribe(i),this.isPackshotStarted.subscribe(e),this.isPackshotStarted.subscribe(i)})));const _=()=>{const e=this.adCreativeLatch.getValue();if(!e||!h(e.adjustAdPosition))return;const t=this.getAdDuration(),i=this.getAdRemainingTime();Pe(t)&&Wt(i)&&e.adjustAdPosition({adDuration:t,adRemainingTime:i})};this.completeOrDestroyLatch.subscribe(function(e){function t(){let{duration:e}=i.getCurrentPosition();return Pe(e)||(e=n()),e}let{videoNodeController:i,durationFallback:n,callbacks:{AdStarted:r,AdVideoFirstQuartile:o,AdVideoMidpoint:a,AdVideoThirdQuartile:s,AdVideoBeforeComplete:l,AdVideoComplete:d}}=e;const c=v(o),u=v(a),h=v(s),p=v(l);let m=0;const A=()=>{const e=t();if(!Pe(e))return;const{currentTime:n}=i.getCurrentPosition(),r=(n-m)/e;r>=.25&&c(),r>=.5&&u(),r>=.75&&h()},g=v((()=>{A(),d()})),_=[Wr(i.videoNode,(()=>{m=i.getCurrentPosition().currentTime,r()})),i.currentPosition.add((e=>{let{currentTime:i}=e;const n=function(e){let{currentTime:t,duration:i}=e;return!(t>=i)&&t+.5>=i}({currentTime:i,duration:t()});n&&p()})),i.currentPosition.add(A),i.onEnd.add(g)];return()=>X(_)}({durationFallback:l,videoNodeController:t,callbacks:Yr({},ue(this.lifeCycleLatches,(e=>()=>{e.dispatch(void 0)})),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),_()},AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}})}));const y=new Error;this.shouldPlayTimeCounter.addCallback(o,(()=>{if(this.videoStartedLatch.getDispatched())return;const e=new Od(y,{code:"video"===this.params.intrinsicAdCreativeType?"VIDEO_TIMEOUT":"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:o,mediaFile:n,networkState:c.networkState,readyState:c.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{t.isBuffering.getValue()&&d(!0),this.addDestroyHandler(t.isBuffering.add((e=>{d(e)})))}))),this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{this.completeOrDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:n}=e;if(!Pe(i))return A;let r=0;const o=t.onBufferingAfterPlay.add((()=>{r++,Uc("bufferEmptyCount=["+r+"] limit=["+i+"]"),r<=i||(o(),n())}));return o}({videoNodeController:t,bufferEmptyLimit:a,callback:()=>{const e=new Od({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_EMPTY_LIMIT":"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:a,mediaFile:n,networkState:c.networkState,readyState:c.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.completeOrDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferFullTimeout:i,callback:n}=e,r=A;const o=t.isBuffering.add((async e=>{if(r(),!e)return;const{promise:a,clear:s}=Nh(i,t.win);r=s,await a,r(),o(),n()}));return()=>{r(),o()}}({videoNodeController:t,bufferFullTimeout:s,callback:()=>{const e=new Od({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_FULL_TIMEOUT":"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:s,mediaFile:n,networkState:c.networkState,readyState:c.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}}))}))),this.completeOrDestroyLatch.subscribe(t.onError.add((e=>{e=new Od(e,{details:Yr({},e.details,{selectedMediaFile:n,mediaFiles:r})}),this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}))),this.addDestroyHandler(t.currentPosition.add((()=>{_(),this.remainingTime.dispatch(this.getAdRemainingTime())}))),this.completeOrDestroyLatch.subscribe(i.add((e=>{const t=this.adCreativeLatch.getValue();t&&h(t.resizeVideoContent)&&t.resizeVideoContent(e)})))}startAdCreative(e){const{videoParameters:t,slotSize:i,shouldHideSkipButton:n,playerEnvironment:r}=this.params,o=i.getValue(),a=ue(this.lifeCycleLatches,(e=>t?A:()=>e.dispatch(void 0))),s=e.startAd({callbacks:Yr({AdClickThru:this.ignoreAfterDestroy((e=>{let{url:t,playerHandles:i,clickSource:n}=e;const r=f(t)?t:this.params.clickThroughUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,playerHandles:i,clickSource:n})}))},a,{AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}}),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},requestTimeToSkipChange:e=>{this.params.adCreativeUserInteractionCallbacks.AdTimeToSkipChange(e)},dispatchAdStarted:this.dispatchAdStartedOrPlaying,size:o,videoContentSize:null==t?void 0:t.videoContentSize.getValue(),playerEnvironment:r,shouldHideSkipButton:n,destroyAfterComplete:this.params.destroyAfterComplete});if(!ch(s))throw new Od({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});s.then(this.ignoreAfterDestroy((e=>{if(t)return;let i="complete";if(d(e)){const t=e.reason;f(t)&&Boolean(this.destroyReasonSniffers[t])&&(i=t)}"complete"===i?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(i)}))).catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()})))}pauseAdCreative(e){null==e.pauseAd||e.pauseAd()}resumeAdCreative(e){null==e.resumeAd||e.resumeAd()}getPackshotBgVideoDuration(){var e,t;return"packshot"!==(null==(e=this.params.packshotParameters)?void 0:e.type)?0:null!=(t=this.params.packshotParameters.packshotDuration)?t:0}}const $g=v((e=>{Cu.event({name:"IntersectionObserverMocked",data:{functionCode:S((()=>e.IntersectionObserver.toString()))},probability:1})})),e_=v((()=>{Cu.event({name:"DocumentHiddenMocked",data:void 0,probability:1})})),t_=v((e=>{Cu.event({name:"IframeIntersectionObserverMocked",data:{functionCode:S((()=>e.IntersectionObserver.toString()))},probability:1})})),i_=v((()=>{Cu.event({name:"IframeDocumentHiddenMocked",data:void 0,probability:1})})),n_=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"];class r_{constructor(e,t){this.time=0,this.startTime=0,this.id=0,this.started=!1,this.loop=()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()},this.callback=t,this.animationFrameFunctions=qr(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}var o_,a_,s_,l_,d_,c_,u_,h_={},p_=[],m_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;o_=p_.slice,a_={__e:function(e,t){for(var i,n,r;t=t.__;)if((i=t.__c)&&!i.__)try{if((n=i.constructor)&&null!=n.getDerivedStateFromError&&(i.setState(n.getDerivedStateFromError(e)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e),r=i.__d),r)return i.__E=i}catch(t){e=t}throw e}},s_=0,to.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Jr({},this.state),"function"==typeof e&&(e=e(Jr({},i),this.props)),e&&Jr(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),ro(this))},to.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ro(this))},to.prototype.render=eo,l_=[],d_="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oo.__r=0,u_=0;var A_,v_,g_,__=0,y_=[],f_=a_.__b,S_=a_.__r,T_=a_.diffed,E_=a_.__c,b_=a_.unmount;a_.__b=function(e){v_=null,f_&&f_(e)},a_.__r=function(e){S_&&S_(e),A_=0;var t=(v_=e.__c).__H;t&&(t.__h.forEach(Do),t.__h.forEach(No),t.__h=[])},a_.diffed=function(e){T_&&T_(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==y_.push(t)&&g_===a_.requestAnimationFrame||((g_=a_.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(n),C_&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(i,100);C_&&(t=requestAnimationFrame(i))})(ko)),v_=void 0},a_.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Do),e.__h=e.__h.filter((function(e){return!e.__||No(e)}))}catch(c_){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a_.__e(c_,e.__v)}})),E_&&E_(e,t)},a_.unmount=function(e){b_&&b_(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(Do)}catch(e){a_.__e(e,t.__v)}};var C_="function"==typeof requestAnimationFrame;const w_=e=>ae(e)?e:new Od(e,{code:"PREACT_ERROR",details:{error:e}}),P_=e=>{const[t]=Eo(new sp({status:"initial"}));Co((()=>{const i=t.getValue();return"initial"!==i.status?(e.onFirstRender(i),A):t.addOne((t=>{"initial"!==t.status&&e.onFirstRender(t)}))}),[t]),bo((()=>{"initial"===t.getValue().status&&t.dispatch({status:"success"})}),[t]);const[i]=function(e){var t=To(A_++,10),i=Eo();return t.__=e,v_.componentDidCatch||(v_.componentDidCatch=function(e){t.__&&t.__(e),i[1](e)}),[i[0],function(){i[1](void 0)}]}((function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];const o=Dd(n)&&1===n.length&&md(n[0])?n[0]:void 0,a=null!=o?o:new Error("Preact error boundary error"),s=w_(a);Cu.error({error:s});const{status:l}=t.getValue();"initial"===l?t.dispatch({status:"error",error:s}):e.onRuntimeError(s)}));return i||"error"===t.getValue().status?null:Qr(eo,null,e.children)},O_=e=>Qr(eo,null,ec(e.components,((t,i)=>i(Lo({},e.componentsProps,{children:t}))),e.children)),I_=So(Vu);I_.Provider.displayName="SlotSizeContext";const k_=e=>Mo(e),D_=()=>Io(I_),N_=So(document.body);N_.Provider.displayName="SlotContext";Number(new Date);class R_{constructor(){this.usingStylesByContainersMap=new WeakMap}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const n=i.get(t);return n?(i.set(t,n+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const n=i.get(t);return!n||(i.set(t,n-1),!(n>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}class V_{constructor(){this.stylesUsingCounter=new R_,this.styleElementsMap=new WeakMap}useStyleModule(e,t){const i=t,n=[];for(let r=0;r<i.length;r++){const[t,o]=i[r];if(!o)continue;if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=Uo(e,o),n=this.styleElementsMap.get(e);n?n.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}n.push(t)}return n.length?v((()=>{Id(n,(t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),n=this.styleElementsMap.get(e);if(!i||!n)return;m(n.get(t)),n.delete(t),0===n.size&&this.styleElementsMap.delete(e)}))})):A}}const L_=new V_,B_=So({buttonText:"",openClickThroughUrl:A});B_.Provider.displayName="HoneypotContext";var x_=e(1256),M_=e.n(x_);const U_=e=>{let{children:t,onClick:i}=e;return Fo(M_()),Qr("div",{className:x_.locals.HoneypotButton,onClick:i},Qr("div",{className:x_.locals.HoneypotButton__content},t))};var F_=e(6383),H_=e.n(F_);const z_=e=>{let{width:t,height:i}=e;return Fo(H_()),Qr("div",{className:F_.locals.HoneypotOverlay,style:{width:t+"px",height:i+"px"}})};var j_=e(5046),W_=e.n(j_);const Y_=()=>{Fo(W_());const{width:e,height:t}=D_(),{buttonText:i,openClickThroughUrl:n}=Io(B_);return Qr("div",{onClick:i?void 0:n,className:xo(j_.locals.HoneypotScreen,{[j_.locals.HoneypotScreen_clickable]:!i}),style:{width:e+"px",height:t+"px"}},Qr("div",{className:j_.locals.HoneypotScreen__honeypotOverlayWrapper},Qr(z_,{width:e,height:t})),i&&Qr("div",{className:j_.locals.HoneypotScreen__buttonWrapper},Qr(U_,{onClick:n},i)))},G_=[e=>Qr(N_.Provider,{value:e.container,children:e.children}),e=>Qr(I_.Provider,{value:k_(e.containerSize),children:e.children}),e=>Qr(B_.Provider,{value:Ho(e),children:e.children})];class X_ extends yu{constructor(e){super(),this.honeypotProgress=new sp(0),this.shouldPlay=new sp(!0),this.progress=new sp(0),this.props=e;const{win:t,onClick:i,videoNodeController:n,parent:r}=this.props;this.addDestroyHandler((e=>{Uc("Honeypot: destroy honeypot reason=["+e.reason+"]"),Cu.event({name:"HoneypotDestroyed",data:{reason:e},probability:1})}));const o=t.document.createElement("div");r.appendChild(o);const a=function(e){const{container:t,onRuntimeError:i,onFirstRenderError:n}=e;return fo(Qr(P_,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&n(e.error)}},Qr(O_,{components:G_,componentsProps:e},Qr(Y_,null))),t),()=>{fo(null,t)}}(zo({},this.props,{container:o,containerSize:e.parentSize,onClick:()=>{Cu.event({name:"HoneypotButtonClicked",data:void 0,probability:1}),i()},onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})}}));this.addDestroyHandler((()=>{a(),m(o)})),Cu.event({name:"HoneypotRendered",data:void 0,probability:1});const s=new r_(t,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.honeypotProgress.dispatch(i)}));if(this.addDestroyHandler((()=>{s.stop()})),s.start(),void 0!==n){const e=n.getMuted();if(!e){let t;n.setMuted(!0),this.addDestroyHandler(n.onVolumeChange.add((()=>{t=void 0!==t}))),this.addDestroyHandler((()=>{t||(n.setMuted(e),n.videoNode.dispatchEvent(new Event("volumechange",{bubbles:!1,cancelable:!0,composed:!1})))}))}n.setLoop(!0),n.play(),this.addDestroyHandler((()=>n.setLoop(!1))),Cu.event({name:"HoneypotBackgroundLoopedVideo",data:void 0})}this.shouldPlay.add((e=>{e?s.start():s.stop(),void 0!==n&&(e?n.play():n.pause())}))}setPlaying(e){this.shouldPlay.dispatch(e)}}const K_="https://"+Vc+"/pcode-static/measurers/75/omweb-js",q_=K_+"/Session-Client/omid-session-client-v1.js",J_=K_+"/Service/omweb-v1.js",Z_=K_+"/Compliance-Script/omid-compliance-verification-script-v1.js",Q_=async e=>{const t=Wn(e.document.body,{sandbox:"allow-scripts allow-same-origin"});if(!t)throw new Od({code:"OMSDK_ERROR",details:{reason:"Could not init IFrame for OM SDK script"}});const i=$_(t,q_),n=$_(t,J_),r=Promise.all([i,n]),o=Promise.race([r.then((()=>t)),Nh(3e3,window).promise.then((()=>{throw new Error("OMID scripts loading timeout")}))]);return t.setAttribute("data-vas-omsdk",""),o},$_=(e,t)=>{const{promise:i}=un({src:t,win:e.contentWindow});return i},ey=new Set;let ty,iy;const ny="0.0."+Jd,ry="generic",oy="video";class ay extends yu{get videoNode(){return this.adPodViewer.adDisplayController.videoNode}get videoNodeController(){return this.adPodViewer.adDisplayController.videoNodeController}constructor(e,t){super(),this.omsdkServiceScriptIframe=new qg,this.omidSessionClient=new qg,this.onSessionFinish=new Su,this.onDestroy=new qg,this.addDestroyHandler((()=>this.onDestroy.dispatch(void 0))),this.adPodViewer=e,this.verificationScriptParametersList=t,(async e=>{void 0===ty&&(void 0===iy&&(iy=Q_(e)),ty=await iy);const t=()=>{if(ey.has(t)&&(ey.delete(t),0===ey.size)){const t=ty;e.setTimeout((()=>{m(t)}),3e3),ty=void 0,iy=void 0}};return ey.add(t),{omsdkFriendlyIFrame:ty,release:t}})(window).then((e=>{let{omsdkFriendlyIFrame:i,release:n}=e;this.omsdkServiceScriptIframe.dispatch(i),this.addDestroyHandler(n),Cu.event({name:"OmidVerifiersHasBeenSuccessfullyLoaded",data:{parameters:JSON.stringify(t)},probability:1})})).catch((e=>(Uc("[OMSDK]: Could not register OMSDK on page"),this.destroy({reason:"Could not register OMSDK on page: "+e.message,isError:!0})))),this.addDestroyHandler(this.omsdkServiceScriptIframe.subscribe((e=>{const t=su(e.contentWindow,"OmidSessionClient.default");t?(Uc("OmidSessionClient initialized, "+t),this.omidSessionClient.dispatch(t)):this.destroy({reason:"OmidSessionClient was not initialized",isError:!0})}))),this.addDestroyHandler((e=>{let{reason:t,isError:i}=e;Uc("[OMSDKController]: destroy "+t),i&&Cu.error({error:new Od({code:"OMSDK_ERROR",details:{reason:t}})})}))}async initSession(e){let{impressionType:t="unspecified",startStrategy:i}=e;if(this.isDestroyed)return;const n=await Promise.race([this.omidSessionClient.wait(),this.onDestroy.wait()]);if(void 0!==n)try{var r;const{Partner:e,VerificationScriptResource:o,Context:a,AdSession:s,AdEvents:l,MediaEvents:d,VastProperties:c}=n,u=Wo(window).split("?").shift(),h=new e("Yandex",ny),p=new a(h,jc(this.verificationScriptParametersList,(e=>{let{javaScriptResource:t,vendorKey:i,verificationParameters:n,accessMode:r}=e;return new o(t,i,n,r)})),u);p.setVideoElement(this.videoNode),xc.isDebugEnabled&&(p.underEvaluation=!0);const m=null==(r=this.omsdkServiceScriptIframe.getValue())?void 0:r.contentWindow;if(!m)throw new Error("OMSDK service script IFrame is unloaded");p.setServiceWindow(m);const A=new s(p);if(!A.isSupported())throw new Error("AdSession is not supported");A.setCreativeType("video"),A.setImpressionType(t);const v=new l(A),g=new d(A);A.start(),this.addDestroyHandler((e=>{let{reason:t}=e;"complete"===t&&g.complete(),"skip"===t&&g.skipped(),A.finish(),this.onSessionFinish.dispatch()}));const _=_e(this.adPodViewer.adPodViewerPlaybackParams.skipDelay),y=this.adPodViewer.adPodViewerPlaybackParams.skipDelay,f=new c(_,y,"startPlaying"===i,function(e){switch(e.mediaAd.adBreak.adType){case"midroll":case"inroll":case"pauseroll":return"midroll";case"preroll":return"preroll";case"postroll":return"postroll";default:return"standalone"}}(this.adPodViewer));this.adPodViewer.addDestroyHandler((e=>{let{reason:t,details:i}=e;"error"===t&&void 0!==i&&A.error(ry,i.message)})),this.videoNodeController.onError.add((e=>A.error(oy,e.message))),this.videoNodeController.onLoadedData.add((()=>{v.loaded(f)})),this.videoNodeController.isBuffering.add((e=>{e?g.bufferStart():g.bufferFinish()})),this.adPodViewer.isStarted.add((()=>{const{duration:e}=this.videoNodeController.getCurrentPosition(),t=this.videoNodeController.getVolume();g.start(e,t)})),this.adPodViewer.onImpression.add((()=>{v.impressionOccurred()})),this.adPodViewer.onFirstQuartile.add((()=>g.firstQuartile())),this.adPodViewer.onMidpoint.add((()=>g.midpoint())),this.adPodViewer.onThirdQuartile.add((()=>g.thirdQuartile())),this.adPodViewer.onClickThrough.add((()=>g.adUserInteraction("click"))),this.adPodViewer.onPause.add((()=>g.pause())),this.adPodViewer.onResume.add((()=>g.resume())),this.videoNodeController.onVolumeChange.add((()=>{g.volumeChange(this.adPodViewer.adDisplayController.getVolume())})),this.adPodViewer.adDisplayController.isFullscreen.add((e=>{g.playerStateChange(e?"fullscreen":"normal")}))}catch(h_){this.destroy({reason:"Session initialization failed: "+h_.message,isError:!0})}}}const sy=[Lc,Vc],ly=new Set;Id([...sy,"static.adsafeprotected.com","z.moatads.com"],(e=>{ly.add(e)}));class dy{constructor(e){this.position=0,this.offset=0,this.onAnimationFrame=e=>{let{diff:t}=e;const i=t/this.duration,n=1500/this.duration;if(Math.abs(this.offset)>=n){const e=this.position+i+this.offset;return void this.setPosition(e)}const r=i*(1+this.offset/n);this.position=Tn(this.position+r,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-r,this.params.callback(this.position)},this.params=e,this.duration=e.duration,this.onFinishOnce=v(e.onFinish),this.animationFramesController=new r_(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=Tn(e,0,1),this.offset=0,this.params.callback(e))}}const cy=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),uy=(e,t,i,r)=>{n(t)?(r=Boolean(i),w(t,((t,i)=>{Jo(e,i,t,r)}))):Jo(e,t,i,r)},hy=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));class py extends yu{constructor(e){super(),this.progress=new sp(0),this.shouldPlay=new sp(!0),this.props=e,this.isInfiniteDuration=!Pe(e.duration)}setPlaying(e){this.shouldPlay.dispatch(e)}show(){const{duration:e,win:t,imageUrl:i,videoNodeController:n,destroyAfterComplete:r=!0,parent:o}=this.props,a=!Pe(e),s=!i||"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_USE_VIDEO_AS_PACKSHOT_BACKGROUND_IN_FIRST_PRIORITY");let l;if(i&&Zo(o,Qo({},vp,{backgroundImage:"url("+i+")",backgroundPosition:"center",backgroundSize:"cover"})),a?(l=new r_(t,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.progress.dispatch(i)})),this.addDestroyHandler((()=>{l.stop()})),l.start()):(l=new dy({win:t,duration:e*gA,callback:e=>{this.progress.dispatch(e)},onFinish:()=>{r&&this.destroy({reason:"complete",details:void 0})}}),this.progress.add((e=>{e>=1&&l.stop()})),this.addDestroyHandler((()=>{l.stop(),this.progress.removeAll(),this.shouldPlay.removeAll()})),l.start()),s&&void 0!==n){const e=n.getMuted();if(!e){let t;n.setMuted(!0),this.addDestroyHandler(n.onVolumeChange.add((()=>{t=void 0!==t}))),this.addDestroyHandler((()=>{t||(n.setMuted(e),n.videoNode.dispatchEvent(new Event("volumechange",{bubbles:!1,cancelable:!0,composed:!1})))}))}n.setLoop(!0),n.play(),this.addDestroyHandler((()=>n.setLoop(!1))),Cu.event({name:"PackshotBackgroundLoopedVideo",data:void 0,probability:nu})}this.shouldPlay.add((e=>{e?l.start():l.stop(),s&&void 0!==n&&(e?n.play():n.pause())}));const d=t.document.createElement("div");o.appendChild(d);const c=this.renderPackshotContent(Qo({},this.props,{parent:d}));this.addDestroyHandler((()=>{c(),m(d)}))}}var my=e(5432),Ay=e.n(my);const vy=e=>{const{url:t,children:i,onClick:n,pointerEvents:r}=e;Fo(Ay());return Qr("a",{onClick:e=>{e.preventDefault(),h(n)&&n(e)},className:my.locals.ClickThroughLink,"data-pointer-events":r,href:t,target:"_blank",rel:"nofollow noreferrer"},i)},gy=e=>{const{isClickDisabled:t,children:i,clickThruUrl:n,onClickThru:r}=e;return t?Qr(eo,null,i):Qr(vy,{onClick:r,url:n},i)},_y=So(Th);_y.Provider.displayName="I18NContext";const yy=e=>{let{lang:t}=e;return t},fy=()=>{const e=Io(_y);return t=>Ch(t,e)},Sy=()=>Io(_y),Ty=e=>{const{width:t="1em",height:i="1em",style:n={}}=e;return Qr("svg",{width:t,height:i,style:$o({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},n),viewBox:"14 14 38 38"},Qr("g",{"fill-rule":"nonzero",fill:"currentcolor"},Qr("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var Ey=e(2563),by=e.n(Ey);const Cy=e=>{let{size:t,children:i}=e;return Fo(by()),Qr("div",{className:xo(Ey.locals.ActionButton,{[Ey.locals.ActionButton__content_middle]:"middle"===t,[Ey.locals.ActionButton__content_small]:"small"===t})},Qr("div",{className:Ey.locals.ActionButton__textWrapper},i),Qr(Ty,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:i?"0.3em":"0px",flexShrink:"0"}}))};var wy=e(6246),Py=e.n(wy);const Oy=e=>{let{title:t,greenUrl:i}=e;return Fo(Py()),Qr("div",{className:wy.locals.InfoBlock},Qr("div",{className:wy.locals.InfoBlock__title},t),i?Qr("div",{className:wy.locals.InfoBlock__greenUrl},i):null)};var Iy=e(9461),ky=e.n(Iy);const Dy=e=>{Fo(ky());const t=fy(),i=t("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),n=t("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:r,greenUrl:o,onClickThrough:a,buttonLabel:s=n,faviconSrc:l,targetUrl:d,useDefaultButtonLabel:c=!1}=e;return Qr("div",{className:Iy.locals.ActionPanel__clickableLayer},Qr("div",{className:Iy.locals.ActionPanel},Qr("div",{className:Iy.locals.ActionPanel__content},Qr(vy,{url:d,onClick:()=>{a({clickSource:"ActionPanel",playerHandles:!0,url:void 0})}},Qr("div",{className:Iy.locals.ActionPanel__mask},Qr("div",{className:xo(Iy.locals.ActionPanel__wrapper,!l&&Iy.locals.ActionPanel__wrapper_wide)},Qr(Oy,{greenUrl:o,title:f(r)?r:i}),Qr(Cy,{size:"big"},c?n:s)))),l?Qr("div",{className:Iy.locals.ActionPanel__favicon},Qr("img",{onClick:()=>{a({playerHandles:!0,url:void 0,clickSource:"ActionPanelFaviconImage"})},src:l,alt:"favicon"})):null)))},Ny=So({});Ny.Provider.displayName="ControlsVisibilityContext";const Ry=e=>Mo(e),Vy=()=>Io(Ny),Ly=So(void 0);Ly.Provider.displayName="FaviconSrcContext";const By=()=>Io(Ly),xy=-1,My=So({timeToSkip:xy,skipCallback:A});My.Provider.displayName="SkipContext";const Uy=e=>{let{timeToSkipSignal:t,skipCallback:i}=e;return{timeToSkip:Mo(t),skipCallback:i}},Fy=()=>Io(My),Hy=So({themeEmptyParameters:void 0,clickThrough:A});Hy.Provider.displayName="ThemeEmptyContext";const zy=e=>{let{themeEmptyParameters:t,clickThrough:i}=e;return{themeEmptyParameters:Mo(t),clickThrough:i}},jy=()=>Io(Hy);var Wy=e(7480),Yy=e.n(Wy);const Gy=e=>{let{children:t}=e;return Fo(Yy()),Qr("div",{className:Wy.locals.PackshotButton},Qr("div",{className:Wy.locals.PackshotButton__content},t))};var Xy=e(4368),Ky=e.n(Xy);const qy=e=>{let{width:t,height:i}=e;return Fo(Ky()),Qr("div",{className:Xy.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})};var Jy=e(3162),Zy=e.n(Jy);const Qy=e=>{Fo(Zy());const t=fy(),i=D_(),{timeToSkip:n}=Fy(),{skip:r}=Vy(),o=function(e){let t;const{width:i}=e;let n;return t=i<360?14:i>=1024?32:Math.max(16,Math.min(14+2*Math.floor((i-240)/80),30)),n=i<560?13:i<720?14:16,{title:{fontSize:t,lineHeight:t+4},body:{fontSize:t-2,lineHeight:t+4},textBlock:{fontSize:n},ctaButton:{fontSize:ta(e)}}}(i),a=function(e){const{width:t}=e;return t<640?.1*t:t<960?.15*t:.2*t}(i),{descriptionText:s,openClickThroughUrl:l,disableOverlay:d=!1,disableTitle:c=!1,disableButton:u=!1,clickUrl:h,title:p,packshotNewDesignMode:m}=e,v=fy(),{themeEmptyParameters:g}=jy(),_=void 0===g&&!0!==c&&!0!==u,y=void 0!==g&&!0!==u,S=xo(Jy.locals.PackshotScreen,{[Jy.locals.PackshotScreen_clickable]:_}),T=!0===c?void 0:null!=p?p:v("LEARN_MORE_ON_ADVERTISERS_WEBSITE"),{greenUrl:E,label:b,targetUrl:C}=null!=g?g:{},w=By(),P="OFF"!==m,O=!1!==r&&n>=0,I=i.width<=400&&P&&O&&i.width>i.height,k=P?Qr("div",{className:Jy.locals.PackshotScreen__content},Qr(gy,{isClickDisabled:_,clickThruUrl:h,onClickThru:()=>{l({clickSource:"PackshotTitle",playerHandles:!0,url:void 0})}},T&&Qr("div",{className:Jy.locals.PackshotScreen__title,style:{fontSize:o.title.fontSize+"px",lineHeight:o.title.lineHeight+"px",padding:"0 "+a+"px"}},T)),y&&Qr("div",{className:xo(Jy.locals.PackshotScreen__buttonWrapper_newDesign,{[Jy.locals.PackshotScreen__buttonWrapper_newDesign_float_left]:I}),style:{fontSize:o.ctaButton.fontSize+"px"}},Qr(Dy,{useDefaultButtonLabel:I,title:void 0,greenUrl:E,buttonLabel:b,targetUrl:C,onClickThrough:_?A:l,faviconSrc:I?void 0:w}))):g&&Qr("div",{className:Jy.locals.PackshotScreen__buttonWrapper},Qr(vy,{url:h,onClick:()=>{l({url:void 0,playerHandles:!0,clickSource:"PackshotButton"})}},Qr(Gy,null,b||t("LEARN_MORE")))),{width:D,height:N}=i,R=Qr("div",{className:S,style:{width:D+"px",height:N+"px"}},!d&&Qr("div",{className:Jy.locals.PackshotScreen__packshotOverlayWrapper},Qr(qy,{width:D,height:N})),k,f(s)&&Qr("div",{className:P?Jy.locals.PackshotScreen__textBlock_newDesgin:Jy.locals.PackshotScreen__textBlock,style:{fontSize:o.textBlock.fontSize+"px"}},s));return _?(e=>Qr(vy,{url:h,onClick:()=>{l({clickSource:"PackshotContainer",url:void 0,playerHandles:!0})}},e))(R):R},$y=So({clickThrough:A,clickUrl:void 0,videoSlotClickUrl:void 0});$y.Provider.displayName="ClickUrlDataContext";const ef=e=>{const t=Mo(e.currentVastAd),i=Mo(e.videoSlotClickUrl);return Po((()=>({clickThrough:e.clickThrough,clickUrl:null==t?void 0:t.clickUrlData.tgaOfferClickUrl,videoSlotClickUrl:i})),[t])},tf=()=>Io($y);class nf extends py{constructor(e){super(e),this.addDestroyHandler((e=>{Uc("Packshot: destroy Packshot reason=["+e.reason+"]"),Cu.event({name:"PackshotDestroyed",data:{isInfiniteDuration:this.isInfiniteDuration,reason:e},probability:nu})}))}renderPackshotContent(e){const{title:t,descriptionText:i,openClickThroughUrl:n,disableOverlay:r,disableTitle:o,disableButton:a,clickUrl:s,packshotNewDesignMode:l}=e;return fo(Qr(P_,{onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})},onFirstRender:e=>{"error"===e.status&&this.destroy({reason:"firstRenderError",details:e.error})}},Qr(O_,{components:rf,componentsProps:e},Qr(Qy,{title:t,descriptionText:i,openClickThroughUrl:e=>{Cu.event({name:"PackshotButtonClicked",data:void 0,probability:1}),n(e)},disableOverlay:r,disableTitle:o,disableButton:a,clickUrl:s,packshotNewDesignMode:l}))),e.parent),Cu.event({name:"PackshotRendered",data:{isInfiniteDuration:this.isInfiniteDuration},probability:nu}),()=>{fo(null,e.parent)}}}const rf=[e=>Qr(N_.Provider,{value:e.parent,children:e.children}),e=>Qr(I_.Provider,{value:k_(e.parentSize),children:e.children}),e=>Qr(_y.Provider,{value:yy(e),children:e.children}),e=>Qr(Hy.Provider,{value:{themeEmptyParameters:e.themeEmptyParameters,clickThrough:e.openClickThroughUrl},children:e.children}),e=>Qr($y.Provider,{value:{clickThrough:e.openClickThroughUrl,clickUrl:e.clickUrl,videoSlotClickUrl:e.clickUrl},children:e.children}),e=>Qr(My.Provider,{value:Uy({timeToSkipSignal:e.timeToSkip,skipCallback:A}),children:e.children}),e=>Qr(Ny.Provider,{value:Ry(e.controlsVisibility),children:e.children})],of={duration:NaN,remainingTime:0};let af;const sf=_({portion:"portion",seconds:"seconds"});class lf{constructor(e){this.trackingUrls={portion:[],seconds:[]},Id(e,(e=>{let{urls:t,offset:{unit:i,value:n}}=e;this.trackingUrls[i].push({urls:[...t],offset:n})}))}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!Wt(i))return[];const n=t-i,r={portion:n/t,seconds:n},o=[];return Id(sf,(e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,r[e]);o.push(...t)})),o}getTrackingUrlsByUnitAndOffset(e,t){const[i,n]=on(this.trackingUrls[e],(e=>{let{offset:i}=e;return t>=i}));return this.trackingUrls[e]=n,vt(jc(i,(e=>{let{urls:t}=e;return t})))}}const df="2.0",cf=_({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0}),uf=["slot","videoSlot"];class hf extends yu{static getVpaidAd(e){return Cr(new hf({outsideApi:e}))}handshakeVersion(){return df}stopAd(){Uc("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),pa(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,n,r,o){if(this.isDestroyed)return void Cu.error({error:new Od({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:r,environmentVars:o}})});const a=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(o,uf);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:r,environmentVars:ma({},a,{videoSlot:void 0,slot:void 0})}]).then(A).catch((e=>{this.destroy({reason:"fatal",details:e})}))}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.unsubscribe=A,this.getAdIcons=Xg,this.getterValues=ct(jc(cf,(e=>[e,$v[e]]))),this.subscribe=(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,((t,n)=>{e.apply(i,n)}))},this.params=e;const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy(((e,t)=>{this.getterValues[e]=t})))),this.addDestroyHandler((e=>{"fatal"===e.reason&&Cu.error({error:new Od({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})}))}callRemoteMethod(e,t){this.isDestroyed?Cu.error({error:new Od({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(A).catch((e=>{this.destroy({reason:"fatal",details:e})}))}}const pf=(e,t,i,n,r,o)=>{const a=e?n:t,s=e?i:r;return{width:a,height:s,top:(o.height-s)/2,left:(o.width-a)/2}},mf=e=>{const{image:t,boundingRectangle:{width:i,height:n},scaleForHorizontal:r=1,scaleForVertical:o=1,pixelRatio:a,stretch:s}=e,l=t.width,d=t.height,c=l/d,u=c>i/n,h=c>1?r:o,p=h*(i<l||s?i:l),m=h*(n<d||s?n:d),A=l*(m/d),v=d*(p/l);return{width:u?p:A,height:u?v:m,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:pf(u,p,m,A,v,{width:i,height:n}),coeff:l*d/(i*n*a),isHorizontal:c>1,smartCenters:t.smartCenters}},Af=["idle","load","init","start","play"];const vf=e=>be(e)||!li(e),gf=e=>{var t;const{adConfig:{secureMode:i}}=e,n=null!=(t=xc.hardcodedParams.adsdksecuremode)?t:i;if(!n)return!1;const r=e.getJSMediaFile();if(!r)return!1;switch(n){case"ForceSafe":return!0;case"Safe":return!vf(r.url);default:return!1}},_f=v((()=>{Cu.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0})})),yf=v((()=>{Cu.event({name:"AdCreativeVideoBannerVastHasBooleanFields",data:void 0})})),ff=e=>{const t=Fe(e);return Boolean(t)},Sf=e=>{if(!d(e))return[];const{sitelinks:t,addInfo:i,telNum:n,workingTime:r,metro:o,region:a}=e;if(bf(t)){const e=fu(t,(e=>f(e.title)&&f(e.url)));if(e.length)return jc(e,(e=>({type:"sitelink",text:e.title,url:e.url})))}const s=null==i?void 0:i.callouts_list;if(Ef(s)){const e=fu(s,f);if(e.length)return jc(e,(e=>({type:"callout",text:e})))}const l=fu([n,r,o,a],f);return jc(l,(e=>({type:"contact",text:e})))},Tf=e=>{if(void 0!==(null==e?void 0:e.secondTitle)&&f(null==e?void 0:e.secondTitle))return e.secondTitle},Ef=e=>Array.isArray(e)&&Xh(e,l),bf=e=>Array.isArray(e)&&Xh(e,d),Cf=e=>f(e)?e:void 0,wf=e=>"boolean"===typeof e?e:void 0,Pf=e=>d(e)&&Xh(ni(e),(e=>"string"===typeof e))?e:void 0,Of=new Map([["1","ru"],["2","uk"],["3","en"],["4","be"],["5","kk"],["6","tr"],["ru","ru"],["uk","uk"],["en","en"],["by","be"],["kz","kk"],["tr","tr"]]),If=e=>{var t;return null!=(t=Of.get(e))?t:"ru"},kf=e=>{var t;const{adParametersObject:i}=e;if(!d(i))return;const n=(e=>{if(!ff(e))return;const{AGE_BACKGROUND_COLOR:t,AGE_TEXT_COLOR:i,BODY_BACKGROUND_COLOR:n,BODY_TEXT_COLOR:r,BUTTON_BORDER_COLOR:o,BUTTON_COLOR:a,BUTTON_TEXT_COLOR:s,DISCLAIMER_BACKGROUND_COLOR:l,DISCLAIMER_TEXT_COLOR:d,DOMAIN_BACKGROUND_COLOR:c,DOMAIN_TEXT_COLOR:u,HAS_AGE:h,HAS_BUTTON:p,HAS_DISCLAIMER:m,HAS_LEGAL:A,LEGAL_BACKGROUND_COLOR:v,LEGAL_TEXT:g,LEGAL_TEXT_COLOR:_,TITLE_BACKGROUND_COLOR:y,TITLE_TEXT_COLOR:f,BUTTON_POSITION:S,BUTTON_LABELS:T}=e;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_AGE"in e)&&yf();const E=Fe(e);if(!E)return;const{domain:b,green_url_text_prefix:C,green_url_text_suffix:w,age:P,lang:O}=E,I=Gt({domain:b,greenUrlTextPrefix:C,greenUrlTextSuffix:w}),k=Kt(e)||{},{punyDomain:D}=k,N=Dt(e);k===E.unmoderated&&_f();const R=Tf(k),{title:V,body:L,hasTitle:B,hasBody:x}=He(e);return{title:V,body:L,titleExtension:Cf(R),domain:Cf(b),greenUrl:I,punyDomain:Cf(D),domainBackgroundColor:Cf(c),domainTextColor:Cf(u),ageRestriction:Cf(P),hasAgeRestriction:wf(h),extraLinks:Sf(k),hasButton:wf(p),images:va(e),clickThruUrl:Zt(e),ageBackgroundColor:Cf(t),ageTextColor:Cf(i),bodyBackgroundColor:Cf(n),bodyTextColor:Cf(r),buttonBorderColor:Cf(o),buttonColor:Cf(a),buttonTextColor:Cf(s),hasDisclaimer:wf(m),disclaimerBackgroundColor:Cf(l),disclaimerTextColor:Cf(d),hasBody:x,hasLegal:wf(A),hasTitle:B,legalBackgroundColor:Cf(v),legalText:Cf(g),legalTextColor:Cf(_),titleBackgroundColor:Cf(y),titleTextColor:Cf(f),buttonPosition:Cf(S),buttonLabels:Pf(T),assets:vm(e),targetUrl:We(e),productType:N,lang:If(O)}})(null!=(t=i.adParameters)?t:i);return{parsedParameters:n,adParametersObject:i}};var Df,Nf=e(7262),Rf=e.n(Nf);!function(e){e.TEST="TEST",e.MOEVIDEO="MOEVIDEO",e.VIDEONOW="VIDEONOW",e.ADLOOK="ADLOOK",e.BUZZOOLA="BUZZOOLA",e.PUNCHMEDIA="PUNCHMEDIA",e.BETWEENDIGITAL="BETWEENDIGITAL",e.ADHIGH="ADHIGH",e.ADRIVER="ADRIVER",e.MRADX="MRADX",e.RUTARGET="RUTARGET",e.DSSERVING="DSSERVING"}(Df||(Df={}));const Vf=ce({TEST:"test_vpaid",MOEVIDEO:"moevideo.biz",VIDEONOW:"videonow.ru",ADLOOK:"adlook.me",BUZZOOLA:"buzzoola.com",PUNCHMEDIA:"punchmedia.ru",BETWEENDIGITAL:"betweendigital.com",ADHIGH:"adhigh.net",ADRIVER:"adriver.ru",MRADX:"mradx.net",RUTARGET:"rutarget.ru",DSSERVING:"ds.serving-sys.ru"});var Lf=e(4873),Bf=e.n(Lf);let xf=!0;var Mf=e(3857),Uf=e.n(Mf);const Ff=e=>{Fo(Uf());const{product:t,isHorizontalFormat:i,onProductClick:n}=e,r=wo(null),o=xo(Mf.locals.EcomProductCard,{[Mf.locals.EcomProductCard_horizontal]:i}),{priceInfo:a}=t,s=xo(Mf.locals.EcomProductCard__price,{[Mf.locals.EcomProductCard__price_withOldPrice]:void 0!==(null==a?void 0:a.oldPrice)}),l=Sy(),d=ba(r);return Qr("div",{style:{"--pc-line-height":1.2,"--pc-lines-count":Po((()=>{if(null===r.current||void 0===d)return;const e=Number.parseFloat(getComputedStyle(r.current).fontSize);return Math.floor(d.height/(1.2*e))}),[r.current,t.text,d])},className:o},Qr("img",{className:Mf.locals.EcomProductCard__Image,src:t.imageUrl}),Qr("div",{className:Mf.locals.EcomProductCard__Details},Qr("div",{className:Mf.locals.EcomProductCard__pricesContainer},a&&Qr("span",{className:s},Ca(a.price,a.currency,l,0)),(null==a?void 0:a.oldPrice)&&Qr("span",{className:Mf.locals.EcomProductCard__oldPrice},Ca(a.oldPrice,a.currency,l,0))),Qr("div",{className:Mf.locals.EcomProductCard__textContainer,ref:r},Qr("div",{className:Mf.locals.EcomProductCard__text},t.text)),Qr("div",{className:Mf.locals.EcomProductCard__linkContainer},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")),Qr(vy,{onClick:n,url:t.link},Qr("span",null)))};var Hf=e(9759),zf=e.n(Hf);const jf=150,Wf=3,Yf=e=>{Fo(zf());const{products:t,maxItemsPerView:i=Wf,onProductClick:n}=e;if(0===t.length)return null;const r=wo(null),o=ba(r),{itemsPerView:a,carouselItemWidth:s,carouselItemContainerWidth:l,isHorizontalCardsFormat:d}=function(e,t){if(void 0===e)return{itemsPerView:1,carouselItemWidth:jf,carouselItemContainerWidth:jf,isHorizontalCardsFormat:!1};const i=e.width<e.height;if(Math.min(5*e.height/7,e.width)>=jf||i){const i=Math.max(Math.min(Math.floor(e.width/jf),t),1);return{itemsPerView:i,carouselItemWidth:e.width/i,carouselItemContainerWidth:e.width/i,isHorizontalCardsFormat:!1}}return{itemsPerView:1,carouselItemWidth:e.width,carouselItemContainerWidth:e.width,isHorizontalCardsFormat:!0}}(o,i),c=e=>()=>{(e=>{null!==r.current&&void 0!==l&&(r.current.scrollLeft+=l*e)})(e)},u={"--pc-card-width":s+"px","--pc-card-container-width":l+"px"},[h,p]=Eo(!1),[m,A]=Eo(!1),v=e=>{var t,i;const n=null!=(t=e.scrollLeft)?t:0,r=(null!=(i=e.scrollWidth)?i:0)-(n+e.clientWidth)>1;p(n>0),A(r)};bo((()=>{null!==r.current&&v(r.current)}),[r.current]);const g=t.length>a,_=fy(),y=xo(Hf.locals.EcomProductsCarousel__productCardContainer,{[Hf.locals.EcomProductsCarousel__productCardContainer_verticalCards]:!d,[Hf.locals.EcomProductsCarousel__productCardContainer_horizontalCards]:d}),f=xo(Hf.locals.EcomProductsCarousel__productCards,{[Hf.locals.EcomProductsCarousel__productCards_noScroll]:!g});return Qr("div",{className:Hf.locals.EcomProductsCarousel,style:u},Qr("div",{className:Hf.locals.EcomProductsCarousel__slideToLeftContainer},g&&Qr("button",{type:"button",onClick:c(-1),className:Hf.locals.EcomProductsCarousel__slideToLeft,disabled:!h,title:_("PREV_ECOM_PRODUCT")},Qr(wa,{className:Hf.locals.EcomProductsCarousel__slideToLeftIcon}))),Qr("div",{className:f,ref:r,onScroll:e=>{v(e.target)}},void 0!==o&&jc(t,(e=>Qr("div",{className:y},Qr(Ff,{product:e,isHorizontalFormat:d,onProductClick:()=>{n(e)}}))))),Qr("div",{className:Hf.locals.EcomProductsCarousel__slideToRightContainer},g&&Qr("button",{type:"button",onClick:c(1),className:Hf.locals.EcomProductsCarousel__slideToRight,title:_("NEXT_ECOM_PRODUCT"),disabled:!m},Qr(Pa,{className:Hf.locals.EcomProductsCarousel__slideToRightIcon}))))},Gf=e=>{Fo(Bf());const t=D_(),i={fontSize:ta(t)},n=t.height>t.width,r=n?1:3,o=xo(Lf.locals.EcomProductsPackshotScreen,{[Lf.locals.EcomProductsPackshotScreen_singleVisibleItem]:1===r||1===e.products.length,[Lf.locals.EcomProductsPackshotScreen_vertical]:n}),{products:a,openClickThroughUrl:s,isProductsVisible:l}=e;return Qr(eo,null,l&&Qr("div",{className:o,style:i},Qr(Yf,{products:a,maxItemsPerView:r,onProductClick:e=>{s(e.clickThruUrl)}})),!l&&Qr(Qy,e.classicPackshotProps))};class Xf extends py{constructor(e){super(e),this.isProductsVisible=new sp(!1),this.addDestroyHandler((e=>{Uc("ProductsPackshot: destroy Productspackshot reason=["+e.reason+"]"),Cu.event({name:"EcomProductsPackshotDestroyed",data:{isInfiniteDuration:this.isInfiniteDuration,reason:e},probability:nu})}))}setProductsVisibility(e){this.isProductsVisible.dispatch(e)}renderPackshotContent(e){var t;const i=e=>{"error"===e.status&&this.destroy({reason:"firstRenderError",details:e.error})},n=e=>{this.destroy({reason:"runtimeError",details:e})},r=t=>{Cu.event({name:"EcomProductsPackshotButtonClicked",data:void 0,probability:1}),e.openClickThroughUrl(t)},o={clickUrl:null==(t=e.themeEmptyParameters)?void 0:t.clickUrl,descriptionText:void 0,openClickThroughUrl:()=>{void 0!==e.themeEmptyParameters&&e.openClickThroughUrl(e.themeEmptyParameters.clickUrl)},packshotNewDesignMode:"ONLY_ELEMENTS_CLICKABLE",title:e.title,disableOverlay:e.disableOverlay,disableTitle:e.disableTitle,disableButton:e.disableButton};return fo(Qr((()=>{const t=Mo(this.isProductsVisible);return Qr(P_,{onRuntimeError:n,onFirstRender:i},Qr(O_,{components:Kf,componentsProps:e},Qr(Gf,{classicPackshotProps:o,products:e.ecomShop.products,openClickThroughUrl:r,isProductsVisible:t})))}),null),e.parent),Cu.event({name:"EcomProductsPackshotRendered",data:{isInfiniteDuration:this.isInfiniteDuration},probability:nu}),()=>{fo(null,e.parent)}}}const Kf=[e=>Qr(N_.Provider,{value:e.parent,children:e.children}),e=>Qr(I_.Provider,{value:k_(e.parentSize),children:e.children}),e=>Qr(Hy.Provider,{value:{themeEmptyParameters:e.themeEmptyParameters,clickThrough:()=>{void 0!==e.themeEmptyParameters&&e.openClickThroughUrl(e.themeEmptyParameters.clickUrl)}},children:e.children}),e=>Qr(Ny.Provider,{value:{skip:!1},children:e.children})];class qf extends yu{constructor(e){super(),this.onAdSkippableStateChange=new Su,this.adSkippableState=!1,this.canUseMediaAfterPlayback=!1,this.isInfinityPackshotEnabled=!1,this.styleModulesManager=new V_,this.lifeCycleStage=new sp("idle",((e,t)=>{const i=Af.indexOf(e);return Af.indexOf(t)-i!==1&&this.stats.error({error:new Od({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:Ia({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),this.startVpaidCreative=v((e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),Uc("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();e.subscribe(v((()=>{Uc("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),this.stats.values({name:"VpaidCreativeStarted",data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e}})})),"AdStarted")})),this.creativeAdStartedCallback=ti((()=>{if(this.isDestroyed)return void this.stats.error({error:new Od({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||this.stats.error({error:new Od({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=v((()=>{this.isStarted.dispatch(!0)})),t=this.playingState.getValue();Uc("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"===t?e():this.playingState.subscribeValueConditionOnce((e=>"play"===e),e)}),(()=>{this.stats.error({error:new Od({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),this.createContainerNode=v((()=>{const{creativesLayoutContainer:e,slotParameters:t}=this.adDisplayController,i=t.document.createElement("div");i.classList.add(Nf.locals.AdPodContainer),this.styleModulesManager.useStyleModule(i,Rf()),this.isCreativeStartRequested.addOne((()=>{rt(i,{visibility:"visible"})})),this.addDestroyHandler((()=>{m(i)})),e.appendChild(i);const n=ra(i);return n&&rt(n,vp),n||i})),this.prepareVpaidCreative=v((async e=>{let{startStrategy:t}=e;this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add((()=>{this.onVolumeChange.dispatch(void 0)}))),this.omsdkController&&await this.omsdkController.initSession({impressionType:"viewable",startStrategy:t});const i=await this.initCreative();if(!i||this.isDestroyed)throw new Od({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});i.subscribe((e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})}),"AdError"),this.creative=i,this.addDestroyHandler((()=>{this.creative=void 0})),this.onReady.dispatch(void 0),"play"===this.playingState.getValue()?this.startVpaidCreative(i):this.startAndPauseVpaidCreative(i),this.updateAdSkippableState()})),this.updatePosition=this.ignoreAfterDestroy((()=>{var e,t,i,n;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!=(e=null==(t=this.creative)?void 0:t.getAdRemainingTime())?e:-1}),Uc("[AdPodViewer]: updated position [duration = ["+this.getDuration()+"], adRemainingTime = ["+(null!=(i=null==(n=this.creative)?void 0:n.getAdRemainingTime())?i:-1)+"]]")})),this.isAdPlayingCalled=!1,this.sentTrackings={impression:0,creativeView:0,firstQuartile:0,midpoint:0,thirdQuartile:0,beforeComplete:0,complete:0,clickThrough:0},this.getVPAIDLogDetails=()=>({adPodId:this.mediaAd.getAdPodId(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:dr(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}),this.playbackPosition=new sp(of,oa),this.packshotStartLatch=new qg,this.adVideoIsBuffering=new sp(!1),this.playingState=new sp("idle",((e,t)=>"idle"===t?(this.stats.error({error:new Od({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&this.stats.error({error:new Od({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),this.isCreativeStartRequested=new sp(!1),this.onReady=new Su,this.onBeforeDestroy=new Su,this.isStarted=new sp(!1),this.onResume=new Su,this.onPause=new Su,this.onVolumeChange=new Su,this.onImpression=new Su,this.onFirstQuartile=new Su,this.onMidpoint=new Su,this.onThirdQuartile=new Su,this.onComplete=new Su,this.onBeforeComplete=new Su,this.completeLatch=new qg((e=>{let{isInfinityPackshotEnabled:t}=e;this.trackVastEvent("complete",{}),this.onComplete.dispatch({isInfinityPackshotEnabled:t})})),this.onClickThrough=new Su,this.onAdInteraction=new Su,this.playingTimeCounter=new _A,this.shouldPlayTimeCounter=new _A,this.getAdParametersTrackingUrls=e=>{var t,i;return null==(t=this.mediaAd.vastAd.adParametersObject)||null==(i=t.trackingEvents)?void 0:i[e]},this.subscribeFullscreenForLogs=()=>{const{videoNodeController:e}=this.adDisplayController,t=v((()=>{this.stats.error({error:new Od({code:"VIDEOTAG_FULLSCREEN",details:void 0})})}));e.isFullscreen()?t():this.onBeforeComplete.addOne((()=>{e.isFullscreen()&&t()}))};const{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:n,enableInfinityPackshot:r,stats:o,ecomShopState:a}=e;this.userInteractionDispatchers=(e=>({AdClickThru:t=>{e.error({error:new Od({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:t})})},AdSkipped:()=>{e.error({error:new Od({code:"CALL_USER_INTERACTION_DISPATCHER_AD_SKIPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdStopped:()=>{e.error({error:new Od({code:"CALL_USER_INTERACTION_DISPATCHER_AD_STOPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdUserClose:()=>{e.error({error:new Od({code:"CALL_USER_INTERACTION_DISPATCHER_AD_USER_CLOSE_WITHOUT_AD_CREATIVE",details:void 0})})},AdVideoComplete:()=>{e.error({error:new Od({code:"CALL_USER_INTERACTION_DISPATCHER_AD_VIDEO_COMPLETE_WITHOUT_AD_CREATIVE",details:void 0})})},AdTimeToSkipChange:()=>{e.error({error:new Od({code:"CALL_USER_INTERACTION_DISPATCHER_AD_TIME_TO_SKIP_CHANGE_WITHOUT_AD_CREATIVE",details:void 0})})}}))(o),this.stats=o,this.ecomShopState=a;const s=qo(i.vastAd,i.adConfig);if(s){Uc("[OMSDK] Initializing OMSDKController with parameters: "+JSON.stringify(s));const e=new ay(this,s);this.addDestroyHandler((t=>{let{reason:i}=t;e.destroy({reason:i,isError:!1})})),this.omsdkController=e}this.addDestroyHandler((e=>{const i=Math.round(this.shouldPlayTimeCounter.getTime()),n=Math.round(this.playingTimeCounter.getTime()),r=Math.round(i-n),a=Math.round(this.bufferingTimeManager.getBufferingTime()*gA),s=Math.round(this.getDuration()*gA),l=Math.round(this.getAdRemainingTime()*gA),d=Math.round(s-l),c=Math.round(a/d*1e6),{droppedVideoFrames:u,corruptedVideoFrames:h,totalVideoFrames:p,droppedVideoFramesRatio:m}=Ie(this.adDisplayController.videoNode),A=t.getAdPlacementOptions(),{videoToDevicePixelRatio:v,videoPixelRatio:g}=A,_=Boolean(this.getVideoSlotClickUrl()),y=se(this.adDisplayController.slotParameters.window),{adBreakType:f,adFormatType:S}=A,{sentTrackings:T}=this;o.values({name:"ViewerDestroy",data:{destroyReason:e,adBreakType:f,adFormatType:S,wasViewerStarted:this.isStarted.getValue(),sentTrackings:T},values:{shouldPlayTime:i,playingTime:n,notPlayingTime:r,bufferingTime:a,duration:s,remainingTime:l,currentTime:d,bufferingTimeRatio:c,videoToDevicePixelRatio:v,videoPixelRatio:g,droppedVideoFrames:Math.round(u),corruptedVideoFrames:Math.round(h),totalVideoFrames:Math.round(p),droppedVideoFramesRatio:Math.round(1e6*m)},sensors:{videoSlotIsClickable:_,touchScreen:y,reason:e.reason},dailySensors:Ia({},ue(T,(e=>e>0)))}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)})),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=n,this.enableInfinityPackshot=null!=r&&r,this.isStarted.add((()=>{this.trackVastEvent("creativeView",{})})),this.onResume.add((()=>{this.trackVastEvent("resume",{})})),this.onPause.add((()=>{this.trackVastEvent("pause",{})})),this.packshotStartLatch.subscribe((()=>{this.trackVastEvent("packshotStart",{})}));let l=0===this.getVolume();this.onVolumeChange.add((()=>{const e=0===this.getVolume();l!==e&&(this.trackVastEvent(e?"mute":"unmute",{}),l=e)})),this.onImpression.addOne((()=>{this.trackVastEvent("impression",{})}));const d=new lf(i.vastAd.progressTrackings);this.playbackPosition.add((e=>{let{remainingTime:t,duration:i}=e;const n=d.getTrackingUrlsByPosition({duration:i,remainingTime:t});n.length&&la({eventName:"progress",trackingEventDetails:{},trackingUrls:n,options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"vast"})})),this.onFirstQuartile.add((()=>{this.trackVastEvent("firstQuartile",{})})),this.onMidpoint.add((()=>{this.trackVastEvent("midpoint",{})})),this.onThirdQuartile.add((()=>{this.trackVastEvent("thirdQuartile",{})})),this.bufferingTimeManager=new ag,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add((e=>{"play"===e?(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume()):(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause())}))})),this.isStarted.addOne((()=>{const e=(this.getDuration()+20)*gA;this.playingTimeCounter.addCallback(e,(()=>{o.event({name:"TooLongPlaying",data:{mediaFile:this.mediaAd.getJSMediaFile(),adFormatType:aa(this.mediaAd),adParameters:this.mediaAd.vastAd.adParametersObject}})})),this.playingTimeCounter.start(),this.onPause.add((()=>{this.playingTimeCounter.stop()})),this.onResume.add((()=>{this.playingTimeCounter.start()})),this.addDestroyHandler((()=>{this.playingTimeCounter.stop()}))})),this.isStarted.add((()=>{this.playingState.dispatch("play")})),this.onPause.add((()=>{this.playingState.dispatch("pause")})),this.onResume.add((()=>{this.playingState.dispatch("play")})),this.addDestroyHandler((()=>{this.playingState.dispatch("end")})),this.onBeforeComplete.add((()=>{this.trackVastEvent("beforeComplete",{})})),this.addDestroyHandler((e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackVastEvent(t,{})})),this.addDestroyHandler((()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()})),this.addDestroyHandler(Z({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne((()=>{this.subscribeFullscreenForLogs()}));const c=new Error,{vpaidTimeout:u}=n;this.shouldPlayTimeCounter.addCallback(u,(()=>{const e=this.getScriptSrc(),t=this.lifeCycleStage.getValue(),{videoNodeController:i}=this.adDisplayController,{videoNode:r}=i,a={adPodId:this.mediaAd.getAdPodId(),timeout:u,src:e,config:this.adDisplayController.playbackParameters,viewerPlaybackParams:n,liveCycleStage:t,videoNodeSrc:r.src,adMediaState:this.adDisplayController.adMediaState.getValue(),networkState:r.networkState,readyState:r.readyState};this.isDestroyed?o.error({error:new Od({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:a})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&o.error({error:new Od({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:a})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new Od(c,{code:fa({creativeLifeCycleStage:t,isYandexCreative:vf(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:a})}))})),this.completeLatch.subscribe((()=>{this.playingTimeCounter.stop()})),this.addDestroyHandler((()=>{this.onAdSkippableStateChange.removeAll()}))}startCreative(e){let{startStrategy:t}=e;this.isDestroyed&&this.stats.error({error:new Od({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})});const i="startPlaying"===t?"play":"pause";this.playingState.dispatch(i),this.creative?this.resume():this.prepareVpaidCreative({startStrategy:t}).catch((e=>{this.destroy({reason:"error",details:e})}))}getCurrentTime(){if(!this.creative)return 0;const e=this.creative.getAdRemainingTime()||0;return _e(e)?this.getDuration()-e:0}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return _e(e)?e<0?this.isStarted.getValue()?e:this.getDuration():e:this.isStarted.getValue()?-2:this.getDuration()}pause(){this.playingState.dispatch("pause"),this.creative&&(Uc("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),Uc("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(Uc("AdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():Qv}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return 0}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return 0}resizeAd(e,t,i){var n;void 0===i&&(i="normal"),null==(n=this.creative)||n.resizeAd(e,t,i)}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:.5;this.setVolume(e?0:i)}getVolume(){var e,t;return null!=(e=null==(t=this.creative)?void 0:t.getAdVolume())?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){if(!this.isDestroyed)if(this.creative){const t=this.getVolume()!==e&&!gf(this.mediaAd),{videoNode:i}=this.adDisplayController.videoNodeController,n=i.volume,r=i.muted;this.creative.setAdVolume(e);const o=i.volume,a=i.muted;!t||this.adCreativeWrapper||this.mediaAd.getIsIndependentOnVideoElement()||n!==o||r!==a||this.stats.event({name:"VpaidCreativeDidNotChangeVideoSlotVolume",data:this.getVPAIDLogDetails()})}else this.adDisplayController.videoNodeController.setVolume(e)}startAndPauseVpaidCreative(e){vf(this.getScriptSrc())&&(Uc("preload VPAID creative by start and pause"),this.startVpaidCreative(e),this.stats.event({name:"PreloadVPAIDCreativeByStartAndPause",data:{vpaidSrc:this.getScriptSrc()}}),Uc("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:n}=this.mediaAd,r=Ki(n),o=this.createContainerNode();let a;if(r){Uc("[AdPodViewer]: play creative as AdCreative"),a=o;const{creative:i,wrapper:n}=this.wrapAdCreative({creativeSlot:a});e=i,this.adCreativeWrapper=n,t=v((()=>{try{Uc("[AdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(MO){this.stats.error({error:new Od(MO,{code:"AD_CREATIVE_STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}))}else if(gf(this.mediaAd)){Uc("[AdPodViewer]: play creative via VASFrame"),a=o;const i=Bp({container:a,initTimeout:5e3});this.addDestroyHandler(i.abortInit);const n=await i.initPromise;if(this.isDestroyed)return void n.destroy(void 0);if(n.addDestroyHandler((()=>{this.destroy({reason:"error",details:new Od({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{adPodId:this.mediaAd.getAdPodId()}})})})),this.addDestroyHandler((()=>{n.destroy(void 0)})),this.isDestroyed)return;if(n.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await n.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const r=()=>hf.getVpaidAd(n),s=this.getStandardVpaidCreative(r);e=s.creative,t=v((()=>{Uc("[AdPodViewer]: call VPAID stopAd method"),s.stopAd()})),this.addDestroyHandler(t),n.changeFrameVisibility(!0)}else{Uc("[AdPodViewer]: play creative with Friendly Iframe");const i=wv.create({parentElement:o,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),n=i.iframe;rt(n,vp),a=n.contentDocument.body;const r=n.contentWindow;Xr(r)&&i_(),Kr(r)&&t_(r),Id(n_,(e=>{this.addDestroyHandler(Z({element:a,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))})),this.addDestroyHandler((()=>{i.destroy(void 0)})),i.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}));const s=await this.loadVpaidMediaFile(r);if(this.isDestroyed)return;const l=this.getStandardVpaidCreative(s);e=l.creative,t=l.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne((()=>{Uc("[AdPodViewer]: call stopAd in onBeforeDestroy callback"),t()})),this.stats.values({name:"VpaidCreativeLoaded",data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i}}),this.isDestroyed)throw new Od({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{adDisplayController:s}=this,{videoNodeController:l,playbackParameters:d}=s,{clientWidth:c,clientHeight:u}=l.videoNode,h=this.getDesiredBitrate(),p={AdParameters:this.getAdParameters()},m=s.autoplayAbilityResult.getValue();let A;A=void 0!==m&&(l.videoNode.muted?"restricted"!==m.autoplayAbility:"allowed"===m.autoplayAbility);const g={slot:a,videoSlot:l.videoNode,videoSlotCanAutoPlay:A,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:d.lang,controlsSettings:{controlsVisibility:sm},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},_=ha({creative:e,isYandexCreative:vf(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(_,a.ownerDocument.defaultView);const y=Date.now();return await new Promise(((i,n)=>{_.subscribe((()=>{Uc("VPAID dispatched AdLoaded event"),i(_)}),"AdLoaded"),_.subscribe((e=>{Uc("VPAID dispatched AdError event"),n(this.parseVpaidError(e,"VPAIDLoadingError"))}),"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(c,u,"normal",h,p,g)}catch(MO){throw Uc("[AdPodViewer]: creative.initAd() error, call stopAd"),t(),new Od(MO,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}})),this.stats.values({name:"VpaidCreativeInitialized",data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-y}}),_}wrapAdCreative(e){let{creativeSlot:t}=e;const i=this.getAdParameters(),{adParametersObject:n}=this.mediaAd.vastAd,{parsed:{videoMediaFiles:r,animationMediaFile:o,adParameters:a},errors:s}=sn(null!=n?n:i);let l;if("survey"===this.adDisplayController.getAdPlacementOptions().adFormatType&&this.mediaAd.vastAd.surveyParameters){const{disableSurveyCompleteScreen:e,disableSurveyStartTimeout:t}=this.adDisplayController.playbackParameters;l=Ia({},this.mediaAd.vastAd.surveyParameters,{disableSurveyCompleteScreen:void 0!==e&&e,disableSurveyStartTimeout:void 0!==t&&t})}ei(s);const{playbackParameters:d,videoContentSize:c,slotParameters:u,videoNodeController:p}=this.adDisplayController,{videoTimeout:m,bufferFullTimeout:A,bufferEmptyLimit:v}=this.adPodViewerPlaybackParams,g=r.length>0&&!Ji(this.mediaAd.vastAd)&&!qi(this.mediaAd.vastAd),_=this.mediaAd.getIsConvertedFromVideoVast();let y,S,T;if(g){let e=this.mediaAd.getPreloadedVideoFile();const{adBreak:t}=this.mediaAd,i=this.mediaAd.getAdPodId(),n=Ia({container:u.size.getValue(),desiredBitrate:this.getDesiredBitrate(),isVideoADB:h(uu(u.window))},YA);e||(e=Mn(r,n,{adBreak:t,adPodId:i,initiator:"AdPodViewer"}).prioritisedMediaFile);const o=_?1===r.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE":"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE";if(!e)throw new Od({code:o,details:{mediaFiles:r,adPodId:this.mediaAd.getAdPodId(),mediaFilePriorityOptions:n}});if(function(e){const{win:t,videoType:i,videoCodec:n,width:r,height:o,bitrate:a}=e;if(xc.VAS_USER_SESSION_RANDOM>ru)return;if(!n||!a)return;if(!f(i)||!Pn(n)&&!wn(n))return;const s=t.navigator;if(!s.mediaCapabilities)return;const l={type:"file",video:{contentType:i+";codecs="+n,width:r,height:o,bitrate:a,framerate:25}};s.mediaCapabilities.decodingInfo(l).then((e=>{Cu.values({name:"MediaCapabilitiesCheck",data:{config:l,result:e},probability:1})})).catch((e=>{Cu.error({error:new Od({code:"MEDIA_CAPABILITIES_CHECK_ERROR",details:{config:l,error:e}})})}))}({win:u.window,videoType:e.type,videoCodec:Cn(e.codec),width:e.width,height:e.height,bitrate:e.bitrate}),g){const{firstFrameImages:t}=this.mediaAd.vastAd,i=this.mediaAd.getPreloadedFirstFramePicture(),n=null!=i?i:Sn(t,e);void 0!==n&&(S={posterImage:n,isPreloaded:void 0!==i})}y={videoContentSize:c,videoMediaFile:Ia({},e,{url:qm(e.url)}),videoMediaFiles:r,videoTimeout:m,bufferFullTimeout:A,bufferEmptyLimit:v,durationFallback:()=>this.mediaAd.getDuration(),getStartStrategy:()=>"play"===this.playingState.getValue()?"startPlaying":"warmupOnly",onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}T=o&&"InteractiveElementsAdCreative"===Wh[o.url]?"IV":"AD_CREATIVE_FRIENDLY_IFRAME";let E,b=t.ownerDocument.defaultView;if(o){E={animationMediaFile:o,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:a,surveyAdCreativeParameters:l};const e=wv.createHidden({parentElement:t,scope:T,provideLogDetails:this.getVPAIDLogDetails});b=e.window,this.addDestroyHandler((()=>{e.destroy(void 0)})),e.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}))}let C=this.adPodViewerPlaybackParams.packshotParameters;var w;!1===this.adPodViewerPlaybackParams.packshotSettings.isEnabled?C=void 0:C=null!=(w=C)?w:this.getAutogeneratedPackshotParameters(g);const P=this.getVideoSlotClickUrl(),O=this.mediaAd.getIsConvertedFromVideoVast();this.isInfinityPackshotEnabled=this.enableInfinityPackshot&&(!g||void 0!==C),this.enableInfinityPackshot&&this.stats.values({name:"InfinityPackshotEnabled",sensors:{isPossible:this.isInfinityPackshotEnabled}});const I=b,k={AdClickThru:e=>{this.stats.event({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e}}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)},AdSkipped:()=>{this.userInteractionDispatchers.AdSkipped(),this.destroy({reason:"skip",details:void 0})},AdStopped:()=>{var e,t;this.userInteractionDispatchers.AdStopped();const i=this.completeLatch.getValue();this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==i?void 0:i.canUseMediaAfterPlayback)&&e,isInfinityPackshotEnabled:null!=(t=null==i?void 0:i.isInfinityPackshotEnabled)&&t}})},AdUserClose:()=>{this.userInteractionDispatchers.AdUserClose(),this.destroy({reason:"close",details:void 0})},AdTimeToSkipChange:e=>{this.adDisplayController.timeToSkipAdCreative.dispatch(e)},AdVideoComplete:()=>{this.userInteractionDispatchers.AdVideoComplete(),Uc("VPAID dispatched AdVideoComplete event"),this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled})}},{creative:D,wrapper:N,userInteractionDispatchers:R}=Gr({adCreativeWindow:I,slot:t,slotsParameters:{visibilitySlotParameters:this.adDisplayController.visibilitySlotParameters},animationParameters:E,videoParameters:y,firstFrameParameters:S,videoNodeController:p,slotSize:u.size,clickThroughUrl:P,intrinsicAdCreativeType:O?"video":"vpaid",getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:this.getCreativePackshotParameters({win:I,slot:t,packshotParameters:C,packshotSettings:this.adPodViewerPlaybackParams.packshotSettings,slotSize:u.size,videoNodeController:p,adCreativeUserInteractionCallbacks:k,themeEmptyParameters:Ta(this.mediaAd.vastAd)}),lang:d.lang,adCreativeUserInteractionCallbacks:k,verifyLogAdditionalData:jo(this.mediaAd.vastAd),shouldHideSkipButton:!1===this.adDisplayController.playbackParameters.controlsSettings.controlsVisibility.skip,playerEnvironment:this.adDisplayController.playerEnvironment,destroyAfterComplete:!this.isInfinityPackshotEnabled});return this.userInteractionDispatchers=R,{creative:D,wrapper:N}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null==(e=t.adParametersObject)?void 0:e.theme;iA(t)&&Ze(i)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=vf(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(Hn(e,((e,i,n)=>{this.stats.error({error:Un({scope:t,errorType:i,error:e,details:Ia({},this.getVPAIDLogDetails(),{error:e,data:n})})})})));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(Cv(e,(()=>{this.destroy({reason:"error",details:new Od({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:{adPodId:this.mediaAd.getAdPodId()}})})}))),t;this.stats.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t},probability:1})}try{const{promise:t,teardown:i}=bA({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(MO){throw new Od(MO,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:{adPodId:this.mediaAd.getAdPodId()}})}}getStandardVpaidCreative(e){const t=vf(this.getScriptSrc());if("function"!==typeof e)throw new Od({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:Ia({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(MO){throw new Od(MO,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const n=v((()=>{Uc("[AdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(MO){this.stats.error({error:new Od(MO,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}));if(!(e=>d(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe)(i))throw new Od({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const r=i.handshakeVersion(df);if(!(e=>{let{versionSupported:t,versionToCheck:i}=e;const n=jc(t.split("."),(e=>parseInt(e,10))),r=jc(i.split("."),(e=>parseInt(e,10)));for(let o=0;o<r.length;o++){const e=r[o],t=n[o],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0})({versionSupported:df,versionToCheck:r}))throw Uc("[AdPodViewer]: vpaid version is NOT supported, call stopAd method"),n(),new Od({code:"VPAID_VERSION_ERROR",details:Ia({},this.getVPAIDLogDetails(),{playerSupportedVersion:df,creativeVersion:r})});return{creative:i,stopAd:n}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}setUpdatePositionInterval(e){const t=e.setInterval(this.updatePosition,250),i=()=>{h(e.clearInterval)&&e.clearInterval(t)};return this.addDestroyHandler((()=>{i()})),()=>{i()}}subscribeCreativeEvents(e,t){e.subscribe((()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==(t=this.completeLatch.getValue())?void 0:t.canUseMediaAfterPlayback)&&e,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled}})}),"AdStopped"),e.subscribe(((e,t,i)=>{this.clickThrough({url:e,clickSource:"VpaidAdClickThruEvent",playerHandles:Boolean(i)})}),"AdClickThru"),e.subscribe((()=>{this.updateAdSkippableState()}),"AdSkippableStateChange");const i=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};let n;e.subscribe((()=>{Uc("VPAID dispatched AdDurationChange event"),i()}),"AdDurationChange"),e.subscribe((()=>{this.creativeAdStartedCallback(),i(),h(n)&&n(),n=this.setUpdatePositionInterval(t)}),"AdStarted"),e.subscribe((()=>{Uc("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.updatePosition(),h(n)&&n(),n=this.setUpdatePositionInterval(t),this.onResume.dispatch(void 0)}),"AdPlaying"),e.subscribe((()=>{Uc("VPAID dispatched AdPaused event"),this.updatePosition(),h(n)&&n(),this.onPause.dispatch(void 0)}),"AdPaused"),e.subscribe((()=>{this.trackStartEvent()}),"AdVideoStart"),e.subscribe((()=>{this.onImpression.dispatch(void 0)}),"AdImpression"),e.subscribe((()=>{this.onFirstQuartile.dispatch(void 0)}),"AdVideoFirstQuartile"),e.subscribe((()=>{this.onMidpoint.dispatch(void 0)}),"AdVideoMidpoint"),e.subscribe((()=>{this.onThirdQuartile.dispatch(void 0)}),"AdVideoThirdQuartile");const r=v((()=>this.onBeforeComplete.dispatch(void 0)));e.subscribe((()=>{r()}),"AdVideoBeforeComplete"),e.subscribe((()=>{this.onVolumeChange.dispatch(void 0)}),"AdVolumeChange"),e.subscribe((()=>{this.destroy({reason:"skip",details:void 0})}),"AdSkipped");const o=v((()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled})}));e.subscribe((()=>{Uc("VPAID dispatched AdVideoComplete event"),o()}),"AdVideoComplete"),e.subscribe((()=>{this.destroy({reason:"close",details:void 0})}),"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();if("string"===typeof e){const n=((e,t,i)=>{const n=yd(Vf,(e=>{let[,i]=e;return-1!==t.indexOf(i)}));if(!n)return;if(-1===e.indexOf("no active campaigns"))return;const[r]=n;return new Od({code:"EXTERNAL_VPAID_NO_AD_"+r,details:Ea({},i,{error:e})})})(e,this.getCurrentSource().url,this.getVPAIDLogDetails());return n||new Od({code:t,message:"String error from vpaid ["+e+"]",details:i})}return ae(e)?e:e?new Od(e,{code:t,details:i}):new Od({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}getAutogeneratedPackshotParameters(e){var t;if(!this.enableInfinityPackshot)return;const i=null!=(t=Eu.getNumberFlagValueAndActivateTestId("VAS_AUTOGENERATED_PACKSHOT_DURATION"))?t:3;if(!i||!e)return;const{vastAd:n}=this.mediaAd,{slotParameters:r}=this.adDisplayController,o=_a(n,r.size.getValue()),a=this.adPodViewerPlaybackParams.clickThroughUrl||n.clickUrlData.serializablePlaybackParametersClickUrl;if(!f(a))return void this.stats.event({name:"AutogeneratedPackshot_NoClickThroughLink",data:{}});const{title:s}=He(this.mediaAd.vastAd.adParametersObject);return{packshotImageUrl:o,packshotActionButtonClickUrl:a,packshotDuration:i,packshotTitle:s,packshotButtonText:void 0}}get contentType(){return this.mediaAd.contentType}trackOnCreativeInit(){this.trackVastEvent("onCreativeInit",{})}trackVastEvent(e,t){var i;const n=null!=(i=this.mediaAd.vastAd.trackingEvents[e])?i:[];e in this.sentTrackings||(this.sentTrackings[e]=0),this.sentTrackings[e]+=1,la({eventName:e,options:this.adDisplayController.getAdPlacementOptions(),trackingEventDetails:t,trackingUrls:n,pixelsSource:"vast"})}trackStartEvent(){this.isCreativeStartRequested.getValue()||this.stats.error({error:new Od({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=Du),this.trackVastEvent("start",{values:{timeToStart:e}})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;const{playerHandles:i,clickSource:n}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let o;this.isDestroyed&&this.stats.error({error:new Od({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),e.url?o=e.url:r&&(this.stats.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r,adPodId:this.mediaAd.getAdPodId()},probability:1}),o=r);Tg(this.adDisplayController.videoNode)<=.1&&this.stats.event({name:"ClickOnTinyBufferedTime",data:void 0,probability:1});const{pauseOnClickThrough:a,clickThroughConfirmation:s,clickThroughCallback:l}=this.adDisplayController.playbackParameters,d=Boolean(l||o);if(!d||!i)return this.trackVastEvent("clickThrough",{dailySensors:{clickSource:n}}),void this.stats.event({name:"PhantomClickThrough",data:{canHandleClickThrough:d,playerHandles:i,hasClickThroughCallback:Boolean(l),clickThroughUrl:o,clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}});o&&(o=Ne({url:Oa(o),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const c=v((function(i){void 0===i&&(i=!1);const r=Date.now(),s=t.adDisplayController.getPaused(),d=a&&!s&&!t.completeLatch.getValue();if(d&&t.pause(),i){const e=ca(window.document,(i=>{var n;if(!i)return;d&&t.resume();const o=Date.now()-r;la({eventName:"returnAfterClickThrough",trackingEventDetails:{values:{timeSpentBeforeReturn:o}},trackingUrls:null!=(n=t.getAdParametersTrackingUrls("returnAfterClickThrough"))?n:[],options:t.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"});const a=(e=>{switch(!0){case e<=Number(gA):return"ReturnBackAfterClickThroughIn1Sec";case e<=2e3:return"ReturnBackAfterClickThroughIn2Sec";case e<=1e4:return"ReturnBackAfterClickThroughIn10Sec";case e<=6e4:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}})(o);t.stats.event({name:a,data:{timeSpentBeforeReturn:o,adPodId:t.mediaAd.getAdPodId()},probability:1}),e()}));t.addDestroyHandler(e)}t.trackVastEvent("clickThrough",{dailySensors:{clickSource:n}}),t.onClickThrough.dispatch({adWasPaused:Boolean(a)}),l&&t.stats.event({name:"ClickThroughCallbackHandle",data:{clickThroughParams:e,url:o,pauseOnClickThrough:a,adPodId:t.mediaAd.getAdPodId()}})}));if(l){s||c();const t=this.isDestroyed;l({url:o,onHandle:c}),!t&&this.isDestroyed&&this.stats.error({error:new Od({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),this.stats.event({name:"ClickThroughCallbackCall",data:{clickThroughParams:e,url:o,pauseOnClickThrough:a,adPodId:this.mediaAd.getAdPodId()}})}else{null!==window.open(o,"_blank")&&c(!0)}}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isAdaptive())return lA;const e={width:this.getAdWidth(),height:this.getAdHeight()};return 0!==e.height&&0!==e.width?e:void 0}getVideoSlotClickUrl(){const{mediaAd:e}=this;if("video"===e.contentType)return this.adPodViewerPlaybackParams.clickThroughUrl;const{vastAd:t}=e,i=t.clickUrlData.serializablePlaybackParametersClickUrl;return i||void 0}getDesiredBitrate(){const{desiredBitrate:e=rm}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}trackHoneypotShowEvent(){var e;la({eventName:"showHp",trackingEventDetails:{},trackingUrls:null!=(e=this.getAdParametersTrackingUrls("showHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}trackHoneypotClickEvent(){var e;la({eventName:"clickHp",trackingEventDetails:{},trackingUrls:null!=(e=this.getAdParametersTrackingUrls("clickHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}isHoneypotEnabledForCurrentCreative(){return"TRUE"!==Eu.getFlagValueAndActivateTestId("VAS_DISABLE_HONEYPOT")&&!!xc.hardcodedParams.adsdkhoneypotforced}areHoneypotTrackingUrlsDefined(){return Boolean(this.getAdParametersTrackingUrls("showHp")&&this.getAdParametersTrackingUrls("clickHp"))}getCreativePackshotParameters(e){let{win:t,slot:i,packshotParameters:n,packshotSettings:r,slotSize:o,videoNodeController:a,adCreativeUserInteractionCallbacks:s,themeEmptyParameters:l}=e;const d=()=>{this.packshotStartLatch.dispatch(void 0)};if(this.isHoneypotEnabledForCurrentCreative())return{type:"honeypot",renderLayoutComponent:()=>{this.trackHoneypotShowEvent(),this.stats.event({name:"AdCreativeWrapperHoneypotRender",data:void 0,probability:1}),d();const e=new X_({win:t,parent:i,parentSize:o,videoNodeController:a,onClick:()=>{Uc("Honeypot clicked"),this.trackHoneypotClickEvent(),this.stats.event({name:"AdCreativeWrapperHoneypotContinueClicked",data:void 0,probability:1}),e.destroy({reason:"complete",details:void 0})},buttonText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"});return e}};const c=this.adDisplayController.playbackParameters.lang,u=this.ecomShopState.getValue();if(void 0!==u.ecomShop){var h;const e=u.ecomShop,c=null!=(h=Eu.getNumberFlagValueAndActivateTestId("VAS_ECOM_PRODUCTS_PACKSHOT_DURATION"))?h:5,{title:p}=He(this.mediaAd.vastAd.adParametersObject);return{type:"ecom-packshot",renderLayoutComponent:()=>{var u;d();const h=new Xf({win:t,parent:i,parentSize:o,videoNodeController:a,duration:c,destroyAfterComplete:!this.enableInfinityPackshot,openClickThroughUrl:e=>{s.AdClickThru({url:e,clickSource:"EcomProductsCarousel",playerHandles:!0})},ecomShop:e,themeEmptyParameters:l,disableOverlay:Boolean(r.disableOverlay),disableTitle:Boolean(r.disableTitle),disableButton:Boolean(r.disableButton),title:null!=(u=null==n?void 0:n.packshotTitle)?u:p});return h.addDestroyHandler(this.ecomShopState.add((e=>{h.setProductsVisibility(e.isVisible)}))),this.ecomShopState.dispatch(Ia({},this.ecomShopState.getValue(),{isVisible:!0})),h.show(),h}}}if(void 0===n)return;const p=null!=l?l:{ageRestriction:void 0,body:void 0,clickUrl:n.packshotActionButtonClickUrl,greenUrl:void 0,label:n.packshotButtonText||Ch("LEARN_MORE",c),title:void 0,targetUrl:n.packshotActionButtonClickUrl};return Ia({},n,{type:"packshot",renderLayoutComponent:()=>{d();const e=new nf({win:t,parent:i,parentSize:o,packshotNewDesignMode:"ONLY_ELEMENTS_CLICKABLE",videoNodeController:a,lang:c,destroyAfterComplete:!this.enableInfinityPackshot,title:n.packshotTitle,imageUrl:n.packshotImageUrl,duration:n.packshotDuration,clickUrl:n.packshotActionButtonClickUrl,openClickThroughUrl:e=>{let{clickSource:t}=e;s.AdClickThru({url:n.packshotActionButtonClickUrl,playerHandles:!0,clickSource:t})},themeEmptyParameters:p,descriptionText:void 0,disableOverlay:Boolean(r.disableOverlay),disableTitle:Boolean(r.disableTitle),disableButton:Boolean(r.disableButton),timeToSkip:this.adDisplayController.timeToSkip,controlsVisibility:this.adDisplayController.combinedSkinControlsVisibility});return e.show(),e}})}}const Jf=am,Zf=1e4,Qf=1e4,$f={bufferEmptyLimit:5,bufferFullTimeout:5e3,videoTimeout:5e3,vpaidTimeout:5e3},eS=["3000","4000","5000","6000","7000"],tS=["2","3","4","5","6"],iS=La("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",tS),nS=La("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",eS),rS=La("TIMEOUT_NON_PREROLL_MULTIROLL_VIDEO_TIMEOUT",eS),oS=La("TIMEOUT_NON_PREROLL_MULTIROLL_VPAID_TIMEOUT",eS),aS=La("TIMEOUT_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",tS),sS=La("TIMEOUT_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",eS),lS=La("TIMEOUT_PREROLL_MULTIROLL_VIDEO_TIMEOUT",eS),dS=La("TIMEOUT_PREROLL_MULTIROLL_VPAID_TIMEOUT",eS),cS={preroll:Lt({bufferEmptyLimit:parseInt(null!=aS?aS:"",10),bufferFullTimeout:parseInt(null!=sS?sS:"",10),videoTimeout:parseInt(null!=lS?lS:"",10),vpaidTimeout:parseInt(null!=dS?dS:"",10)},(e=>Pe(e))),non_preroll:Lt({bufferEmptyLimit:parseInt(null!=iS?iS:"",10),bufferFullTimeout:parseInt(null!=nS?nS:"",10),videoTimeout:parseInt(null!=rS?rS:"",10),vpaidTimeout:parseInt(null!=oS?oS:"",10)},(e=>Pe(e)))},uS=450,hS=!(ja(window)>=15),pS=qr(window),mS=pS.requestAnimationFrame,AS=pS.cancelAnimationFrame;class vS extends yu{constructor(e){var t,i;super(),this.isPlaying=new sp(!1),this.framesInterval=100,this.slowFramesCounter=0,this.slowDevice=!1,this.repaintTimeoutId=0,this.rafId=0,this.repaint=()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=.3;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const n=fr(this.params.videoNode);if(!n)return void this.setRepaintTimeout();const{clientWidth:r,clientHeight:o}=this.params.container,a=r/o,s=n.width/n.height,l=s-a;this.prepareBlurCanvas(s,l),this.setVisibility(!0);const{context:d}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=2;d.drawImage(c,0,0,n.width,n.height,0,0,e,e),d.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else d.drawImage(c,0,0,n.width,n.height,0,0,u,h);d.globalAlpha=.1,this.handleSlowDevices(),this.setRepaintTimeout()},this.params=e,this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),t=this.params.container,i=this.blurWrapper,t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),this.appendStyles(),this.isPlaying.add((e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))})),this.addDestroyHandler((()=>{this.setPlaying(!1),m(this.blurWrapper)}))}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[1.6,Math.max(e,1.6)];t&&i.reverse(),this.slowDevice||uy(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){uy(this.canvas,{opacity:e})}simplifyBlur(){const{clientWidth:e,clientHeight:t}=this.params.container;this.setCanvasSize(e+10,t+10);const i="-5px";uy(this.canvas,{left:i,top:i,transform:"",filter:"blur(5px)",width:100*(1+10/e)+"%",height:100*(1+10/t)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=u(this.params.videoNode).position;-1===["fixed","absolute"].indexOf(t)&&(e["z-index"]="-1"),uy(this.blurWrapper,e),uy(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX(1.2) scaleY(1.2)",filter:"blur(50px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout((()=>this.rafId=mS(this.repaint)),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),AS(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>1.8*this.framesInterval?(this.slowFramesCounter++,this.slowFramesCounter>=3&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:n}=this.params,r=t<0,o=r?n.offsetHeight*e:n.offsetWidth/e,a=r?o:n.offsetWidth,s=r?n.offsetHeight:o,l=(r?i.offsetWidth:i.offsetHeight)/o*.8;this.setCanvasSize(a,s),this.appendBlurScale(.8*l,r)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}var gS;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(gS||(gS={}));const _S=new Map,yS=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class fS{constructor(e){const{cues:t}=Ka(e);this.cues=t.sort(((e,t)=>e.start-t.start))}findCuesByCurrentTime(e){return fu(this.cues,(t=>this.isCueApplicable(t,e)))}isCueApplicable(e,t){const{start:i,end:n}=e;return t>=i&&t<=n}}const SS=e=>{const t=Wa(e,{crossorigin:null,loop:null,preload:"auto",autoplay:null}),i=ar(e,{objectFit:""});return v((()=>{t(),i()}))};let TS=function(e,t,i){e.attachEvent("on"+t,i)},ES=function(e,t,i){e.detachEvent("on"+t,i)};I(document,"addEventListener")&&I(document,"removeEventListener")&&(TS=function(e,t,i,n){const r=e&&I(e,"addEventListener");r&&r.call(e,t,i,n)},ES=function(e,t,i,n){const r=e&&I(e,"removeEventListener");r&&r.call(e,t,i,n)});let bS=!1,CS=!1,wS=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>bS=!0}),Object.defineProperty(t,"passive",{get:()=>CS=!0}),Object.defineProperty(t,"capture",{get:()=>wS=!0}),TS(e,"click",ne,t)}}catch(MO){}const PS=15,OS=1e3,IS="Fullscreen is not supported";class kS{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new Su,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=_r(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&za(e)&&(this.onDestroy.addOne(Z({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(Z({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=gr(e,t),this.names&&(this.onDestroy.addOne(Z({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(IS);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(IS);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(IS);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=fu(this.handlers,(t=>t!==e))}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,Id(this.handlers,(t=>t(e)))}}class DS{constructor(e){this.violatedSources=[],this.securityPolicyViolationCallback=e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:n}=e;if("media-src"!==i)return;const r={blockedURI:t,violatedDirective:i,originalPolicy:n};this.violatedSources.push(r)},this.unsubscribeEvent=Z({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return yd(this.violatedSources,(t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)}))}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const NS=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class RS extends yu{constructor(e){super(),this.params=e,this.mediaSource=new e.MediaSourceConstructor,Uc("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.init().then((()=>{Uc("MSEController: MSE successfully attached"),Cu.event({name:"MSEControllerAttachSuccess",data:{}})})).catch((e=>{Uc("MSEController: init error"),"AbortError"===e.name?Cu.event({name:"MSEControllerFetchWasAborted",data:{message:e.message}}):Cu.error({error:new Od(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})}))}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler((()=>{if(e.signal.aborted)return Uc("MSEController#reader: abort controller was already aborted"),void Cu.error({error:new Od({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});Uc("MSEController#reader: abort controller"),e.abort()}));const t=await fetch(this.params.mediaFile.url,{signal:e.signal});if(!t.body)throw new Od({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler((()=>{Uc("MSEController#reader: cancel reader"),pa(i.cancel())})),Uc("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise((e=>Z({element:this.mediaSource,eventName:"sourceopen",listener:e})));const{mediaFile:e}=this.params,{type:t,codec:i}=e;let n;t&&i?n=JA({type:t,codec:i}):(Cu.event({name:"MSEControllerSourceBufferUsesDefaultWebmContentType",data:{mediaFile:e}}),n='video/webm; codecs="vorbis,vp8"');const r=this.mediaSource.addSourceBuffer(n);return Z({element:r,eventName:"error",listener:this.ignoreAfterDestroy((e=>{Uc("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new Od(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))}))}),this.addDestroyHandler((()=>{"open"===this.mediaSource.readyState&&(Uc("MSEController#abort source buffer"),Cu.event({name:"MSEControllerSourceBufferAbortOnDestroy",data:{}}),r.abort())})),Uc("MSEController: got source buffer"),r}async doReadCycle(e,t){Uc("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+NS);let i=await e.read(),n=new Uint8Array;do{for(;t.updating;)await new Promise((e=>Z({element:t,eventName:"updateend",listener:e})));if(!i.value)break;if(this.isDestroyed)return;if(NS){const e=new Uint8Array(n.length+i.value.length);e.set(n),e.set(i.value,n.length),n=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise((e=>Z({element:t,eventName:"updateend",listener:e})));i=await e.read()}while(i.value);for(NS&&(Uc("MSEController: buffer read complete, length=["+n.length+"]"),t.appendBuffer(n));t.updating;)await new Promise((e=>Z({element:t,eventName:"updateend",listener:e})));Uc("MSEController: read cycle complete")}async finalize(e){for(Uc("MSEController#close streams");e.updating;)await new Promise((t=>Z({element:e,eventName:"updateend",listener:t})));"open"===this.mediaSource.readyState?(Uc("MSEController#finalize: close stream"),this.mediaSource.endOfStream(),this.destroy(void 0)):Uc("MSEController#finalize: media source is closed")}}const VS=Math.ceil(8),LS=dd;class BS extends yu{constructor(e,t){super(),this.onClick=new Su,this.currentPosition=new sp({currentTime:0,duration:0},oa),this.onError=new Su,this.onEnd=new Su,this.onVolumeChange=new Su,this.onPlay=new Su,this.onPlayAfterPause=new Su,this.onBufferingAfterPlay=new Su,this.isBuffering=new sp(!1),this.onPlaying=new Su,this.onCanPlay=new Su,this.onLoadedData=new Su,this.pauseRequest=new sp(-1),this.videoNode=e;const i=this.videoNode.paused?"pause":"play";this.playingState=new sp(i),this.win=jr(e)?e.ownerDocument.defaultView:t,this.fullscreenApi=new kS(this.win,e),this.cspErrorHandler=new DS(this.win);let n=this.playingState.getValue();this.playingState.add((e=>{const{currentTime:t,duration:i,paused:r,ended:o}=this.videoNode;switch(Uc("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:n,nextPlayingState:e,currentTime:t,duration:i,paused:r,ended:o})+"]"),e){case"play":"pause"===n&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case"end":this.onEnd.dispatch(void 0);break;case"buffering":"play"===n&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch("buffering"===e),n=e}));const r={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new Od({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&Cu.error({error:e})};let n=t();if(!n){n=this.getVideoNodeError();const{promise:e,clear:t}=Nh(1e3,this.win);this.addDestroyHandler((()=>{t(),i()})),e.then(i).catch($)}this.onError.dispatch(n)},play:()=>{this.playingState.dispatch("play")},playing:()=>{this.currentPosition.dispatch(this.getCurrentPosition()),this.onPlaying.dispatch(void 0),this.playingState.dispatch("play")}};this.subscribeClick(),this.subscribeUpdatePositionInterval(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange(),this.subscribeLoadedData();for(const o in r)r.hasOwnProperty(o)&&e.addEventListener(o,r[o]);this.addDestroyHandler((()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.cspErrorHandler.destroy(),this.onCanPlay.removeAll()}))}play(){Uc("VideoNodeController.play");const e=this.videoNode.play();ch(e)&&e.catch((e=>{this.shouldIgnorePlayRejection(e)||Cu.error({error:new Od(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})}))}pause(){Uc("VideoNodeController.pause"),this.pauseRequest.dispatch(this.win.Date.now()),this.currentPosition.dispatch(this.getCurrentPosition()),this.videoNode.pause(),"end"!==this.playingState.getValue()&&this.playingState.dispatch("pause")}setSrc(e){const t=this.prepareSrcUrl(e),{videoNode:i}=this;let n;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const r=uu(this.win);n=!(!h(r)||void 0!==Nn(e)),Uc("VideoNodeController.setSrc shouldPlayWithMSE=["+n+"] url=["+t+"]"),Qa(i,(()=>{if(!n)return i.src=t,void i.load();const r=(e=>{if(!av||!tv)throw new Od({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new RS(ns({},e,{MediaSourceConstructor:tv}))})({mediaFile:e,videoSlot:i});this.activeMSEController=r,r.addDestroyHandler(this.ignoreAfterDestroy((e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)}))),this.addDestroyHandler((()=>{r.destroy(void 0)}))}))}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentPosition(){return is(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return _r(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){Qa(e,(()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:.5;e.volume=t}}))}(this.videoNode,e)}getVolume(){return rs(this.videoNode)}setVolume(e){!function(e,t){Qa(e,(()=>{e.volume=t,e.muted=0===t}))}(this.videoNode,e)}setLoop(e){this.videoNode.loop=e}getLoop(){return this.videoNode.loop}prepareSrcUrl(e){const{url:t}=e;return Rn(e.type)?L(e.url,{video_height:String(this.getHeight()),video_width:String(this.getWidth())}):t}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:n,duration:r,error:o,networkState:a,readyState:s}=e,l=o&&o.code,d={code:l,message:o&&o.message||"",src:t,currentSrc:i,currentTime:n,duration:r,networkState:a,readyState:s,selectedMediaFile:void 0,mediaFiles:void 0};if(!o||"undefined"===typeof MediaError)return new Od({code:"VIDEO_ERROR",details:d});switch(l){case MediaError.MEDIA_ERR_ABORTED:return new Od({code:"MEDIA_ERR_ABORTED",details:d});case MediaError.MEDIA_ERR_NETWORK:return new Od({code:"MEDIA_ERR_NETWORK",details:d});case MediaError.MEDIA_ERR_DECODE:return new Od({code:n>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:d});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return _e(a)&&_e(s)&&s===e.HAVE_NOTHING&&a===e.NETWORK_NO_SOURCE?new Od({code:"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL",details:d}):new Od({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:d});default:return new Od({code:"MEDIA_ERROR_UNRECOGNIZED",details:d})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=ja(this.win)>=11?ts(this.videoNode,e):Z({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeUpdatePositionInterval(){let e;const{videoNode:t}=this,i=()=>{this.currentPosition.dispatch(this.getCurrentPosition());const{currentTime:e,duration:t}=this.getCurrentPosition();Uc("[VideoNodeController]: updated position [currentTime = ["+e+"], duration = ["+t+"]]")},n=Z({element:t,eventName:"playing",listener:()=>{this.win.clearInterval(e),e=this.win.setInterval(i,250)},options:{passive:!0}}),r=Z({element:t,eventName:"pause",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),o=Z({element:t,eventName:"ended",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),a=Z({element:t,eventName:"canplay",listener:()=>{this.onCanPlay.dispatch(void 0)}});this.addDestroyHandler(n),this.addDestroyHandler(r),this.addDestroyHandler(o),this.addDestroyHandler(a),this.addDestroyHandler((()=>{this.win.clearInterval(e)}))}subscribePause(){const{videoNode:e}=this,t=Z({element:e,eventName:"pause",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e>=t||this.playingState.dispatch("pause")},options:{passive:!0}}),i=zn((()=>{const{paused:t,ended:i}=e;if("play"===this.playingState.getValue()&&t&&!i){const{currentTime:t,duration:i}=e;Uc("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),Cu.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch("pause")}}));this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Z({element:this.videoNode,eventName:"ended",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e+.25>=t?this.playingState.dispatch("end"):Uc("video ended ignored with currentTime=["+e+"] duration=["+t+"]")},options:{passive:!0}});let t=0,i=NaN;const n=zn((()=>{const{currentTime:e,duration:n}=this.getCurrentPosition(),{paused:r}=this.videoNode,o=this.playingState.getValue();if(n>0&&e>=n)return void("end"!==o&&(Cu.event({name:"DetectVideoEndByCurrentTime",data:void 0}),this.playingState.dispatch("end")));const a=!r&&n>0&&e===i&&n-e<1&&"play"===this.playingState.getValue();i=e,a?t>=VS?(t=0,"end"!==o&&(Cu.event({name:"DetectVideoEndByStalledOffset",data:void 0,probability:1}),this.playingState.dispatch("end"))):t++:t=0}));this.addDestroyHandler(e),this.addDestroyHandler(n)}subscribeBuffering(){let e=A;const t=og(this.videoNode,(t=>{let i;if(i=t?"buffering":this.videoNode.paused?"pause":"play",e(),this.playingState.dispatch(i),t&&LS){const{clear:t,promise:i}=Nh(1e3,this.win);e=t,this.addDestroyHandler(t),i.then((()=>{if("buffering"!==this.playingState.getValue())return;const{currentTime:e,duration:t}=this.getCurrentPosition(),i=e+.1;this.setCurrentTime(i);const{currentSrc:n,src:r}=this.videoNode;Cu.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:n,src:r,currentTime:e,duration:t},probability:1})})).catch($)}}));this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Z({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}subscribeLoadedData(){this.addDestroyHandler(Z({element:this.videoNode,eventName:"loadeddata",listener:()=>this.onLoadedData.dispatch(void 0)}))}shouldIgnorePlayRejection(e){if(this.isDestroyed)return!0;if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=1e3}}const xS=e=>!1!==e.abuse,MS={isCloseAvailable:!1,isCloseDialogActive:!1},US={clickableVideo:!0,video:!0,interactiveViewer:!0,external:void 0,motion:void 0,survey:void 0,themeEmpty:void 0,vpaidCreative:void 0},FS=(e,t)=>t>=wg&&("play"===e||"pause"===e),HS=[{type:"video/x-flv",codec:void 0},{type:"video/webm",codec:"vp8, vorbis"},{type:"video/webm",codec:"vp8"},{type:"video/webm",codec:"vp9, vorbis"},{type:"video/webm",codec:"vp9"},{type:"video/webm",codec:"av1"},{type:"video/webm",codec:void 0},{type:"video/ogg",codec:void 0},{type:"video/mp4",codec:"avc1.640033, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640033"},{type:"video/mp4",codec:"avc1.640034, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640034"},{type:"video/mp4",codec:"avc1.64082A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64082A"},{type:"video/mp4",codec:"avc1.640828, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640828"},{type:"video/mp4",codec:"avc1.640820, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640820"},{type:"video/mp4",codec:"avc1.64081F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081F"},{type:"video/mp4",codec:"avc1.64081E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081E"},{type:"video/mp4",codec:"avc1.64002A,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A"},{type:"video/mp4",codec:"avc1.640028,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028"},{type:"video/mp4",codec:"avc1.640020,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020"},{type:"video/mp4",codec:"avc1.64001F,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F"},{type:"video/mp4",codec:"avc1.64001E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E"},{type:"video/mp4",codec:"avc1.4D481E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D481E"},{type:"video/mp4",codec:"avc1.4D401E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E"},{type:"video/mp4",codec:"h264"},{type:"video/mp4",codec:"h265"},{type:"video/mp4",codec:"hev1.1.6.L60.90"},{type:"video/mp4",codec:"hev1.1.6.L63.90"},{type:"video/mp4",codec:"hev1.1.6.L63.90"},{type:"video/mp4",codec:"hev1.1.6.L90.90"},{type:"video/mp4",codec:"hev1.1.6.L120.90"},{type:"video/mp4",codec:"av1"},{type:"video/mp4",codec:void 0},{type:"video/3gpp",codec:"av1"},{type:"video/3gpp",codec:void 0},{type:"application/x-mpegURL",codec:void 0},{type:"application/vnd.apple.mpegurl",codec:void 0},{type:"video/x-ms-wmv",codec:void 0},{type:"application/x-shockwave-flash",codec:void 0},{type:"video/3gp",codec:"av1"},{type:"video/3gp",codec:void 0},{type:"video/mpeg",codec:void 0},{type:"video/mpeg",codec:"av1"}];var zS=e(6416),jS=e.n(zS);const WS=iv?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=",YS=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),n=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&pa(e.play())}})(e);return()=>{t(),i(),n()}},GS={once:!0,passive:!0};class XS{constructor(e,t){let{checkSoundEnabled:i}=t;this.stop=A,this.isStopped=!1,this.revertVideoState=A,this.video=e;const n=document.createElement("div");n.style.display="none";const r=YS(e),o=Qa(e,(()=>Wa(e,{src:WS})));let a;this.revertVideoState=v((()=>{o(),e.load(),r(),m(n)})),this.promise=new Promise((async(e,t)=>{let n;if(a=t,i){if(n=await this.requestAutoplayAbilityByMuted(!1),this.isStopped)return;if(n.autoplayAbility)return this.revertVideoState(),void e({autoplayAbility:"allowed",detectionMethod:n.detectionMethod,detectionDetails:n.detectionDetails})}const r=await this.requestAutoplayAbilityByMuted(!0);if(this.isStopped)return;let o;o=n&&n.detectionMethod!==r.detectionMethod?"DifferentDetectionMethods":r.detectionMethod,this.revertVideoState(),this.isStopped=!0,e({autoplayAbility:r.autoplayAbility?"muted":"restricted",detectionMethod:o||"NotRecognized",detectionDetails:{soundDisabled:r,soundEnabled:n}})})),this.stop=()=>{this.isStopped||(this.isStopped=!0,a(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(Qa(t,(()=>{t.load()})),await jp(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:"RAAStopped"};t.muted=e,t.volume=e?0:1;const i=await new Promise((e=>{(function(e){let t=0;const i=[],n=(n,r)=>{i.push(Z({element:e,eventName:n,listener:r,options:GS})),clearTimeout(t)},r=new Promise((i=>{const r=t=>{e.paused&&i({detectionMethod:t,autoplayAbility:!1})},o=e.play();r("VideoTagPaused"),n("durationchange",(()=>r("PauseAfterDurationChange"))),n("error",(()=>r("VideoTagPausedAfterError"))),n("pause",(()=>i({detectionMethod:"PauseEvent",autoplayAbility:!1}))),n("playing",(()=>{i({detectionMethod:"PlayingEvent",autoplayAbility:!0})})),o?(n("progress",(()=>{i({detectionMethod:"ProgressEvent",autoplayAbility:!0})})),o.then((()=>{i({detectionMethod:"PromiseResolve",autoplayAbility:!0})})).catch((e=>{i({detectionMethod:"PromiseReject",autoplayAbility:!1,detectionDetails:e?{code:e.code,name:e.name,message:e.message}:"not_error"})}))):t=window.setTimeout((()=>{i({detectionMethod:"Timeout",autoplayAbility:!1})}),500)}));return r.then((()=>X(i))),r})(t).then((t=>{e(t)})).catch((t=>{e({autoplayAbility:!1,detectionMethod:"PlayRejected",detectionDetails:{code:t.code,name:t.name,message:t.message}})}))}));return this.isStopped?{autoplayAbility:!1,detectionMethod:"RAAStopped"}:i}}const KS=["test-direct.yandex.ru","direct.yandex.ru","partner2.yandex.ru"],qS=e=>Ou(KS,(t=>t===e||Ee(e,"."+t))),JS=e=>{const{hostname:t}=D(e.location.href),{referrer:i}=e.document;return qS(t)||qS(i)},ZS=e=>!!sh&&("IntersectionObserverEntry"in e&&"isVisible"in e.IntersectionObserverEntry.prototype),QS=["1247278","663369","663373","1375818","1275620","265882","734430","754063","663376","575584","1215622","385590","139995","661333","753971","734464","669901","461140","752673","348635","1223915","670298","1223914","675288","670300","1223913","1583915","730529","1366868","259601","128930","216651","427941","578603","1572937","447162","154950","448212","350986","129405","136261","1299351","575586","592219","447131","578807","578609","577872","142300","491044","1461718","447169","69381","567266","333441","630193","125905","272256","683973","451243","486953","223754","1404395","49517","460527","446885","338669","700312","575746","56459","446683","1487819","508482","981354","752036","255445","126345","256304","1289815","447112","588375","555724","49912","146642","269694"],$S=e=>{var t;const i=null!=(t=function(e){if(l(e))return e.split(",")}(Eu.getFlagValueAndActivateTestId("VAS_IOV2_PAGE_ID_BLACKLIST")))?t:QS;return x(i,e)},eT=["ctc.ru","more.tv","tv.mail.ru","domashniy.ru","ontvtime.tv","zenvix.net","ontvtime.ru","glaz.tv","ren.tv","ctclove.ru","televizorus.com","rosserial.be","m.glaz.tv","5-tv.ru","ivi.ru","smotrim.ru","m.5-tv.ru","federal.tv","chetv.ru","hd.kinopoisk.ru"],tT=()=>{var e;const t=null!=(e=function(e){if(l(e))return e.split(",")}(Eu.getFlagValueAndActivateTestId("VAS_IOV2_BLACKLISTED_TOP_ANCESTORS")))?e:eT;return Ou(t,(e=>e===Ng||Ee(Ng,"."+e)))},iT=e=>{let{win:t,pageId:i}=e;const n=!f(i)||!$S(i);return ZS(t)&&!tT()&&!(e=>JS(e)||JS(pd))(t)&&n&&"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY")},nT="2147483647",rT=e=>{let{element:t,win:i}=e;const n=new sp(!0),r=t.ownerDocument.createElement("div");Zo(r,{pointerEvents:"none",width:"4px",height:"4px",position:"absolute",top:"50%",left:"50%",marginTop:"-1px",marginLeft:"-1px",zIndex:nT},!0),t.append(r);const o=e=>{const{isVisible:t=!0}=e;n.dispatch(t)},a=new i.IntersectionObserver((e=>{if("TRUE"===Eu.getFlagValueAndActivateTestId("VAS_IO_HANDLE_LATEST_ENTRY")){const t=e[e.length-1];o(t)}else{const[t]=e;o(t)}}),{trackVisibility:!0,delay:100});return a.observe(r),{teardown:()=>{a.disconnect(),n.removeAll(),m(r)},visualVisibilitySignal:n}};let oT=0;class aT extends yu{constructor(e){var t;let{config:i,videoNode:n,layoutSlot:r,skinParameters:o,backgroundSlot:a,visibilitySlotParameters:s,retainLastMediaAfterPlayback:l,stats:c}=e;super(),t=this,this.volumeButtonCollapseProgress=new sp(void 0),this.volumeStatus=new sp("unknown"),this.videoSlotClickUrl=new sp(void 0),this.ecomShopState=new sp({isVisible:!1,ecomShop:void 0}),this.onReady=new Su,this.onBeforeDestroy=new Su,this.onDestroy_PUBLIC_DO_NOT_USE=new Su,this.onBeforeAdStart=new Su,this.onAdStart=new Su,this.adSlowStart=new sp(!1),this.onAdMediaStart=new Su,this.onAdMediaEnd=new Su,this.onAdEnd=new Su,this.onAdSkipped=new Su,this.onClickThrough=new Su,this.playerEnvironment=void 0,this.autoplayAbilityResult=new sp({autoplayAbility:"restricted",detectionMethod:"AutomaticallyGenerated"},oa),this.tooltipParameters={container:{containerElement:new sp(void 0),setContainerElement:e=>{this.tooltipParameters.container.containerElement.dispatch(e)}},content:{tooltipContent:new sp(void 0),setTooltipContent:e=>{this.tooltipParameters.content.tooltipContent.dispatch(e)}}},this.onAdStartRejected=new Su,this.adContentSize=new sp(void 0,oa),this.onAdStop=new Su,this.onAdPodPlayAdMedia=new Su,this.onAdPodStartRequest=new Su,this.onAdPodStart=new Su,this.onAdPodImpression=new Su,this.onAdPodFirstQuartile=new Su,this.onAdPodMidpoint=new Su,this.onAdPodThirdQuartile=new Su,this.onAdPodPause=new Su,this.onAdPodResume=new Su,this.onAdPodError=new Su,this.onAdPodComplete=new Su,this.onAdPodClose=new Su,this.onAdInteraction=new Su,this.adMediaState=new sp({name:"idle"},oa),this.isPackshotPlaying=new sp(!1),this.themeEmptyParameters=new sp(void 0,oa),this.faviconSrc=new sp(void 0),this.showTitleAndBody=new sp(void 0),this.currentVastAd=new sp(void 0),this.bannerFlags=new sp(void 0,oa),this.abuseParameters=new sp(Kv,oa),this.adPodDuration=new sp(NaN),this.adVolumeAvailability=new sp(false),this.adPodRemainingTime=new sp(-2),this.skinAnimationProgress=new sp(0),this.timeToSkipComputed=new sp(xy),this.timeToSkipAdCreative=new sp(void 0),this.timeToSkip=Mr([this.timeToSkipComputed,this.timeToSkipAdCreative],((e,t)=>null!=t?t:e)).valueSignal,this.adSkippableState=new sp(Qv),this.playingState=new sp("idle",((e,t)=>"idle"===t?(this.stats.error({error:new Od({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),this.adPodCloseState=new sp(MS,oa),this.adTuneState=new sp(Zv,oa),this.combinedSkinControlsVisibility=new sp({},oa),this.creativeType=new sp(void 0),this.adSystemType=new sp(void 0),this.contentAfterAdPod=new sp(Zp,oa),this.socialAdvertising=new sp(!1),this.abuseDisplayStatus=new sp("hidden"),this.pauseByOpenAbuseScreen=new sp(!1),this.adPodsCount=new sp(0),this.playingAdPodIndex=new sp(0),this.adPodCurrentSubtitles=new sp([]),this.isFullscreen=new sp(!1),this.displayAdSequence=new sp(void 0,oa),this.shouldShowSkipButton=new sp({shouldShowSkipButton:!1}),this.logAbuseOpenFirstTime=v((()=>{this.stats.event({name:"AbuseScreenOpenFirstTime",data:{},probability:1})})),this.onAllAdPodComplete=new Su,this.lastMediaRetained=new sp(void 0),this.adBlockIdentification=new sp({adType:void 0,partnerId:void 0,impId:void 0}),this.adTitleParameters=new sp(void 0),this.isNewSkinEnabled=v((()=>{if(!0===this.playbackParameters.enableNewSkin)return{reason:"enabledByApi",isEnabled:!0};if("TRUE"===Eu.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_EVERYWHERE"))return{reason:"enabledByEverywhereExperiment",isEnabled:!0};if("multiroll"===this.playerEnvironment)return{reason:"disabledInMultiroll",isEnabled:!1};return"videoInCombo"===this.skinParameters.skinVariant?"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_IN_VIDEO_IN_COMBO")?{reason:"enabledForVideoInCombo",isEnabled:!0}:{reason:"disabledForVideoInCombo",isEnabled:!1}:pu&&"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_IN_NANPU")?{reason:"enableInNanpu",isEnabled:!0}:"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_IN_THIRD_PARTY_ENVIRONMENT")?{reason:"enableInThirdPartyEnv",isEnabled:!0}:{reason:"disabledByDefault",isEnabled:!1}})),this.skinControlsHideReasons=new sp(ct(jc(am,(e=>[e,[]])))),this.publicApiControlsVisibility=new sp({}),this.isCreativeWithOwnControls=new sp(!1),this.vastAdControlsSettings=new sp(void 0),this.shouldHandleResize=!0,this.viewersList=[],this.showAdCounter=0,this.shouldBlurBeVisibleByApiLogic=new sp(!0),this.adPodBackground=new sp(void 0),this.adPodDestroyReasonObjects=[],this.destroyBlur=A,this.adVideoIsBuffering=new sp(!1),this.onAdInteractionWrapper=((e,t)=>{let i=0;return()=>{const n=Date.now();n-i>=t&&(e(),i=n)}})((()=>{this.onAdInteraction.dispatch(void 0)}),500),this.documentVisibility=new sp(!1),this.currentViewerProductType=new sp(void 0),this.styleModulesManager=new V_,this.isSurveyCreative=new sp(!1),this.isBrandliftSurveyCreative=new sp(!1),this.prepareSkin=v((()=>{const e=this.skinContainer;e.classList.add(zS.locals.AdDisplayControllerSkinContainer),this.styleModulesManager.useStyleModule(e,jS());const t=ra(e);t||this.stats.event({name:"CouldNotCreateSkinShadowRoot",data:void 0,probability:1});const{firstRenderPromise:i,runtimeErrorPromise:n,clear:r}=this.skinParameters.renderSkinFunction(null!=t?t:e,this);i.then((()=>{const{isEnabled:e,reason:t}=this.isNewSkinEnabled();this.stats.values({name:"SkinRendered",sensors:{isNewSkin:e?"1":"0",reason:t}})})).catch((e=>{this.stats.error({error:new Od(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)})),n.catch((e=>{this.stats.error({error:new Od(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)})),this.addDestroyHandler((()=>{r(),m(e)}))})),this.openAdSystemWebsite=()=>{const e=this.socialAdvertising.getValue(),t=e?"https://yandex.ru/socialads-transparency-report":Ch("YANDEX_DIRECT_LINK",this.playbackParameters.lang),i=!this.getPaused(),n=Date.now();this.stats.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e},probability:1}),i&&this.pause();if(null===window.open(t,"_blank"))return;const r=ca(window.document,(o=>{o&&(this.stats.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-n,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e},probability:1}),r(),i&&this.resume())}));this.addDestroyHandler(r)},this.isYandexCreative=new sp(void 0),this.clickThrough=e=>{const{clickSource:t}=e;this.currentViewer?(this.stats.values({name:"AdDisplayControllerClickThrough",data:{clickSource:t,playbackParameters:this.playbackParameters},probability:1}),this.viewerClickThrough(this.currentViewer,e)):this.stats.error({error:new Od({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{clickSource:t,playbackParameters:this.playbackParameters}})})},this.onSkinSkipButtonClick=()=>{const e=this.timeToSkip.getValue();0===e?this.skipCurrentViewer():this.stats.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e},probability:1})},this.setEcomShopState=function(e,i){void 0===i&&(i=!1);const n=t.ecomShopState.getValue();if(!Ou(_(e),(t=>e[t]!==n[t])))return;const r=hs({},n,e);if(r.isVisible=r.isVisible&&void 0!==r.ecomShop&&r.ecomShop.products.length>0,t.ecomShopState.dispatch(r),!i||t.isPackshotPlaying.getValue())return;const o=t.playingState.getValue();r.isVisible&&"play"===o&&t.pause(),r.isVisible||"pause"!==o||t.play()},this.destroyCurrentViewer=()=>{this.currentViewer&&(this.currentViewer.destroy({reason:"close",details:void 0}),this.closeAbuseScreen(),this.showCreativesContainer())},this.logAbuseEventToStats=e=>{this.stats.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:1});const t="AbuseVariantChoose_"+e;this.stats.event({name:t,data:{},probability:1})},this.showCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display=""}catch(MO){this.stats.error({error:new Od(MO,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.hideCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display="none"}catch(MO){this.stats.error({error:new Od(MO,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.abuseVariantChooseHandler=(e,t)=>{if(!this.currentViewer)return void this.stats.error({error:new Od({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});null!=t&&t.needToHideCreativesContiner&&this.hideCreativesContainer();const{reason:i,action:n}=Xv[e];this.sendAdTuneTracking({actionId:n,reasonId:i,options:t}),this.logAbuseEventToStats(e);(null==t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()},this.onAbuseCopyLinkToClipboardClick=e=>{e?(this.stats.event({name:"AbuseScreenCopiedCountLink",data:{},probability:1}),function(e){const t=document.createElement("textarea"),i=window.pageYOffset||document.documentElement.scrollTop;t.style.fontSize="12pt",t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top=i+"px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")}catch(n){}document.body.removeChild(t)}(e)):this.stats.error({error:new Od({code:"ABUSE_COPY_COUNT_LINK_WITHOUT_URL",details:void 0})})},this.getSendBeaconParams=e=>{const t=null==e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})},this.abuseButtonClickHandler=()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),this.stats.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:1}),this.logAbuseOpenFirstTime(),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseDisplayStatus.dispatch("selection"),this.sendAdTuneTracking({actionId:zv.action,reasonId:zv.reason})},this.abuseScreenCloseHandler=()=>{this.stats.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:1}),this.closeAbuseScreen(),this.sendAdTuneTracking({actionId:jv.action,reasonId:jv.reason})},this.handleAbuseScreenCloseByResumeError=()=>{this.stats.error({error:new Od({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseDisplayStatus.dispatch("hidden")},this.getCurrentViewerAssets=()=>{const e=this.currentViewer;if(!e)return void this.stats.event({name:"GetCurrentViewerAssetsCalledWithoutViewer",data:void 0});const{adParametersObject:t,assets:i,creativeParameters:n}=e.mediaAd.vastAd,r=null==i?void 0:i.button,o=this.getAdPlacementOptions(),{adFormatType:a}=o,s="survey"===a?"survey":void 0,l=this.getEcomAsAsset();if(!ff(t))return this.stats.event({name:"GetCurrentViewerAssetsReturnedEmpty",data:void 0}),{logo:void 0,domain:void 0,greenUrl:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,app:void 0,icon:void 0,images:void 0,adFormatType:s,isFullyClickable:as(a,e.getVideoSlotClickUrl()),sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0,ecomShop:l};const{abuseUrl:d}=this.abuseParameters.getValue(),c={logo:null==i?void 0:i.logo,domain:null==n?void 0:n.domain,greenUrl:null==n?void 0:n.greenUrl,punyDomain:null==n?void 0:n.punyDomain,title:null==n?void 0:n.title,body:null==n?void 0:n.body,age:null==n?void 0:n.ageRestriction,buttonCaption:null==r?void 0:r.caption,lang:this.playbackParameters.lang,targetUrl:We(t),socialAdvertising:this.socialAdvertising.getValue(),app:null==i?void 0:i.app,icon:null==i?void 0:i.icon,images:null==i?void 0:i.images,adFormatType:s,isFullyClickable:as(a,e.getVideoSlotClickUrl()),sendAdTuneTracking:d?e=>{this.stats.event({name:"GetCurrentViewerAssetsAdTuneTracking",data:void 0}),this.sendAdTuneTracking(e)}:void 0,clickThrough:Boolean(e.adPodViewerPlaybackParams.clickThroughUrl)?()=>{this.viewerClickThrough(e,{clickSource:"ApiClickThrough",url:void 0,playerHandles:!0})}:void 0,clickThroughButtonAsset:r?()=>{this.viewerClickThrough(e,{clickSource:"ApiClickThroughButtonAsset",url:r.href,playerHandles:!0})}:void 0,ecomShop:l};return this.stats.event({name:"GetCurrentViewerAssetsReturnAssets",data:c}),c},this.subscribeInteractionHandlers=()=>{if(!fd(this.slotParameters.element))return A;const e=[],t=jr(this.videoNode);return Id(n_,(i=>{e.push(Z({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Z({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))})),()=>X(e)},this.viewerClickThrough=(e,t)=>{e.userInteractionDispatchers.AdClickThru(t),e.clickThrough(t)},this.saveCurrentInstanceToRegistry=()=>{if(!xc.isDebugEnabled)return;const e=function(e){var t,i;const n=e;return null!=(t=n.ya)&&null!=(i=t.videoAd)&&i.debugParameters||Xa(n,{videoAd:{debugParameters:{}}},"ya"),n.ya.videoAd.debugParameters}(window),{stats:t}=this;if(!e.adDisplayControllerRegistry){const i=new Map,n=new Set;Object.defineProperty(e,"adDisplayControllerRegistry",{get:()=>(F("You are using debug code ad display controller registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.values({name:"UsingDebugCodeAdDisplayControllerRegistryGetter"}),n)}),Object.defineProperty(e,"blockRegistry",{get:()=>(F("You are using debug code block registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.values({name:"UsingDebugCodeBlockRegistryGetter"}),i)});const r=()=>(F("You are using debug code ad display controllers getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.values({name:"UsingDebugCodeAdDisplayControllersGetter"}),Array.from(e.adDisplayControllerRegistry.values()));e.getAdDisplayControllers=r;const o=()=>(F("You are using debug code get blocks info, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.values({name:"UsingDebugCodeGetBlocksInfo"}),Array.from(e.blockRegistry.values()));e.getBlocksInfo=o}const i=e.adDisplayControllerRegistry,n=e.blockRegistry;i.add(this),this.addDestroyHandler(this.adBlockIdentification.add((e=>{if(!e||void 0===e.impId||void 0===e.partnerId)return;const t=e.partnerId+"-"+e.impId;if(n.has(t))return;const i=(e=>{const t=e.adBlockIdentification.getValue();return{visibilityTrackingElement:e.visibilitySlotParameters.element,adType:null==t?void 0:t.adType,bundleName:wc,VSID:Mc,partnerId:null==t?void 0:t.partnerId,impId:null==t?void 0:t.impId}})(this);n.set(t,i)}))),this.addDestroyHandler((()=>{i.delete(this)}))},this.desiredPlayStateByVisibility=new sp(void 0),this.pausedByVisibilityRatio=new sp(void 0),this.logOnceVisibilityPauseOnce=v((()=>{this.stats.event({name:"AdDisplayControllerVisibilityPausedOnStart",probability:1,data:{}})})),this.setupTrackVisibilityReporting=()=>{const e=new qg,{teardown:t,visualVisibilitySignal:i}=rT({element:this.visibilitySlotParameters.element,win:this.slotParameters.window});e.subscribe(t),e.subscribe(hr([this.visibilitySlotParameters.visibilityRatio,this.documentVisibility,i],((e,t,i)=>t&&e>=wg&&!i),(t=>{t&&(this.stats.event({name:"IntersectionObserverTrackVisibilityDiffers",data:{}}),e.dispatch(void 0))}))),this.addDestroyHandler((()=>{e.dispatch(void 0)}))},this.setupVisibilityPlaybackPauseResume=()=>{this.desiredPlayStateByVisibility.add((e=>{if(void 0===e)return void 0;const t="pause"===e;t?(this.documentVisibility.getValue()&&"play"===this.playingState.getValue()&&this.logOnceVisibilityPauseOnce(),this.pause()):this.resume(),this.pausedByVisibilityRatio.dispatch(t),this.stats.event({name:t?"AdDisplayControllerVisibilityPause":"AdDisplayControllerVisibilityResume",data:{}})})),this.addDestroyHandler(this.onReady.addOne((()=>{const e=Mr([this.documentVisibility,this.visibilitySlotParameters.visibilityRatio,this.isYandexCreative],((e,t,i)=>{const n=this.getVolume()>0,r=t>=wg;if(!this.currentViewer)return;if(!i)return;if(!e&&n)return;return"pause"!==this.currentViewer.playingState.getValue()&&!r?"pause":r&&!0===this.pausedByVisibilityRatio.getValue()?"play":void 0}));this.addDestroyHandler(e.teardown),this.desiredPlayStateByVisibility.dispatch(e.valueSignal.getValue()),e.valueSignal.add(this.desiredPlayStateByVisibility),this.addDestroyHandler(this.playingState.subscribeValueConditionOnce((e=>"end"===e),(()=>{e.teardown()})))})))},this.stats=c,this.retainLastMediaAfterPlayback=Boolean(l),this.addDestroyHandler((e=>{this.onBeforeDestroy.dispatch(e)})),xc.isDebugEnabled&&this.saveCurrentInstanceToRegistry(),this.backgroundSlot=a,this.visibilitySlotParameters=s,function(e){Xr(e)&&e_(),Kr(e)&&$g(e)}(window);const u=void 0===n.volume||void 0===n.muted;u&&this.stats.error({error:new Od({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:p,errors:g}=Ua(i);this.playbackParameters=p,void 0!==this.playbackParameters.skipDelayForNonYandexCreatives&&this.stats.event({name:"UseOfPublicApiSkipDelayForNonYandexCreativesParameter",data:{config:i}}),this.adVolume=new sp(rs(n)),this.adHasBeenUnmuted=new sp(this.adVolume.getValue()>0),this.isFakeVideoElementWithoutVolumeChangeSupport=u;const y=new pg(r),S=y.onResize;S.add((e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)})),S.add((()=>{this.isNeedToShowVolumeButtonText()||0!==this.volumeButtonCollapseProgress.getValue()||this.startVolumeButtonProgress()})),this.addDestroyHandler((()=>{y.destroy()}));const T=new sp(!1);this.addDestroyHandler(Ar(r,(e=>{T.dispatch(e)}))),this.slotParameters={element:r,document:r.ownerDocument,window:r.ownerDocument.defaultView,size:S,isHovered:T},this.skinParameters=o,this.addDestroyHandler(((e,t)=>{const i=zn((()=>{dr(e)||(i(),t())}));return i})(r,(()=>{this.destroy({reason:"error",details:new Od({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0})})}))),this.videoContentSize=new sp(void 0,oa);const E=new sp(FS(this.playingState.getValue(),this.visibilitySlotParameters.visibilityRatio.getValue()));this.addDestroyHandler(hr([this.playingState,this.visibilitySlotParameters.visibilityRatio],FS,(e=>E.dispatch(e)))),this.addDestroyHandler((e=>{let{valueSignal:t,time:i,callback:n,win:r}=e,o=0;const a=()=>{if(h(null==r?void 0:r.clearTimeout))return r.clearTimeout(o)},s=t.add((e=>{e?o=r.setTimeout((()=>{n(),s()}),i):a()}));return()=>{a(),s()}})({valueSignal:E,time:2e3,callback:()=>{0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()},win:this.slotParameters.window})),this.onAdStart.addOne((()=>{this.addDestroyHandler($a(n,(e=>{this.videoContentSize.dispatch(e)}))),this.videoContentSize.dispatch(fr(n))})),this.adHasBeenUnmuted.addOne((e=>{e&&0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()})),this.volumeStatus.addOne((()=>{this.isNeedToShowVolumeButtonText()&&"mutedStart"===this.volumeStatus.getValue()?this.volumeButtonCollapseProgress.dispatch(0):this.volumeButtonCollapseProgress.dispatch(1)})),this.addDestroyHandler((()=>{y.destroy()})),ei(g),this.videoNode=n,ss(this.videoNode),this.timeToSkip.add((e=>{this.adSkippableState.dispatch(0===e)}));const b=this.adVolume.add((e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),b())}));this.addDestroyHandler(hr([this.adVolume,this.adVolumeAvailability,this.adHasBeenUnmuted],((e,t,i)=>function(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:n}=e;return i?0!==t?"unmuted":n?"muted":"mutedStart":"unknown"}({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i})),(e=>this.volumeStatus.dispatch(e)))),oT++,100===oT&&this.stats.error({error:new Od({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),this.stats.event({name:"CreateAdDisplayController",data:{config:this.playbackParameters}}),this.desiredBitrate=i.desiredBitrate,this.videoNodeController=new BS(n,this.slotParameters.window),this.onAdEnd.add((()=>this.setVisibleNativeControls(!0))),this.onReady.add((()=>this.setVisibleNativeControls(!1))),this.addDestroyHandler(function(e,t){let{controlsSettingsFromConfig:i,isFakeVideoElementWithoutVolumeChangeSupport:n,playingState:r,slotSize:o,skinControlsHideReasons:a,isCreativeWithOwnControls:s,vastAdControlsSettings:l,publicApiControlsVisibility:d,productType:c,isSurveyCreative:u,isBrandliftSurveyCreative:h,playerEnvironment:p,adSystemType:m,adTitleParameters:A}=e,v={};return hr([r,o,a,s,l,d,c,u,h,m,A],((e,t,r,o,a,s,l,d,c,u,h)=>{let{width:m}=t;if("idle"===e||!(m>=140)||o)return sm;const A={controlsVisibility:ue(r,(e=>!(e.length>0)&&void 0))};return Da(void 0===u?{controlsVisibility:{adLabel:!1}}:void 0,"boolean"===typeof(null==h?void 0:h.show)?{controlsVisibility:{adLabel:h.show}}:void 0,a,i,{controlsVisibility:s},A,n?{controlsVisibility:{mute:!1}}:void 0,l&&gt(l)?{controlsVisibility:{disclaimers:!1,ageLabel:!1}}:void 0,d&&"multiroll"!==p?{controlsVisibility:{timeline:!1}}:void 0,c?{controlsVisibility:{skip:!1}}:void 0).controlsVisibility}),ti((e=>{v=e,t(v)}),(e=>{for(const i of am)if(e[i]!==v[i])return v=e,void t(v)})))}({controlsSettingsFromConfig:this.playbackParameters.controlsSettings,publicApiControlsVisibility:this.publicApiControlsVisibility,isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,slotSize:this.slotParameters.size,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,productType:this.currentViewerProductType,isSurveyCreative:this.isSurveyCreative,isBrandliftSurveyCreative:this.isBrandliftSurveyCreative,playerEnvironment:this.playerEnvironment,adSystemType:this.adSystemType,adTitleParameters:this.adTitleParameters},(e=>{this.combinedSkinControlsVisibility.dispatch(e)}))),this.addDestroyHandler(this.playingState.add((e=>{"play"===e&&this.setEcomShopState({isVisible:!1})}))),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t,nextViewer:i}=e;const n=void 0===i?this.playbackParameters.contentAfterAd:Jp;Id(n.poster,(e=>{let{url:t}=e;Xn(t)}));const{mediaAd:r}=t;this.isCreativeWithOwnControls.dispatch(r.isCreativeWithOwnControls()),this.adSystemType.dispatch(r.getIsYandexCreative()?"yandex":"external"),this.isYandexCreative.dispatch(vf(t.getScriptSrc())),this.contentAfterAdPod.dispatch(n);const o=Va(r.vastAd);this.vastAdControlsSettings.dispatch(o),this.currentVastAd.dispatch(r.vastAd),this.ecomShopState.dispatch({isVisible:!1,ecomShop:r.vastAd.ecomShop});const a=Ta(r.vastAd);if(this.themeEmptyParameters.dispatch(a),a){const e=function(e){if(!Sa(e))return;const t=kf(e);if(!d(t))return;const{adParametersObject:i,parsedParameters:n}=t;if(!d(i)||!d(n))return;const{domain:r,punyDomain:o}=n;return null!=o?o:r}(r.vastAd);if(e){const i=(e=>"https://favicon.yandex.net/favicon/"+e+"?size=32&stub=1")(e);this.faviconSrc.dispatch(i);const n=new Image;t.addDestroyHandler(Z({element:n,eventName:"load",listener:()=>{clearTimeout(o)}}));const r=t=>{var i;clearTimeout(o),this.stats.event({name:"FaviconIsNotLoaded",data:{reason:null!=(i=null==t?void 0:t.message)?i:"timeout",punyDomain:e}}),this.faviconSrc.dispatch(void 0)};t.addDestroyHandler(Z({element:n,eventName:"error",listener:r})),n.src=i;const o=setTimeout(r,3e3)}}var s;this.showTitleAndBody.dispatch(us(r.vastAd)),this.bannerFlags.dispatch(r.vastAd.bannerFlags),t.packshotStartLatch.subscribe((()=>{this.isPackshotPlaying.dispatch(!0)})),this.currentViewerProductType.dispatch(r.vastAd.productType),this.isSurveyCreative.dispatch(qi(r.vastAd)),this.isBrandliftSurveyCreative.dispatch(!!qi(s=r.vastAd)&&Qt(s.adParametersObject)),this.adTitleParameters.dispatch(r.vastAd.adTitleParameters),this.initCreativeType(t),this.shouldShowSkipButton.dispatch({shouldShowSkipButton:!this.isSurveyCreative.getValue()})})),this.onAdMediaEnd.add((()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.contentAfterAdPod.dispatch(Zp),this.vastAdControlsSettings.dispatch(void 0),this.themeEmptyParameters.dispatch(void 0),this.faviconSrc.dispatch(void 0),this.showTitleAndBody.dispatch(void 0),this.bannerFlags.dispatch(void 0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1),this.currentViewerProductType.dispatch(void 0),this.isSurveyCreative.dispatch(!1),this.isBrandliftSurveyCreative.dispatch(!1),this.adTitleParameters.dispatch(void 0),this.shouldShowSkipButton.dispatch({shouldShowSkipButton:!1})})),this.onAdPodStartRequest.add((e=>{const{mediaAd:t}=e,{vastAd:i}=t;this.socialAdvertising.dispatch(function(e){var t;return!0===(null==(t=e.adParametersObject)?void 0:t.socialAdvertising)}(i));const{abuseUrl:n}=i;n&&this.abuseParameters.dispatch({abuseUrl:n,legalText:i.legalText})})),this.onBeforeAdStart.add((()=>{this.slotParameters.element.appendChild(this.creativesLayoutContainer),this.slotParameters.element.appendChild(this.skinContainer),this.addDestroyHandler((()=>{m(this.creativesLayoutContainer),m(this.skinContainer)}))})),"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY_REPORTS")&&this.onBeforeAdStart.addOne(this.setupTrackVisibilityReporting),this.onBeforeAdStart.addOne((()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(Uc("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout((()=>{const t=Date.now()-e;Uc("mark slow start, actual passed time=["+t+"]ms"),this.stats.event({name:"AdSlowStart",data:{actualTime:t}}),this.adSlowStart.dispatch(!0)}),1e3),this.onAdStart.addOne((()=>{i()})),this.addDestroyHandler((()=>{i()})),this.autoplayAbilityResult.add((e=>{let{autoplayAbility:t}=e;"restricted"===t&&this.onAdStartRejected.dispatch(void 0),"muted"===t&&this.videoNodeController.setMuted(!0)}))})),this.onAdMediaStart.add((e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)})),this.onAdMediaEnd.add((()=>{this.adPodBackground.dispatch(void 0)})),this.addDestroyHandler((e=>{if(this.isFinished=!0,this.playingState.dispatch("end"),Id(this.viewersList,((t,i)=>{if("unload"===e.reason)return void t.destroy({reason:"unload",details:void 0});const n=this.adPodDestroyReasonObjects[i];void 0===n?t.destroy({reason:"destroy",details:void 0}):t.destroy(n)})),this.viewersList.length=0,this.adBlockIdentification.removeAll(),this.adVolume.removeAll(),this.volumeButtonCollapseProgress.removeAll(),this.volumeStatus.removeAll(),E.removeAll(),this.slotParameters.size.removeAll(),this.visibilitySlotParameters.visibilityRatio.removeAll(),this.visibilitySlotParameters.size.removeAll(),this.videoContentSize.removeAll(),this.timeToSkip.removeAll(),this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.adHasBeenUnmuted.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll(),this.desiredPlayStateByVisibility.removeAll(),this.adTitleParameters.removeAll(),this.adVolume.removeAll(),this.autoplayAbilityResult.removeAll(),this.currentViewer){if(this.currentViewer.isCreativeStartRequested.getValue()){const e=this.currentViewer.mediaAd.adBreak.adType;this.onAdMediaEnd.dispatch({adType:e})}this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0}this.videoNodeController.destroy(),m(this.nativeControlsHideStyle)})),this.addDestroyHandler(hr([this.vastAdControlsSettings,this.abuseParameters,this.abuseDisplayStatus],os,(e=>this.adPodCloseState.dispatch(e)))),this.adPodCloseState.add((e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})})),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t}=e;this.adPodCurrentSubtitles.dispatch([]);const i=(e=>{const{adParametersObject:t}=e;if(!d(t))return;if(!d(t.subtitles))return;const{vtt:i}=t.subtitles;return f(i)?i:void 0})(t.mediaAd.vastAd);let n;if(i)try{n=new fS(i)}catch(h_){this.stats.event({name:"SubtitleProviderInitializationError",data:{message:h_.message}})}Fv||t.addDestroyHandler(hr([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],((e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i})),(e=>{let{remainingTime:t,duration:i,isPackshotPlaying:r}=e;const o=Math.max(0,i-t);if(r)this.adPodCurrentSubtitles.dispatch([]);else if(n){const e=n.findCuesByCurrentTime(o);this.adPodCurrentSubtitles.dispatch(e)}})))}));const{skinContainer:C,creativesLayoutContainer:w}=this.prepareContainersToAppend();this.skinContainer=C,this.creativesLayoutContainer=w,this.prepareSkin(),this.addDestroyHandler(Q((()=>{this.destroy({reason:"unload",details:void 0})}),null!=pd?pd:window)),this.addDestroyHandler((()=>{this.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained.dispatch(this.isLastAdPodRetainedMedia())})),this.addDestroyHandler((e=>{this.onDestroy_PUBLIC_DO_NOT_USE.dispatch(e),this.onDestroy_PUBLIC_DO_NOT_USE.removeAll()})),this.isFullscreen.dispatch(yr(window,n)),this.addDestroyHandler(((e,t)=>{if(_S.has(t)){const i=_S.get(t);null==i||i.tasks.push(e)}else{const i=()=>{const e=_S.get(t);e&&(X(e.tasks),e.timeoutId=window.setTimeout(i,t))};_S.set(t,{timeoutId:window.setTimeout(i,t),tasks:[e]})}return()=>{const i=_S.get(t);if(!i)return;const{timeoutId:n,tasks:r}=i,o=r.indexOf(e);-1!==o&&r.splice(o,1),0===r.length&&(window.clearTimeout(n),_S.delete(t))}})((()=>{const e=yr(window,n);this.isFullscreen.dispatch(e)}),1e3)),this.watchDocumentVisibility(),this.onAdPodStartRequest.add((e=>{const t=e.getVideoSlotClickUrl();this.videoSlotClickUrl.dispatch(t)})),this.addDestroyHandler((()=>{this.videoSlotClickUrl.dispatch(void 0)})),this.initAdSequence()}prepareContainersToAppend(){return{skinContainer:this.slotParameters.document.createElement("div"),creativesLayoutContainer:this.slotParameters.document.createElement("div")}}async prepareToPlayAd(e){const t=this.onReady.promise(),i=this.onAdEnd.promise();this.pause(),this.showAd(e),await Promise.race([t,i.then((()=>{throw new Od({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})}))])}showAd(e){var t;const i=Date.now(),n=jr(this.videoNode)?dr(this.videoNode):void 0;if(!1===n){const e=this.slotParameters.element,t=fd(e)?dr(e):void 0;return this.stats.error({error:new Od({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:n,wrapperInDom:t}})}),Promise.resolve()}if(!e.length)return this.stats.error({error:new Od({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.playbackParameters}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&this.stats.event({name:"CallShowAdMultipleTimes",data:void 0});const{adBreak:r,adConfig:o}=e[0];return this.adBlockIdentification.dispatch({partnerId:o.partnerId,impId:null!=(t=o.impId)?t:r.impId,adType:r.adType}),this.isFinished=!1,new Promise(((t,n)=>{this.viewersList=jc(e,((t,i)=>{let n;t.vastAd.trackingEvents=Rt(t.vastAd.trackingEvents,this.playbackParameters.trackingEvents);const r=t.getJSMediaFile();n=!!r&&vf(r.url);const o={adDisplayController:this,mediaAd:t,adPodViewerPlaybackParams:Ba({playbackParameters:this.playbackParameters,vastAd:t.vastAd,adBreakType:t.adBreak.adType,isYandexAdCreative:n}),enableInfinityPackshot:!0===this.playbackParameters.enableInfinityPackshot&&i===e.length-1,stats:this.stats,ecomShopState:this.ecomShopState},a=new qf(o);return a.adVideoIsBuffering.add((e=>this.adVideoIsBuffering.dispatch(e))),a.onImpression.add(this.onAdPodImpression),a.onFirstQuartile.add(this.onAdPodFirstQuartile),a.onMidpoint.add(this.onAdPodMidpoint),a.onThirdQuartile.add(this.onAdPodThirdQuartile),a.onAdInteraction.add(this.onAdInteractionWrapper),a})),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:r.adType}),this.onAdPodStart.addOne((()=>{this.stats.values({name:"AdStarted",data:{config:this.playbackParameters},values:{startTime:Date.now()-i}})})),this.startAdPlayback(r.adType).then((()=>t())).catch((e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:r.adType}),n(e)})),this.addDestroyHandler(this.subscribeInteractionHandlers())})).catch((e=>{Gn(e),this.stats.errorToStats(e)})).then((()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:r.adType}),this.destroyBlur()}))}getAdPlacementOptions(){const{videoNode:e,currentViewer:t}=this;let i;t&&(i=t.mediaAd.getAdPodId());let n,r,o,a=0;return t&&(a=t.getBufferingTime()),t&&(n=t.mediaAd.adBreak.adType),t&&(r=aa(t.mediaAd)),t&&(o=t.mediaAd.vastAd.productType),Tr({win:this.slotParameters.window,slotSize:this.slotParameters.size.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),adPodId:i,videoNode:e,bufferingTime:a,adBreakType:n,adFormatType:r,productType:o})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var n;void 0===i&&(i="normal"),null==(n=this.currentViewer)||n.resizeAd(e,t,i)}async play(){const{currentViewer:e}=this;return e?(e.startCreative({startStrategy:this.getAutoplay()?"startPlaying":"warmupOnly"}),new Promise(((t,i)=>{e.addDestroyHandler((e=>{const n=xa(e);n?i(n):t()}))}))):Promise.reject(new Error("VAS Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}destroyCurrentViewerIfneeded(e){this.currentViewer&&this.currentViewer.destroy({reason:e,details:void 0})}close(){this.destroyNextViewers("close"),this.destroyCurrentViewerIfneeded("close")}skipAllViewers(){this.destroyNextViewers("skip"),this.skipCurrentViewer(),this.destroyCurrentViewerIfneeded("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void this.stats.error({error:new Od({code:"NO_AD_POD_TO_SKIP",details:void 0})});if(this.currentViewer.isDestroyed)this.stats.error({error:new Od({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_DESTROY",details:void 0})});else if(this.currentViewer.isStarted.getValue()){if(!this.isFinished)return this.currentViewer.getAdSkippableState()?void this.currentViewer.skipAd():((this.getCurrentViewerSkipDelay()||this.timeToSkip.getValue()>0)&&this.stats.error({error:new Od({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})}),void this.stats.error({error:new Od({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD_POD",details:void 0})}));this.stats.error({error:new Od({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_FINISH",details:void 0})})}else this.stats.error({error:new Od({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_START",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:n}=e;const{abuseUrl:r}=this.abuseParameters.getValue();r||this.stats.error({error:new Od({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})});la({eventName:"close",trackingEventDetails:{},trackingUrls:[L(r,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(n),pixelsSource:"adParameters"})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!=(e=null==(t=this.currentViewer)?void 0:t.getAdWidth())?e:0}getAdHeight(){var e,t;return null!=(e=null==(t=this.currentViewer)?void 0:t.getAdHeight())?e:0}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}getCurrentViewerSkipDelay(){return this.currentViewer?this.currentViewer.adPodViewerPlaybackParams.skipDelay:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!=(e=null==t?void 0:t.mediaAd.getDuration())?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return Id(this.viewersList,(t=>{const i=t.getDuration();i>0&&(e+=i)})),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewersWithVideoCountBeforeCurrent(){let e=0;if(this.currentViewer)for(let t=0;t<this.viewersList.length;t++){const i=this.viewersList[t];if(i===this.currentViewer)break;i.mediaAd.getIsIndependentOnVideoElement()||e++}return e}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(((e,t,i,n)=>{const r=e[t];let o=r;return i?o=fu(r,(e=>e!==n)):i||x(r,n)||(o=[...r],o.push(n)),ls({},e,{[t]:o})})(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!d(e)&&!1!==e&&void 0!==e){const t=new Od({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw this.stats.error({error:t}),F("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsVisibility.getValue();let i;i=d(e)?Da({controlsVisibility:t},{controlsVisibility:e}).controlsVisibility:!1===e?sm:{},this.stats.event({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i}}),Uc("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsVisibility.dispatch(i)}areAllAdPodsCompleted(){return Xh(this.adPodDestroyReasonObjects,(e=>{let{reason:t}=e;return"complete"===t}))}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getEcomAsAsset(){const e=this.ecomShopState.getValue();if(void 0===e.ecomShop)return;const t={ecomShopState:e,setEcomShopState:e=>{this.setEcomShopState(e,!0)},onEcomShopStateChange:A};return this.addDestroyHandler(this.ecomShopState.add((e=>{t.onEcomShopStateChange(e)}))),t}getAutoplay(){if(!0===this.pausedByVisibilityRatio.getValue())return Uc("autoplay=false due to paused state by visibility"),!1;if(this.getViewersWithVideoCountBeforeCurrent()>0)return Uc("autoplay=true due to subsequent viewer"),!0;if("restricted"===this.autoplayAbilityResult.getValue().autoplayAbility)return Uc("autoplay=false due to requireUserGesture"),!1;const e=this.playingState.getValue();if("idle"!==e){const t="pause"!==e;return Uc("autoplay=["+t+"] due to playingStateValue"),t}return Uc("autoplay=true due to default"),!0}setVisibleNativeControls(e){e?m(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=Uo(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle))}closeAbuseScreen(){var e;this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==(null==(e=this.adBlockIdentification.getValue())?void 0:e.adType)&&this.resume(),this.abuseDisplayStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=A;this.addDestroyHandler((()=>t())),this.addDestroyHandler(this.adPodBackground.add((i=>{d(i)&&f(i.color)?t=ar(e,{backgroundColor:i.color}):t()})))}initBackground(e){let{backgroundSlot:t}=this.playbackParameters;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!jr(e))return;const{parentElement:t}=e;if(t)return t;Cu.error({error:new Od({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void Uc("BackgroundBlur container cannot be created");this.initBackgroundColor(t);if(!Ou(e,(e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background})))return;if(Uc("BackgroundBlur is presented in AdBreak"),!hS)return void Uc("BackgroundBlur is NOT supported");const n=new vS({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{n.destroy()},this.stats.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i}}),this.addDestroyHandler(hr([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],((e,t,n,r)=>{if(!e)return!1;if(void 0===n)return!1;if("blur"!==t)return!1;if(i)return!0;const o=r.width/r.height,a=n.width/n.height-o;return Math.abs(a)>.1}),(e=>{n.setPlaying(e)}))),this.addDestroyHandler((()=>null==n?void 0:n.destroy()))}playAdMedia(e){let{adType:t,viewer:i,viewerIndex:n,nextViewer:r,completeCallback:o}=e;this.currentViewer=i,this.onAdPodStartRequest.dispatch(i),i.trackOnCreativeInit();let a=NaN;i.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{a=Date.now()})),this.adContentSize.dispatch(i.mediaAd.getAdContentDimensions()),i.isStarted.addOne((()=>{this.adContentSize.dispatch(i.getAdContentSize())})),i.addDestroyHandler((()=>{this.adContentSize.dispatch(void 0)})),i.isStarted.add((()=>{isNaN(a)?this.stats.error({error:new Od({code:"AdPodStartWithoutPlayRequest",details:void 0})}):this.stats.values({name:"AdPodStart",values:{startTime:Date.now()-a},data:{src:i.getScriptSrc(),config:this.playbackParameters,playRequestTime:String(a),adPodId:i.mediaAd.getAdPodId(),position:i.mediaAd.vastAd.parseIndex,bidreqid:i.mediaAd.vastAd.bidreqid,campaignid:i.mediaAd.vastAd.campaignid,pageId:i.mediaAd.vastAd.pageId,impId:i.mediaAd.vastAd.impId,vmapRequestId:i.mediaAd.vastAd.vmapRequestId},sensors:{showTitleAndBody:String(us(i.mediaAd.vastAd))}})})),this.onAdPodPlayAdMedia.dispatch({adType:t,viewer:i,viewerIndex:n,nextViewer:r});const s=i.playingState.getValue();"idle"!==s&&this.stats.error({error:new Od({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:s}})}),i.playingState.subscribeValueCondition((e=>"end"!==e),(e=>{this.currentViewer===i?this.playingState.dispatch(e):this.stats.error({error:new Od({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:e}})})})),i.addDestroyHandler((e=>{const n=xa(e);n&&(this.trackError(n),this.stats.error({error:n}),Gn("AdPod playing error",n),this.onAdPodError.dispatch({error:n,adPodId:i.mediaAd.getAdPodId()})),this.currentViewer=void 0,this.adPodDestroyReasonObjects.push(e),this.onAdMediaEnd.dispatch({adType:t}),o()})),i.startCreative({startStrategy:this.getAutoplay()?"startPlaying":"warmupOnly"})}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this;if(jr(t)){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),n={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},r=SS(e),{parentElement:o}=e;return v((()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),r(),at(e,n),o&&o!==e.parentElement&&Cu.error({error:new Od({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})}))}(t);this.onBeforeDestroy.addOne((t=>{let{reason:i}=t;"unload"!==i&&e()}));const i=Ya(t);this.onBeforeDestroy.addOne(i);const n=function(e){if(!jr(e))return A;const t=e.getAttribute("src")||e.src||null,i=jc(G(e.getElementsByTagName("source")),(e=>({src:e.getAttribute("src"),type:e.getAttribute("type")})));return v((()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),Id(i,(t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),w(t,((e,t)=>{i.setAttribute(t,String(e))}))})),Qa(e,(()=>{e.load()}))}))}(t);this.onBeforeDestroy.addOne((e=>{let{reason:t}=e;this.isLastAdPodRetainedMedia()||"unload"!==t&&n()})),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add((()=>{SS(t)})))}const i=Date.now();let n,r;const o=this.checkAutoplayAbility();this.videoNode;if(o?(n="sync",r=o):(n="async",r=await this.requestAutoplayAbility()),this.isFinished)throw new Od({code:"AD_FINISHED_DURING_RAA",details:void 0});this.stats.values({name:"RequestAutoplayAbility",values:{duration:Date.now()-i},sensors:{strategy:n,method:r.detectionMethod,result:r.autoplayAbility},data:{config:this.playbackParameters,autoplayAbility:r,saveData:S((()=>{var e;return null==(e=navigator.connection)?void 0:e.saveData}))}}),this.autoplayAbilityResult.dispatch(r);const a=v((()=>{this.onReady.dispatch(void 0)})),s=v((()=>{this.onAdStart.dispatch({adType:e})}));return Id(this.viewersList,((t,i)=>{t.onComplete.addOne((t=>{let{isInfinityPackshotEnabled:i}=t;this.onAdPodComplete.dispatch({adType:e}),i&&this.onAdMediaEnd.dispatch({adType:e})})),t.addDestroyHandler((t=>{let{reason:i}=t;"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)})),t.onReady.addOne(a),t.isStarted.addOne(s),t.isStarted.add((()=>{this.onAdPodStart.dispatch(void 0)})),t.onPause.add((()=>{this.onAdPodPause.dispatch(void 0)})),t.onResume.add((()=>{this.onAdPodResume.dispatch(void 0)})),t.onVolumeChange.add((()=>{this.adVolume.dispatch(t.getVolume())})),t.isStarted.addOne((()=>{this.adVolume.dispatch(t.getVolume())}));const{skipDelay:n}=t.adPodViewerPlaybackParams;var r;t.isStarted.addOne((()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration()),this.updateTimeToSkip(t,n,i)})),t.addDestroyHandler(function(e){let{win:t,adPodDuration:i,adPodRemainingTime:n,playingState:r,isStarted:o,isBuffering:a,callback:s}=e;const l=new qg,d=new sp(-1);return l.subscribe((()=>d.removeAll)),o.addOne((()=>{const e=new dy({win:t,duration:i.getValue()*gA,callback:e=>{const t=Tn(e,0,1);s(t)},onFinish:A});d.add((t=>{Wt(t)&&e.adjustPosition(t)})),l.subscribe((()=>{e.stop()})),l.subscribe(hr([n,i],((e,t)=>Wt(e)&&Pe(t)?(t-e)/t:-1),(e=>{d.dispatch(e)}))),l.subscribe(hr([d,r,a],((e,t,i)=>Wt(e)&&"play"===t&&!i),(t=>{t?e.start():e.stop()})))})),()=>{l.dispatch(void 0)}}({win:this.slotParameters.window,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add((()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add((()=>{this.isPackshotPlaying.getValue()||this.adMediaState.dispatch({name:"stalled"})}))),t.addDestroyHandler(this.videoNodeController.playingState.add((e=>{"play"===e&&this.adMediaState.dispatch({name:"playing"})})))})),t.addDestroyHandler((()=>{this.adMediaState.dispatch({name:"idle"})})),t.addDestroyHandler((()=>{this.adPodRemainingTime.dispatch(-2),this.skinAnimationProgress.dispatch(0)})),t.playbackPosition.add((e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)})),t.onClickThrough.add((e=>this.onClickThrough.dispatch(e))),!(r=t).isVpaidAdPodViewer()||r.mediaAd.vastAd.imhoParams||r.mediaAd.getIsYandexCreative()||Ki(r.mediaAd.vastAd)?t.isStarted.addOne((()=>{t.playbackPosition.add((()=>{this.updateTimeToSkip(t,n,i)}))})):t.onAdSkippableStateChange.add((e=>{this.timeToSkipComputed.dispatch(e?0:xy)}))})),new Promise((t=>{this.playAdViewers(e,(()=>{t([])}))}))}playAdViewers(e,t){this.adPodDestroyReasonObjects=[];const i=jc(this.viewersList,((t,i)=>{const n=this.viewersList[i+1];return r=>{if(this.timeToSkipComputed.dispatch(xy),this.timeToSkipAdCreative.dispatch(void 0),this.isFinished){const e=new Od({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),r()}const o=this.getAdPodContainerSizeError(t);if(o)return t.mediaAd.trackError(o),this.onAdPodError.dispatch({error:o,adPodId:t.mediaAd.getAdPodId()}),this.adPodDestroyReasonObjects.push({reason:"error",details:o}),F('You are using unplayable "slot" sizes, check passed element dimensions.'),r();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Na(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia({adType:e,viewer:t,viewerIndex:i,nextViewer:n,completeCallback:r})}}));let n=-1;!function e(){n++;const r=i[n];void 0===r?t():r(e)}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const{size:t,element:i}=this.visibilitySlotParameters;if(mr(t.getValue(),hg))return;const n=i.getBoundingClientRect();if(mr(n,hg))return;const r=n.width<.1||n.height<.1,o="none"===u(i).display;let a;a=r?o?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE";const s=e.mediaAd.getAdContentDimensions();return new Od({code:a,details:{adPodId:e.mediaAd.getAdPodId(),slotSize:{width:n.width,height:n.height},adContentDimensions:s,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}checkAutoplayAbility(){if(Xh(this.viewersList,(e=>e.mediaAd.getIsIndependentOnVideoElement())))return Uc("autoplayAbility=positive for independentOnVideoElement ad"),{autoplayAbility:"allowed",detectionMethod:"IndependentOnVideo"};const{videoSlotCanAutoPlay:e}=this.playbackParameters;if("boolean"===typeof e)return Uc("autoplayAbility=["+e+"] due to videoSlotCanAutoPlay"),e?{autoplayAbility:"allowed",detectionMethod:"PositiveVideoSlotCanAutoplay"}:{autoplayAbility:"restricted",detectionMethod:"NegativeVideoSlotCanAutoplay"};se(this.slotParameters.window)&&!this.videoNode.hasAttribute("playsinline")&&(this.stats.event({name:"NoPlaysinlineOnVideoTagInTouchScreenDeviceForRAA",data:void 0}),F('Attribute "playsinline" is NOT set on the <video/> element, this may cause the inability to autoplay'));const t=cs(this.videoNode);return t?(Uc("autoplayAbility=["+t.autoplayAbility+"] by sync detect method=["+t.detectionMethod+"]"),t):void 0}requestAutoplayAbility(){Uc("start autoplay ability request");const e=Date.now(),{promise:t,stop:i}=function(e,t){const i=new XS(e,t);return{promise:i.promise,stop:i.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});this.addDestroyHandler(i);let n=!1;return new Promise((r=>{t.then((e=>{n=!0,Uc("autoplayAbility=["+JSON.stringify(e)+"]"),r(e)})).catch((()=>{n=!0})),"idle"===this.playingState.getValue()&&this.playingState.addOne((t=>{n||(this.stats.values({name:"RequestAutoplayAbilityStoppedByPlayingState",values:{duration:Date.now()-e},data:{config:this.playbackParameters,nextState:t}}),Uc("RAA stopped by playingState=["+t+"]"),i(),r({autoplayAbility:"allowed",detectionMethod:"ExternalMethodCall",detectionDetails:{nextState:t}}))}))}))}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;if(i)for(let n=this.getCurrentViewerIndex()+1;n<t.length;n++){t[n].trackVastEvent(e,{})}this.stop()}startVolumeButtonProgress(){(e=>{let{win:t,callback:i,addDestroyHandler:n}=e;const r=new dy({win:t,duration:250,callback:e=>{const t=Tn(e,0,1);i(t),1===t&&r.stop()},onFinish:A});n((()=>r.stop())),r.start()})({win:this.slotParameters.window,callback:e=>{this.volumeButtonCollapseProgress.dispatch(e)},addDestroyHandler:e=>this.addDestroyHandler(e)})}isNeedToShowVolumeButtonText(){return"DISABLE"!==Hv&&"small"!==Fa(this.slotParameters.size.getValue())}updateTimeToSkip(e,t,i){const n=function(e){let{remainingTime:t,duration:i,skipDelay:n}=e;if(0===n)return xy;if(n>i-2)return xy;if(!Wt(t))return xy;const r=i-t;return n<=r?0:n-r}({remainingTime:e.getAdRemainingTime(),duration:e.getDuration(),skipDelay:t});this.timeToSkipComputed.dispatch(n)}watchDocumentVisibility(){const e=this.visibilitySlotParameters.element.ownerDocument;this.documentVisibility.dispatch(ve(e)),this.addDestroyHandler(ca(e,(e=>this.documentVisibility.dispatch(e)))),this.addDestroyHandler((()=>{this.documentVisibility.removeAll()}))}initAdSequence(){const{adSequence:e}=this.playbackParameters;e?this.displayAdSequence.dispatch(e):this.addDestroyHandler(hr([this.playingAdPodIndex,this.adPodsCount],((e,t)=>({index:e,count:t})),this.displayAdSequence.dispatch.bind(this.displayAdSequence)))}initCreativeType(e){const{mediaAd:t}=e,i=aa(t);let n;"survey"===i?n="survey":as(i,e.getVideoSlotClickUrl())?n="fullyClickable":Sa(t.vastAd)&&(n="themeEmpty"),this.creativeType.dispatch(n)}}const sT=Ou([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],(e=>null!==navigator.userAgent.match(e))),lT=2;class dT extends yu{constructor(e,t){let{considerDocumentVisibility:i=!0,numberOfMeasurementSteps:n=lT,enableTrackVisibility:r=!1}=void 0===t?{}:t;super(),this.totalVisibilityValueSignal=new sp(!1),this.documentVisibilityValueSignal=new sp(true),this.isElementReachableByTrackVisibilityValueSignal=new sp(!0),this.recalculateVisibility=()=>{if(this.isDestroyed||!dr(this.element))return;const e=gs(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)},this.element=e;const o=Math.max(n,lT),a=e.ownerDocument.defaultView;this.elementVisibilityRatioValueSignal=new sp(0);const s=a.IntersectionObserver;Boolean(s)?this.startIntersectionObserver(s,o):this.startVisibilityCheckInterval(a),r&&Boolean(s)&&ZS(a)&&this.startCheckVisibilityWithTrackVisibility(a),i&&this.startObservingDocumentVisibility(a);const{valueSignal:l,teardown:d}=Mr([this.elementVisibilityRatioValueSignal,this.documentVisibilityValueSignal,this.isElementReachableByTrackVisibilityValueSignal],((e,t,i)=>i&&t?e:0));l.add((e=>{this.totalVisibilityValueSignal.dispatch(e>=wg)})),this.totalVisibilityRatioValueSignal=l,this.addDestroyHandler((()=>{this.totalVisibilityValueSignal.removeAll(),d(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll(),this.isElementReachableByTrackVisibilityValueSignal.removeAll()}))}startIntersectionObserver(e,t){const i=[wg],n=1/t;for(let a=1;a<t;a++)i.push(a*n);const r=e=>{const{intersectionRatio:t}=e;this.elementVisibilityRatioValueSignal.dispatch(t)},o=new e((e=>{if("TRUE"===Eu.getFlagValueAndActivateTestId("VAS_IO_HANDLE_LATEST_ENTRY")){const t=e[e.length-1];r(t)}else{const[t]=e;r(t)}}),{threshold:i});o.observe(this.element),this.addDestroyHandler((()=>{o.disconnect()}))}startVisibilityCheckInterval(e){const t=zn(this.recalculateVisibility);this.addDestroyHandler(t);const i=e.setTimeout(this.recalculateVisibility,0);this.addDestroyHandler((()=>{e.clearTimeout(i)}))}startCheckVisibilityWithTrackVisibility(e){const{element:t}=this,{teardown:i,visualVisibilitySignal:n}=rT({element:t,win:e});this.addDestroyHandler(i),n.add(this.isElementReachableByTrackVisibilityValueSignal)}startObservingDocumentVisibility(e){const t=e.setTimeout((()=>{const t=e.document,i=ve(t);this.documentVisibilityValueSignal.dispatch(i);const n=ca(t,(e=>{this.documentVisibilityValueSignal.dispatch(e)}));this.addDestroyHandler(n)}),0);this.addDestroyHandler((()=>{e.clearTimeout(t)}))}}class cT extends yu{constructor(e){var t;let{videoSlot:i,layoutSlot:n,mediaAds:r,playbackParameters:o,skinParameters:a,stats:s}=e;if(super(),this.pauseAd=this.createPlaybackMethod("pauseAd",(()=>{Uc("[AdPlaybackController]: method pauseAd() is called"),this.adDisplayController.pause()})),this.resumeAd=this.createPlaybackMethod("resumeAd",(()=>{Uc("[AdPlaybackController]: method resumeAd() is called"),this.adDisplayController.resume()})),this.isPlayAdCalled=new qg,this.getPublicInstance=()=>({playAd:this.playAd,warmupAd:this.warmupAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility}),this.getAdMediaState=()=>this.adDisplayController.adMediaState.getValue(),this.getAdContentSize=()=>this.adDisplayController.adContentSize.getValue(),this.setControlsVisibility=e=>this.adDisplayController.setPublicApiControlsSettings(e),this.getMediaElementStatusAfterAdStopped=()=>{if(this.isDestroyed)return{lastMediaRetained:Boolean(this.adDisplayController.lastMediaRetained.getValue())}},this.playAd=()=>{if(Uc("[AdPlaybackController]: method playAd() is called"),this.isPlayAdCalled.getDispatched()){Ve(new Od({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled.dispatch(void 0),this.adDisplayController.showAd(this.mediaAds).then((()=>{this.destroy("adComplete")})).catch($)},this.warmupAd=()=>{this.playAd(),this.pauseAd()},this.stopAd=()=>{Uc("[AdPlaybackController]: method stopAd() is called"),this.destroy("stopAd")},this.getAdPlayingState=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle",this.getAdSkippableState=()=>this.adDisplayController.adSkippableState.getValue(),this.getAdPodTimeToSkip=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?xy:this.adDisplayController.timeToSkip.getValue(),this.getAdPodCloseState=()=>this.adDisplayController.adPodCloseState.getValue(),this.getAdPodAdTuneState=()=>this.adDisplayController.adTuneState.getValue(),this.getAdVolume=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?0:this.adDisplayController.getVolume(),this.setAdVolume=e=>{this.isPlayAdCalled.getDispatched()&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))},this.getAdVolumeAvailabilityState=()=>!(!this.isPlayAdCalled.getDispatched()||this.isDestroyed)&&this.adDisplayController.getAdVolumeAvailability(),this.getAdRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdRemainingTime():this.getAdDuration(),this.getAdPodRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration(),this.getAdDuration=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getDuration():ps(this.mediaAds),this.getAdPodDuration=()=>{var e;if(this.isPlayAdCalled.getDispatched())return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds;return null!=(e=null==t?void 0:t.getDuration())?e:0},this.skipAd=()=>{if(this.getAdSkippableState())this.adDisplayController.skipAllViewers();else if(this.isDestroyed)this.stats.error({error:new Od({code:"ATTEMPT_TO_SKIP_AD_AFTER_DESTROY",details:void 0})});else if(this.isPlayAdCalled){if(this.adDisplayController.getCurrentViewerSkipDelay()||this.getAdPodTimeToSkip()>0)return void this.stats.error({error:new Od({code:"ATTEMPT_TO_SKIP_AD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})});this.stats.error({error:new Od({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD",details:void 0})})}else this.stats.error({error:new Od({code:"ATTEMPT_TO_SKIP_AD_BEFORE_START",details:void 0})})},this.getCurrentViewerAssets=()=>this.adDisplayController.getCurrentViewerAssets(),this.subscribe=(e,t)=>{if("function"!==typeof t)return A;const i=i=>{try{t(i)}catch(MO){this.stats.error({error:new Od({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),$(MO)}},n=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(n);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(n);case"AdStartRequest":return this.isPlayAdCalled.getDispatched()?A:this.isPlayAdCalled.subscribe(n);case"AdStarted":return this.adDisplayController.onAdStart.add(n);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(n);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(n);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(n);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(n);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(n);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(n);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add((()=>{i({})}));case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(n);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(n);case"AdClickThru":return this.adDisplayController.onClickThrough.add(n);case"AdPodError":return this.adDisplayController.onAdPodError.add((e=>{let t,{error:n,adPodId:r}=e;"string"===typeof n.code?t=n.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",this.stats.error({error:new Od({code:t,details:{error:n,adPodId:r}})})),i({code:t,adPodId:r})}));case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(n);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(n);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(n);case"AllAdPodVideoComplete":return this.adDisplayController.onAllAdPodComplete.add(n);case"AdStopped":return this.adDisplayController.onDestroy_PUBLIC_DO_NOT_USE.add((e=>{let{reason:t}=e;"unload"!==t&&n()}));case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add((e=>{i({skippableState:e})}));case"AdVolumeChange":return this.adDisplayController.adVolume.add((()=>{i({})}));case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add((()=>{i({})}));case"AdPlayingStateChange":return this.adDisplayController.playingState.add((e=>{i({playingState:e})}));case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(n);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(n);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(n);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(n);default:return A}},this.stats=s,!n){const e=new Od({code:"APC_SLOT_IS_NOT_SET",details:{slotString:String(n)}});throw s.error({error:e}),e}s.event({name:"CreatePlaybackController",data:{config:o,adBreakType:null==(t=r[0])?void 0:t.adBreak.adType}}),this.videoSlot=i,this.layoutSlot=n,this.mediaAds=r,this.playbackParameters=o;const l=new pg(n);let d,c;if(this.addDestroyHandler((()=>{l.destroy()})),o.visibilitySlot){d=o.visibilitySlot;const e=new pg(d);c=e.onResize,this.addDestroyHandler((()=>{e.destroy()}))}else d=n,c=l.onResize;const u=new dT(d,{numberOfMeasurementSteps:10,enableTrackVisibility:false});this.addDestroyHandler((()=>{u.destroy(void 0)}));const h={element:d,size:c,visibilityRatio:u.totalVisibilityRatioValueSignal};this.adDisplayController=new aT({config:this.playbackParameters,videoNode:this.videoSlot,layoutSlot:this.layoutSlot,skinParameters:a,visibilitySlotParameters:h,retainLastMediaAfterPlayback:this.playbackParameters.retainLastMediaAfterPlayback,stats:s}),this.addDestroyHandler((e=>{this.adDisplayController.destroy({reason:e,details:void 0})})),this.addDestroyHandler(Q((()=>{this.destroy("unload")}),null!=pd?pd:window))}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled.getDispatched()&&!this.isDestroyed)t();else{Ve(new Od({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}const uT=So({shouldUseNewSkin:!1,supportsFullscreen:!1});uT.Provider.displayName="NewSkinContext";const hT=()=>Io(uT);var pT=e(5676),mT=e.n(pT);const AT=e=>{var t;Fo(mT());const{children:i,onSplitResult:n,fontStyle:r}=e,o=i,[a,s]=Eo([]),l={"--stw-text-lines-count":a.length,"--stw-font":r},d=wo(null),{width:c}=null!=(t=ba(d))?t:{};return bo((()=>{if(void 0===c||void 0===i||0===i.length)return;const e=d.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const a=(e=>{const t=new Su,{canvas:i,text:n,context:r,fontStyle:o}=e;t.addOne(ar(i,{font:o}));const a=r.font;t.addOne((()=>{r.font=a})),r.font=o;const s=r.measureText(" ").width,l=i.offsetWidth,d=n.split(" "),c=[];let u=[],h="",p=0;for(let m=0;m<d.length;m++){const e=d[m],t=r.measureText(e).width;if(t>l){c.length=0;break}const i=h.length>0?" ":"",n=h+i+e,o=p+(i?s:0)+t;o>=l?(c.push(u),u=[],u.push(e),h=e,p=t,m===d.length-1&&c.push(u)):(u.push(e),h=n,p=o,m===d.length-1&&c.push(u))}return t.dispatch(void 0),c.length?c:void 0})({canvas:e,context:t,text:o,mode:"lines",fontStyle:r});a&&(null==n||n(a),s(a))}),[d,c,undefined,o,r]),Qr("div",{style:l,className:pT.locals.SplitTextLinesWrapper__container},Qr("div",{className:pT.locals.SplitTextLinesWrapper__lines},jc(a,((e,t)=>{const i=t===a.length-1,n=e.join("");let r=0;const o=n.length,s={"--stw-text-line-length":o,"--stw-text-line-words-count":e.length,"--stw-text-line-index":t};return Qr(eo,{key:n},Qr("div",{className:pT.locals.SplitTextLinesWrapper__textLine,style:s},jc(e,((t,i)=>{const n=i===e.length-1?"":"\xa0";return Qr("span",{key:""+t+i,className:pT.locals.SplitTextLinesWrapper__word,style:{"--stw-text-word-index":i}},jc(t.split(""),((e,t)=>{const i=e+"-"+t,n=Math.round(100*r/o),a=Tn(Math.floor(n/30),0,2),s={"--stw-text-char-inside-word-index":t,"--stw-text-char-inside-line-index":r,"--stw-text-char-inside-line-percent":n,"--stw-text-char-inside-line-third":a};return r+=1,Qr("span",{key:i,className:pT.locals.SplitTextLinesWrapper__char,style:s},e)})),n)}))),!i&&Qr("br",null))}))),Qr("canvas",{className:pT.locals.SplitTextLinesWrapper__canvas,ref:d}))},vT=e=>{const t=Mo(e.currentVastAd);return Po((()=>{var i,n;const{tgaOfferClickUrl:r,vastClickUrl:o,serializablePlaybackParametersClickUrl:a}=null!=(i=null==t?void 0:t.clickUrlData)?i:{},s=null!=(n=null!=r?r:o)?n:a;return void 0===s?void 0:L(s,{[Bu]:Mc,[Fu]:e.getAdPlacementOptions().adPodId})}),[t])},gT=So({isAbuseSupported:!1,abuseButtonClickHandler:A,abuseDisplayStatus:"hidden",abuseScreenCloseHandler:A,abuseVariantChooseHandler:A,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:A,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:A,isAbuseSubmitted:!1,setAbuseSubmitted:A,abuseSubmitType:void 0,setAbuseSubmitType:A,previousDisplayType:"default",setPreviousDisplayType:A,destroyCurrentViewer:A,abuseScaleRate:void 0,setAbuseScaleRate:A,legalText:void 0,onAbuseCopyLinkToClipboardClick:A,resetAbuseVisualState:A,abusePlaceholderHint:"",abusePlaceholderText:""});gT.Provider.displayName="AbuseContext";const _T=e=>{let{adDisplayController:t}=e;const i=Mo(t.pauseByOpenAbuseScreen),n=Mo(t.abuseDisplayStatus),{abuseParameters:r,playingState:o}=t,{abuseUrl:a,legalText:s}=Mo(r),l=function(e){return void 0===e&&(e=""),Jv+e.slice(e.lastIndexOf("/"))}(a),[d,c]=Eo(""),[u,h]=Eo("default"),[p,m]=Eo(!1),[A,v]=Eo(undefined),[g,_]=Eo("default"),[y,f]=Eo(undefined);bo((()=>{"play"===o.getValue()&&"hidden"!==n&&t.handleAbuseScreenCloseByResumeError()}),[n,o]);const S=vT(t),T=S?()=>{t.onAbuseCopyLinkToClipboardClick(S)}:void 0,E=Oo((()=>{m(!1),v(void 0),h("default")}),[m,v,h]),b=fy();let C="",w="";switch(A){case"complaint":C=b("ABUSE_PLACEHOLDER_TEXT_COMPLAINT"),w=b("ABUSE_PLACEHOLDER_HINT_COMPLAINT");break;case"hide":C=b("ABUSE_PLACEHOLDER_TEXT_HIDE"),w=b("ABUSE_PLACEHOLDER_HINT_HIDE")}return{isAbuseSupported:Boolean(a),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseDisplayStatus:n,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i,destroyCurrentViewer:t.destroyCurrentViewer,onAbuseCopyLinkToClipboardClick:T,abuseCustomReasonText:d,abuseCustomReasonTextHandler:c,abuseActiveDisplayType:u,setAbuseActiveDisplayType:h,resetAbuseVisualState:E,abuseSubmitType:A,setAbuseSubmitType:v,isAbuseSubmitted:p,setAbuseSubmitted:m,previousDisplayType:g,setPreviousDisplayType:_,abuseScaleRate:y,setAbuseScaleRate:f,legalText:s,abusePlaceholderHint:w,abusePlaceholderText:C,advertiserInfoUrl:l}},yT=()=>Io(gT),fT=So(!0);fT.Provider.displayName="ShowTitleAndBodyContext";const ST=e=>{const t=Mo(e);return void 0===(i=t)?"FALSE"!==Eu.getFlagValueAndActivateTestId("VAS_SHOW_TITLE_AND_BODY_AD_PARAMETER_DEFAULT"):i;var i},TT=So({isPackshotPlaying:!1});TT.Provider.displayName="SkinPackshotContext";const ET=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:Mo(t)}},bT=()=>Io(TT);var CT=e(2935),wT=e.n(CT);const PT=So(0);PT.Provider.displayName="AdAnimationProgressContext";const OT=e=>{let{skinAnimationProgress:t}=e;return Mo(t)},IT=()=>Io(PT),kT=So(NaN);kT.Provider.displayName="AdDurationContext";const DT=e=>{let{adDisplayController:t}=e;return Mo(t.adPodDuration)},NT=()=>Io(kT),RT=So({playingState:"idle",play:A,pause:A,isStarted:!1,isSlowStart:!1});RT.Provider.displayName="PlayingStateContext";const VT=e=>{let{adDisplayController:t}=e;const[i,n]=Eo(!1),r=Mo(t.playingState),o=Mo(t.adSlowStart);bo((()=>{const e=t.onAdStart.addOne((()=>{n(!0)}));return()=>{e()}}),[]);return{playingState:r,play:()=>{t.resume()},pause:()=>{t.pause()},isStarted:i,isSlowStart:o}},LT=()=>Io(RT),BT=(e,t)=>{const{bodyAnimationEnlargementDelay:i,bodyAnimationEnlargementDuration:n,bodyAnimationShowDelay:r,bodyAnimationShowDuration:o,showLineDelay:a}=t,{titleAnimationHideDelay:s,titleAnimationHideDuration:l,titleAnimationEnlargementNextLineDelay:d,titleSinglePartDuration:c,titleAnimationEnlargementDelay:u,titleAnimationEnlargementDuration:h,titleAnimationShowDelay:p}=e;return{"--ctat-animation-body-animation-enlargement-delay":i+"ms","--ctat-animation-body-animation-enlargement-duration":n+"ms","--ctat-animation-body-animation-show-delay":r+"ms","--ctat-animation-body-animation-show-duration":o+"ms","--ctat-animation-body-animation-show-line-delay":a+"ms","--ctat-animation-title-animation-show-delay":p+"ms","--ctat-animation-title-animation-enlargement-delay":u+"ms","--ctat-animation-title-animation-enlargement-duration":h+"ms","--ctat-animation-title-animation-hide-delay":s+"ms","--ctat-animation-title-animation-hide-duration":l+"ms","--ctat-animation-title-enlargement-next-line-delay":d+"ms","--ctat-animation-title-part-duration":c+"ms"}},xT=v((()=>{Cu.event({name:"CSSVariablesAreNotSupported",data:void 0})})),MT=e=>{let{onClickOutside:t}=e;Fo(wT());const{isAbuseSubmitted:i}=yT(),{isPackshotPlaying:n}=bT(),{themeEmptyParameters:r,clickThrough:o}=jy(),a=Io(fT),{title:s,body:l,clickUrl:d,targetUrl:c}=null!=r?r:{},u=Vy(),h=!1!==u.title&&!1!==u.body,p=!1!==u.actionButton,[m,A]=Eo(void 0),[v,g]=Eo(void 0),_=wo(null),y=wo(null),f=()=>{o({url:d,playerHandles:!0,clickSource:"SkinCallToActionText"})},{isReadyToAnimate:S,containerStyle:T,titleFontStyle:E,bodyFontStyle:b}=fs(m,v,_,y,p);return"undefined"!==typeof CSS&&CSS.supports("animation-delay","var(--time)")?h&&a?n||i?null:s||l?Qr("div",{className:CT.locals.CallToActionTextContainer},Qr("div",{className:xo(CT.locals.CallToActionText,{[CT.locals.CallToActionText__animated]:S}),style:T,onClick:t},Qr("div",{className:CT.locals.CallToActionText__overlay},s&&Qr("div",{className:CT.locals.CallToActionText__title,ref:_},Qr(vy,{url:c,onClick:f,pointerEvents:"none"},Qr(AT,{fontStyle:E,onSplitResult:e=>A(e)},s))),l&&Qr("div",{className:CT.locals.CallToActionText__body,ref:y},Qr(vy,{url:c,onClick:f,pointerEvents:"none"},Qr(AT,{fontStyle:b,onSplitResult:e=>g(e)},l)))))):null:null:(xT(),null)},UT=So({socialAdvertising:!1});UT.Provider.displayName="SocialAdvertisingContext";const FT=e=>{let{adDisplayController:t}=e;return{socialAdvertising:Mo(t.socialAdvertising)}},HT=()=>Io(UT);var zT=e(8866),jT=e.n(zT);const WT=e=>{let{isActive:t}=e;return Fo(jT()),Qr("svg",{className:xo(zT.locals.AbuseAnimationIcon,{[zT.locals.AbuseAnimationIcon_cross]:t}),width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},Qr("g",{className:zT.locals.AbuseAnimationIcon__lines},Qr("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:xo(zT.locals.AbuseAnimationIcon__line,zT.locals.AbuseAnimationIcon__line_left)}),Qr("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:xo(zT.locals.AbuseAnimationIcon__line,zT.locals.AbuseAnimationIcon__line_right)})),Qr("g",null,Qr("rect",{width:"24",height:"24",rx:"12","fill-opacity":"0.1"}),Qr("g",null,Qr("circle",{class:xo(zT.locals.AbuseAnimationIcon__dot,zT.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),Qr("circle",{class:zT.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),Qr("circle",{class:xo(zT.locals.AbuseAnimationIcon__dot,zT.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))},YT=e=>{let{width:t,height:i}=e;return t<=240||i<=280};var GT=e(8971),XT=e.n(GT);const KT=e=>{let{onClickHandler:t,isActive:i}=e;Fo(XT());const n=YT(D_());return Qr("div",{onClick:t,className:xo(GT.locals.AbuseBurgerButton,{[GT.locals.AbuseBurgerButton_inFullSize]:n})},Qr(WT,{isActive:i}))};var qT=e(2020),JT=e.n(qT);const ZT=e=>{let{children:t,isActive:i=!0,url:n,onClick:r,className:o,buttonClassName:a,contentClassName:s}=e;Fo(JT());const l=xo(qT.locals.Button,o,{[qT.locals.Button_active]:i,[qT.locals.Button_link]:Boolean(n)}),d=Qr("div",{className:qT.locals.Button__clickable},Qr("div",{className:a},Qr("div",{className:xo(qT.locals.Button__content,s)},t)));return n?Qr("a",{className:l,href:n,target:"_blank",onClick:r},d):Qr("div",{className:l,onClick:r},d)};var QT=e(2645),$T=e.n(QT);const eE=e=>{let{icon:t,className:i}=e;return t?Qr("div",{className:i},t):null},tE=e=>{let{buttonText:t,leftIcon:i,rightIcon:n,onClick:r,url:o}=e;Fo($T());const a=Oo((()=>{r&&r()}),[r]);return Qr(ZT,{className:QT.locals.AbuseOptionButton,url:o,buttonClassName:QT.locals.AbuseOptionButton__clickable,contentClassName:QT.locals.AbuseOptionButton__content,onClick:a},Qr(eE,{icon:i,className:QT.locals.AbuseOptionButton__leftIcon}),t,Qr(eE,{icon:n,className:QT.locals.AbuseOptionButton__rightIcon}))},iE=e=>{let{className:t}=e;return Qr(Ss,{className:t})},nE=e=>{let{className:t}=e;return Qr(Ts,{className:t})},rE=e=>"anotherReasonAd"===e?Qr(iE,null):"about"===e||"advertiserInfo"===e?Qr(nE,null):void 0;var oE=e(7486),aE=e.n(oE);const sE=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const n=fy();return Qr("div",{className:oE.locals.AbuseDisplay__complaintDisplay},Qr("div",{className:oE.locals.AbuseDisplay__text},n("ABUSE_IMPROVE_REASON_TEXT")),jc(_(t),(e=>Qr(tE,{key:e,onClick:i[e],rightIcon:rE(e),buttonText:t[e]}))))},lE=e=>{let{className:t}=e;return Qr(Es,{className:t})},dE=e=>{let{className:t}=e;return Qr(bs,{className:t})},cE=e=>{let{className:t}=e;return Qr(Cs,{className:t})},uE=e=>{let{className:t}=e;return Qr(ws,{className:t})},hE=e=>{switch(e){case"hide":return Qr(dE,null);case"complaint":return Qr(lE,null);case"about":return Qr(uE,null);case"advertiserInfo":return Qr(cE,null);default:return}},pE=["slotParameters"],mE=e=>{const{slotParameters:t}=e,i=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,pE),{document:n,window:r}=t;if(Cu.values({name:"ReportBug",data:Is({},i,{VSID:Mc}),values:{},sensors:{},probability:1}),!n||!r)return void Uc("Couldn't retrieve document or window from adDisplayController");const o=n.createElement("div");Zo(o,{backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",height:"100vh",width:"100vw",zIndex:""+(Number.parseInt(nT,10)-1)});const a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"}),l=new FileReader;l.readAsDataURL(s);const d=n.createElement("div");Zo(d,{width:"500px",height:"500px",padding:"18px",borderRadius:"20px",backgroundColor:"white"}),o.appendChild(d);const c=n.createElement("iframe");Zo(c,{height:"100%",width:"100%",backgroundColor:"white",border:"none"}),c.setAttribute("src","https://forms.yandex.ru/u/62d1740f9ff9566c865e6a59/?iframe=1&media-type=mobile&theme=compact-long-text-input&lang=ru");const u=e=>{let t;try{t=JSON.parse(e.data)}catch(h_){return void Uc("Report bug form receive non-valid JSON string")}t["iframe-height"]&&(d.style.height=t["iframe-height"]+"px")};r.addEventListener("message",u),l.onload=()=>{const t=l.result;c.onload=()=>{setTimeout((()=>{var t,r,o,a,s,l;null==(t=c.contentWindow)||t.postMessage("pong","*"),null==(r=c.contentWindow)||r.postMessage(JSON.stringify({message:"set-question-value",slug:"data",value:JSON.stringify(i)}),"*"),null==(o=c.contentWindow)||o.postMessage(JSON.stringify({message:"set-question-value",slug:"block_id",value:e.blockId}),"*"),null==(a=c.contentWindow)||a.postMessage(JSON.stringify({message:"set-question-value",slug:"banner_id",value:e.bannerId}),"*"),null==(s=c.contentWindow)||s.postMessage(JSON.stringify({message:"set-question-value",slug:"VSID",value:Mc}),"*"),null==(l=c.contentWindow)||l.postMessage(JSON.stringify({message:"set-question-value",slug:"url_page",value:te(n).location}),"*")}),0),setTimeout((()=>{var e;const i="meta_"+(new Date).toISOString()+".json";null==(e=c.contentWindow)||e.postMessage(JSON.stringify({message:"set-question-value",slug:"answer_files",value:{format:"dataUrl",dataUrl:t,name:i}}),"https://forms.yandex.ru")}),0)}},d.appendChild(c),n.body.appendChild(o);const h=()=>{o.remove(),r.removeEventListener("message",u),o.removeEventListener("click",h)};o.addEventListener("click",h)},AE=So({vast:void 0,blockId:"",bannerId:"",videoContentSize:void 0,clickUrl:void 0,slotParameters:{element:void 0,document:void 0,window:void 0,size:void 0,isHovered:void 0}});AE.Provider.displayName="ReportBugContext";const vE=e=>{var t,i,n,r,o;let{adDisplayController:a}=e;const s=Mo(a.currentVastAd),l=(null==(t=null!=(d=s)&&d.hasOwnProperty("vast")?null==d?void 0:d.vast:void 0)?void 0:t.xmlString)||"";var d;const{partnerId:c,impId:u}=Mo(a.adBlockIdentification),h=Mo(a.videoContentSize),p=vT(a);return{vast:l,blockId:"R-A-"+c+"-"+u,bannerId:null==s||null==(i=s.adParametersObject)||null==(n=i.AUCTION_DC_PARAMS)||null==(r=n.data_params)||null==(o=r.misc)?void 0:o.object_id,videoContentSize:h,clickUrl:p,slotParameters:a.slotParameters}},gE=e=>{let{buttonTexts:t,onClickHandlers:i,legalInfoText:n,isVisibleAbuse:r}=e;const{onAbuseCopyLinkToClipboardClick:o,advertiserInfoUrl:a}=yT(),s=fy(),{isStarted:l}=LT(),{vast:d,clickUrl:c,blockId:u,bannerId:h,videoContentSize:p,slotParameters:m}=Io(AE),A=D_(),[v,g]=Eo(!1);return bo((()=>{r||g(!1)}),[r]),Qr("div",null,n&&Qr("div",{className:oE.locals.AbuseDisplay__legal},n),jc(_(t),(e=>{let n;switch(e){case"advertiserInfo":n=a;break;case"about":n=qv;break;default:n=void 0}return Qr(tE,{key:e,url:n,onClick:i[e],leftIcon:hE(e),rightIcon:rE(e),buttonText:t[e]})})),o&&Qr(tE,{key:"copy",onClick:()=>{o&&(o(),g(!0))},buttonText:s(v?"ABUSE_COPIED":"ABUSE_COPY_TEXT"),leftIcon:Qr(Os,null)}),xc.VAS_UAAS_CONFIG.isInternalNetwork&&Qr(tE,{key:"report_bug",onClick:()=>{mE({vast:d,clickUrl:c,blockId:u,bannerId:h,videoContentSize:p,slotSize:A,slotParameters:m,wasVideoStarted:l})},buttonText:s("ABUSE_REPORT_PROBLEM"),leftIcon:Qr(Ps,null)}))},_E=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const n=fy();return Qr("div",{className:oE.locals.AbuseDisplay__hideDisplay},Qr("div",{className:oE.locals.AbuseDisplay__text},n("ABUSE_IMPROVE_REASON_TEXT")),jc(_(t),(e=>Qr(tE,{key:e,onClick:i[e],rightIcon:rE(e),buttonText:t[e]}))))},yE=e=>{let{className:t}=e;return Qr(ks,{className:t})},fE=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:n,abuseCustomReasonTextHandler:r,setAbuseActiveDisplayType:o}=yT(),a=fy(),s=Oo((()=>{o(t)}),[t]);return Qr("div",{className:oE.locals.AbuseDisplay__customReasonDisplay},Qr("div",{className:oE.locals.AbuseDisplay__customReasonDisplayHeader},Qr("div",{className:oE.locals.AbuseDisplay__arrowLeftIcon,onClick:s},Qr(yE,null)),Qr("div",{className:oE.locals.AbuseDisplay__hint},a("ABUSE_OPTION_ANOTHER_REASON"))),Qr("div",{className:oE.locals.AbuseDisplay__messageBox},Qr("textarea",{className:oE.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:a("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&r(t)},value:n}),Qr(ZT,{className:oE.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:oE.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:n})},a("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},SE=e=>{let{isVisibleAbuse:t,socialAdvertising:i}=e;Fo(aE());const{abuseVariantChooseHandler:n,abuseActiveDisplayType:r,setAbuseActiveDisplayType:o,isAbuseSubmitted:a,setAbuseSubmitted:s,setAbuseSubmitType:l,previousDisplayType:d,destroyCurrentViewer:c,setPreviousDisplayType:u,legalText:h,resetAbuseVisualState:p}=yT(),m=D_(),A=YT(m),[v,g]=Eo(null),y={current:null};bo((()=>{!t&&a&&(p(),c())}),[a,t,p]),bo((()=>{if(A)return;const e=y.current;e&&g(e.offsetHeight+"px")}),[r,A]),bo((()=>{A&&g(null)}),[A]);const f=Po((()=>ue(Xv,((e,t)=>()=>{if(u(r),"hide"===t){if(i)return void n(t);o("hide"),l("hide"),s(!0),n(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0})}else if("complaint"===t)o("complaint"),l("complaint"),s(!0),n(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0});else if("anotherReasonAd"===t)o("message");else{const e="about"===t||"advertiserInfo"===t;p(),n(t,{noDestroyOnClick:e})}}))),[n,r,i]),S={height:null!=v?v:""},T=fy(),E=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),advertiserInfo:e("ABUSE_OPTION_ADVERTISER_INFO"),about:e("ABUSE_OPTION_ABOUT")}))(T),b=(e=>ec(_(Wv),((t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t}),{}))(T),C=((e,t)=>t?ec(_(Gv),((t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t}),{}):ec(_(Yv),((t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"politicalAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t}),{}))(T,i);return Qr("div",{className:xo(oE.locals.AbuseDisplay,{[oE.locals.AbuseDisplay_fullSize]:A,[oE.locals.AbuseDisplay_visible]:t}),style:S},Qr("div",{className:oE.locals.AbuseDisplay__content,ref:y},"default"===r?Qr(gE,{isVisibleAbuse:t,legalInfoText:h,buttonTexts:E,onClickHandlers:f}):null,"hide"===r?Qr(_E,{buttonTexts:b,onClickHandlers:f}):null,"complaint"===r?Qr(sE,{buttonTexts:C,onClickHandlers:f}):null,"message"===r?Qr(fE,{onClickHandler:n,previousDisplayType:d}):null))};var TE=e(8561),EE=e.n(TE);const bE=()=>{Fo(EE());const{isAbuseSubmitted:e,abusePlaceholderText:t,abusePlaceholderHint:i}=yT(),{width:n}=D_();if(!e)return null;const r=n<=640;return Qr("div",{className:xo(TE.locals.AbusePlaceholder,{[TE.locals.AbusePlaceholder_place_left]:r,[TE.locals.AbusePlaceholder_place_center]:!r})},Qr("div",{className:TE.locals.AbusePlaceholder__container},Qr("div",{className:TE.locals.AbusePlaceholder__text},t),Qr("div",{className:TE.locals.AbusePlaceholder__hint},i)))};var CE=e(1155),wE=e.n(CE);const PE=()=>{Fo(wE());const{abuseDisplayStatus:e,isAbuseSupported:t}=yT(),i=Vy(),n=xS(i),r="selection"===e,{abuseScreenCloseHandler:o,abuseButtonClickHandler:a}=yT(),{socialAdvertising:s}=HT();if(!n)return null;if(!t)return null;return Qr("div",{className:CE.locals.AbuseContainer},Qr(bE,null),Qr(KT,{onClickHandler:()=>r?o():a(),isActive:r}),Qr(SE,{isVisibleAbuse:r,socialAdvertising:s}))},OE=So({creativeType:void 0});OE.Provider.displayName="CreativeTypeContext";const IE=e=>{let{adDisplayController:t}=e;return{creativeType:Mo(t.creativeType)}},kE=()=>Io(OE);var DE=e(4115),NE=e.n(DE);kc({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK"});const RE=e=>{let{className:t}=e;return Fo(NE()),Qr(Ds,{className:xo(DE.locals.SpinnerIcon__css_animated,t)})},VE=RE;var LE=e(9130),BE=e.n(LE);const xE=e=>{let{className:t}=e;return Fo(BE()),Qr(VE,{className:xo(LE.locals.Spinner,t)})},ME=So("middle");ME.Provider.displayName="SkinSizeNameContext";const UE=()=>Io(ME),FE=e=>{let{className:t}=e;return Qr(Ns,{className:t})};var HE=e(7276),zE=e.n(HE);const jE=e=>{let{onClick:t,size:i}=e;Fo(zE());const n=xo(HE.locals.CirclePlayButton,{[HE.locals.CirclePlayButton_fullSize]:"small"!==i}),r=xo(HE.locals.CirclePlayButton__icon,{[HE.locals.CirclePlayButton__icon_fullSize]:"small"!==i});return Qr(ZT,{className:n,contentClassName:HE.locals.CirclePlayButton__basecontent,onClick:t},Qr(FE,{className:r}))},WE=()=>{const e=UE(),{play:t}=LT();return Qr(jE,{size:e,onClick:()=>{Cu.event({name:"SkinPlayByCircleButton",data:{},probability:1}),t()}})};var YE=e(7012),GE=e.n(YE);const XE=()=>{Fo(GE());const{playingState:e,isStarted:t,isSlowStart:i}=LT(),{play:n,loader:r}=Vy(),{isAbuseSubmitted:o,abuseDisplayStatus:a}=yT(),{isPackshotPlaying:s}=bT(),l=YT(D_()),{creativeType:d}=kE();if(o)return null;const c="pause"===e,u=c&&!1!==n&&!("selection"===a&&l)&&!s&&!("survey"===d),h=!u&&!c&&!t&&i&&!1!==r;return Qr("div",{className:YE.locals.CenterControls},u&&Qr(WE,null),h&&Qr(xE,null))};var KE=e(5050),qE=e.n(KE);const JE=e=>{let{hidden:t}=e;return Fo(qE()),Qr("div",{className:xo(KE.locals.ControlsBottomShadow,t&&KE.locals.ControlsBottomShadow_hidden)})};var ZE=e(5817),QE=e.n(ZE);const $E=e=>{let{size:t,tooltipText:i,label:n,dspLabel:r,ageRestriction:o,surveyQuestionNumber:a,surveyQuestionCount:s,domain:l,onClick:d,theme:c}=e;Fo(QE());const u=fy();if(!f(n)&&!f(o))return null;const h=f(n),p=void 0!==a&&s&&s>2;return Qr("div",{className:xo(ZE.locals.AdLabel,{[ZE.locals.AdLabel_fullSize]:"small"!==t,[ZE.locals.AdLabel_clickable]:h,[ZE.locals.AdLabel_survey]:Pe(a)&&Pe(s),[ZE.locals.AdLabel_light]:"light"===c,[ZE.locals.AdLabel_dark]:"dark"===c}),title:f(i)?i:void 0,onClick:h?d:void 0,"data-testid":"adLabel"},n,r?Qr(eo,null,f(n)&&Qr("span",{className:ZE.locals.AdLabel__delimiter},"|"),Qr("span",null,r)):null,o?Qr(eo,null,f(n)&&Qr("span",{className:ZE.locals.AdLabel__delimiter},"|"),Qr("span",{className:ZE.locals.AdLabel__ageLabel},o)):null,p?Qr(eo,null,f(n)&&Qr("span",{className:ZE.locals.AdLabel__delimiter},"|"),Qr("span",null,a," ",u("OF")," ",s," ",u("SURVEY_AD_LABEL_OF_QUESTIONS"))):null,l?Qr(eo,null,f(n)&&Qr("span",{className:ZE.locals.AdLabel__delimiter},"|"),Qr("span",{className:ZE.locals.AdLabel__domain},l)):null)};var eb=e(3614),tb=e.n(eb);const ib=e=>{let{onClick:t}=e;Fo(tb());const i=Vy(),n=fy()("SOCIAL_ADVERTISING_AD_LABEL");return!1===i.socialAdLabel?null:Qr("a",{className:eb.locals.SocialAdvertisingAdLabel,onClick:t},n)},nb=So({adSystemType:void 0,dspLabel:void 0,openAdSystemWebsite:A});nb.Provider.displayName="AdSystemContext";const rb=e=>{let{adDisplayController:t}=e;const i=Mo(t.currentVastAd);return{adSystemType:Mo(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite,dspLabel:null==i?void 0:i.dspLabel}},ob=So(void 0);ob.Provider.displayName="VideoSlotClickUrlContext";const ab=()=>Io(ob),sb=So({domain:void 0});sb.Provider.displayName="AdTitleContext";const lb=e=>{var t;let{adDisplayController:i}=e;return{domain:null==(t=Mo(i.adTitleParameters))?void 0:t.domain}},db=()=>{const e=fy(),{socialAdvertising:t}=HT(),{openAdSystemWebsite:i,dspLabel:n}=Io(nb),{clickThrough:r,clickUrl:o}=tf(),a=ab(),{domain:s}=Io(sb),{creativeType:l}=kE(),d="survey"===l;let c=e("AD_TITLE");return d?c=e("SURVEY_AD_LABEL"):t&&(c=e("SOCIAL_ADVERTISING_AD_LABEL")),{onClick:()=>{if(t)return i();if(d)return r({url:"https://surveys.yandex.ru/landing/?from=direct_adlabel&utm_source=direct_adlabel",playerHandles:!0,clickSource:"SurveyAdLabel"});return r({url:null!=o?o:a,playerHandles:!0,clickSource:"SkinAdLabel"})},label:c,dspLabel:n,tooltipText:c,domain:s}};var cb=e(9843),ub=e.n(cb);const hb=So({containerElement:void 0,setContainerElement:A});hb.Provider.displayName="TooltipContainerContext";const pb=e=>{let{containerElement:t,setContainerElement:i}=e;return{containerElement:Mo(t),setContainerElement:i}},mb=()=>Io(hb),Ab=So({tooltipContent:void 0,setTooltipContent:A});Ab.Provider.displayName="TooltipContentContext";const vb=e=>{let{tooltipContent:t,setTooltipContent:i}=e;return{tooltipContent:Mo(t),setTooltipContent:i}},gb=()=>Io(Ab),_b=So(void 0),yb=e=>{let{bannerFlags:t}=e;return Mo(t)},fb=()=>Io(_b),Sb=e=>{var t,i;let{isSmall:n}=e;Fo(ub());const r=fy(),o=Vy(),a=null!=(t=null==(i=fb())?void 0:i.businessUnit)&&t,s=wo(null);if(Vs({targetElementRef:s,content:r("BU_LABEL_TOOLTIP_TEXT"),arrowPosition:"top"}),!1===o.businessUnitAdLabel)return null;if(!a)return null;return Qr("div",{ref:s,className:xo(cb.locals.BusinessUnitAdLabel,{[cb.locals.BusinessUnitAdLabel_small]:n})},Qr(Rs,null))};var Tb=e(7769),Eb=e.n(Tb);const bb=()=>{Fo(Eb());const e=Vy(),{playingState:t}=LT(),i=UE(),{socialAdvertising:n}=HT(),{themeEmptyParameters:r}=jy(),{ageRestriction:o}=r||{},a=!1!==e.ageLabel,{tooltipText:s,label:l,domain:d,onClick:c,dspLabel:u}=db(),h=Eu.getFlagValueAndActivateTestId("VAS_NEW_AD_LABEL_THEME");let p;if(n)p=Qr(ib,{onClick:c});else{p=!1!==e.adLabel&&"idle"!==t&&Qr($E,{size:i,label:l,tooltipText:s,dspLabel:u,ageRestriction:a?o:void 0,domain:d,onClick:c,theme:"light"===h||"dark"===h?h:void 0})}return Qr("div",{class:Tb.locals.AdLabelsPanel},p,Qr(Sb,{isSmall:"small"===i}))};var Cb=e(4499),wb=e.n(Cb);const Pb=()=>(Fo(wb()),Qr("div",{className:Cb.locals.TopControls},Qr(bb,null)));var Ob=e(8183),Ib=e.n(Ob),kb=e(3030),Db=e.n(kb);const Nb=So({isTouchScreenDevice:!1});Nb.Provider.displayName="IsTouchScreenDeviceContext";const Rb=e=>{let{adDisplayController:t}=e;return{isTouchScreenDevice:se(t.slotParameters.window)}},Vb=()=>Io(Nb),Lb=e=>{let{isHidden:t}=e;Fo(Db());const i=IT(),{isTouchScreenDevice:n}=Vb();return Qr("div",{className:xo(kb.locals.PlayerLikeTimeline,t&&kb.locals.PlayerLikeTimeline_hidden)},Qr("div",{className:kb.locals.PlayerLikeTimeline__innerContainer},Qr("div",{className:xo(kb.locals.PlayerLikeTimeline__backgroundTrack,n&&kb.locals.PlayerLikeTimeline__backgroundTrack_mobile)},Qr("div",{className:kb.locals.PlayerLikeTimeline__background}),Qr("div",{style:{transform:"scaleX("+i+") translateX(0%)"},className:kb.locals.PlayerLikeTimeline__timeLine}))))};var Bb=e(8409),xb=e.n(Bb);const Mb=e=>{let{icon:t,onClick:i,className:n,disabled:r=!1}=e;return Fo(xb()),Qr("div",{className:xo(Bb.locals.ControlPanelButton,n,r&&Bb.locals.ControlPanelButton_disabled),onClick:r?void 0:i},t)},Ub=e=>{let{className:t}=e;const{playingState:i,play:n,pause:r}=LT();return Qr(Mb,{className:t,onClick:"pause"===i?n:r,icon:Qr("pause"===i?Bs:Ls,null)})},Fb=So({volumeStatus:"unknown",volume:0,setVolume:A,setMuted:A});Fb.Provider.displayName="VolumeContext";const Hb=e=>{let{adDisplayController:t}=e;return{volumeStatus:Mo(t.volumeStatus),volume:Mo(t.adVolume),setVolume:e=>t.setVolume(e),setMuted:e=>t.setMuted(e)}},zb=()=>Io(Fb);var jb=e(6535),Wb=e.n(jb);const Yb=e=>{let{variant:t="slider",disabled:i=!1}=e;Fo(Wb());const{volumeStatus:n,setMuted:r,setVolume:o,volume:a}=zb(),s="unmuted"===n,[l,d]=Eo(!1),[c,u]=Eo(!1),h="slider"===t&&!i,p=h&&(c||l),m=wo(null);return Qr("div",{onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},className:xo(jb.locals.ControlPanelSoundButton,p&&jb.locals.ControlPanelSoundButton_opened)},Qr(Mb,{onClick:()=>{r(s)},disabled:i,icon:Qr(Gb,{volume:a})}),h?Qr("div",{className:jb.locals.ControlPanelSoundButton__SliderContainer,onMouseDown:e=>{if(!m.current)return;u(!0);const{left:t,width:i}=m.current.getBoundingClientRect(),n=m.current.ownerDocument,r=e=>{const n=Tn((e.clientX-t)/i,0,1);o(n)},a=()=>{u(!1),null==n||n.removeEventListener("mousemove",r),null==n||n.removeEventListener("mouseup",a)};n.addEventListener("mousemove",r),n.addEventListener("mouseup",a),r(e)},ref:m},Qr("div",{className:jb.locals.ControlPanelSoundButton__SliderContainerLiner}),Qr("div",{className:jb.locals.ControlPanelSoundButton__SliderContainerThumbContainer},Qr("div",{className:jb.locals.ControlPanelSoundButton__SliderContainerThumb,style:{left:Math.round(100*a)+"%"}}))):null)},Gb=e=>{let{volume:t}=e;return Qr(0===t?Us:t<.24?xs:t<.5?Ms:Fs,null)};var Xb=e(9997),Kb=e.n(Xb);const qb=e=>{let{children:t,disabled:i,tag:n}=e;Fo(Kb());const r=f(n)?()=>{Cu.values({name:"NbkButtonClicked",sensors:{tag:n},probability:1})}:void 0;return Qr("button",{className:xo(Xb.locals.PlayerButtonMimic,i&&Xb.locals.PlayerButtonMimic_disabled),onClick:r,type:"button"},t)};var Jb=e(6515),Zb=e.n(Jb);const Qb=e=>{let{isHidden:t}=e;Fo(Zb());const{width:i}=D_(),{isTouchScreenDevice:n}=Vb(),r=Vy(),{volumeStatus:o}=zb(),{playingState:a}=LT(),s=Ys({controlsVisibility:r,volumeStatus:o,playingState:a});return Qr("div",{className:xo(Jb.locals.PlayerLikeControlLine,t&&Jb.locals.PlayerLikeControlLine_hidden)},Qr("div",{className:Jb.locals.PlayerLikeControlLine__leftButtons},Qr(Ub,null),Qr(Yb,{variant:n?"toggle":"slider",disabled:!s})),Qr("div",{className:Jb.locals.PlayerLikeControlLine__rightButtons},i>330?Qr(qb,{tag:"externalPlayback",disabled:!0},Qr(Hs,null)):null,i>440?Qr(qb,{tag:"report"},Qr(zs,null)):null,Qr(qb,{tag:"settings",disabled:!0},Qr(js,null)),Qr(qb,{tag:"fullscreen"},Qr(Ws,null))))};var $b=e(6413),eC=e.n($b);const tC=e=>{Fo(eC());const t=fy(),{themeEmptyParameters:i}=jy(),n=D_(),{clickUrl:r,clickThrough:o}=tf(),{greenUrl:a,targetUrl:s}=i||{},l=Oo((()=>{o({url:r,playerHandles:!0,clickSource:"SkinActionButton"})}),[o,r]),{showLabelOnButton:d,faviconSrc:c}=e,u=t("THEME_EMPTY_ACTION_BUTTON_LABEL"),h=t("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),p=null!=a?a:h,m=n.width>=260;return Qr(vy,{url:s,onClick:l},Qr("div",{className:$b.locals.ActionPanelSmall__clickableContainer},Qr("div",{className:$b.locals.ActionPanelSmall},c?Qr("div",{className:$b.locals.ActionPanelSmall__favIconContainer},Qr("img",{className:$b.locals.ActionPanelSmall__favIcon,src:c,alt:"favicon"})):void 0,m&&Qr("span",{className:$b.locals.ActionPanelSmall__label},p),Qr("div",{style:{paddingRight:4}},Qr(Cy,{size:"small"},d?u:void 0)))))},iC=e=>{let{compactMode:t}=e;const{themeEmptyParameters:i}=jy(),{clickThrough:n,clickUrl:r}=tf(),{greenUrl:o,label:a,targetUrl:s}=i||{},l=By(),d=Oo((()=>{n({url:r,playerHandles:!0,clickSource:"SkinActionButton"})}),[n,r]);return i?r?t?Qr(tC,{showLabelOnButton:!0,faviconSrc:l}):Qr(Dy,{title:void 0,greenUrl:o,buttonLabel:a,targetUrl:s,onClickThrough:d,faviconSrc:l}):(Cu.event({name:"ThemeEmpty_noClickUrl",data:{}}),null):null},nC=So(Zp);nC.Provider.displayName="ContentAfterAdPodContext";const rC=e=>{let{className:t}=e;return Qr(Gs,{className:t})};var oC=e(3765),aC=e.n(oC);const sC=e=>{let{className:t}=e;Fo(aC());const{skipCallback:i,timeToSkip:n}=Fy(),r=D_(),o=fy(),a=Vy(),s=Io(nC),l=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return b(String(t),2,"0")}(n);if(!1===a.skip)return null;if(n===xy)return null;const d=o("SKIP"),c=0===n,u=xo(t,oC.locals.SkipButton__clickable,c&&oC.locals.SkipButton_active),h=r.width>320;let p;return p="startVideo"===s.type||"continueVideo"===s.type?s.poster:[],Qr("div",{className:u,onClick:i},Qr("div",{className:oC.locals.SkipButton},h&&Qr(dC,{skipTitle:d,image:p}),Qr("div",{className:oC.locals.SkipButton__contentRight},Qr(lC,{countdownString:l}))))},lC=e=>{let{countdownString:t}=e;if(!t)return Qr(rC,{className:oC.locals.SkipButton__icon});const[i,n]=t;return Qr("div",{className:oC.locals.SkipButton__timeToSkipString},Qr("span",{className:oC.locals.SkipButton__timeToSkipString__leftDigit},i),Qr("span",{className:oC.locals.SkipButton__timeToSkipString__rightDigit},n))},dC=e=>{let{skipTitle:t,image:i}=e;return Qr("div",{className:oC.locals.SkipButton__contentLeft},i.length>0?Qr("img",{src:i[0].url,className:oC.locals.SkipButton__leftImage}):Qr("div",{className:oC.locals.SkipButton__skipText},t))};var cC=e(8237),uC=e.n(cC);const hC=So({ecomShopState:{ecomShop:void 0,isVisible:!1},setShopVisibility:A}),pC=()=>Io(hC),mC=So({skinVariant:"default"});mC.Provider.displayName="SkinVariantContext";const AC=e=>{let{skinVariant:t}=e;return{skinVariant:t}},vC=()=>Io(mC),gC=So({shouldShowSkipButton:!0});gC.Provider.displayName="SkipButtonContext";const _C=e=>{let{adDisplayController:t}=e;return Mo(t.shouldShowSkipButton)},yC=()=>Io(gC),fC=Math.max(.1,.05);var SC=e(5655),TC=e.n(SC);const EC=e=>{Fo(TC());const{setShopVisibility:t,ecomShopState:i}=pC();if(void 0===i||void 0===i.ecomShop)return null;const{isVisible:n}=i,{buttonText:r,type:o}=i.ecomShop,a=fy(),s=o===mm?qs:Zs,l=o===mm?Js:Qs,d=a("ECOM_PRODUCTS_BUTTON_SHOW"),c=a("ECOM_PRODUCTS_BUTTON_HIDE"),u=Po((()=>[r,d,c].sort(((e,t)=>t.length-e.length))[0]),[r,d,c]);return Qr("button",{type:"button",className:SC.locals.EcomShopSkinButton,onClick:()=>{t(!n)}},Qr(n?l:s,{className:SC.locals.EcomShopSkinButton__ShowHideIcon}),!e.compactMode&&Qr("div",{className:SC.locals.EcomShopSkinButton__Text},Qr("div",{className:SC.locals.EcomShopSkinButton__TextMainLine},r),Qr("div",{className:SC.locals.EcomShopSkinButton__TextDetailsLine},Qr("div",{className:SC.locals.EcomShopSkinButton__Placeholder},u),Qr("div",{className:SC.locals.EcomShopSkinButton__TextDetailsContent},n?c:d))))},bC=e=>{let{showSkipButton:t}=e;Fo(uC());const{themeEmptyParameters:i}=jy(),n=Vy(),r=D_(),o=UE(),{isPackshotPlaying:a}=bT(),s=!1!==n.actionButton&&void 0!==i&&!a;let l;l=t&&!1!==n.skip?r.width<750:"small"===o;const d=xo(cC.locals.CallToActionControls,l?cC.locals.CallToActionControls_twoLines:cC.locals.CallToActionControls_oneLine),c=r.width<uS||r.height<300,{fontSize:u,skipButtonFontSize:h,isProductsButtonVisible:p}=Ks(),m={"--ctalc-font-size":u,"--ctalc-skip-button-font-size":h},{shouldUseNewSkin:A}=hT();return Qr("div",{className:d,style:A&&"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_LIFT_BUTTONS_UP_IN_NEW_SKIN")||"PLAYER_LIKE_SKIN"===Eu.getFlagValueAndActivateTestId("VAS_NEW_SKIN_VARIANT")?$s({},m,{position:"absolute",left:0,right:0,bottom:"small"===o?58:66}):m},s&&Qr("div",{className:cC.locals.CallToActionControls_SkinActionPanel},Qr(iC,{compactMode:c})),p&&Qr("div",{className:cC.locals.CallToActionControls_SkinProductsPackshotButton},Qr(EC,{compactMode:c})),t&&Qr(sC,{className:cC.locals.CallToActionControls__SkipButton}))},CC=e=>{let{hidden:t}=e;Fo(Ib());const{shouldShowSkipButton:i}=yC();return Qr("div",{className:Ob.locals.PlayerLikeBottomControls},Qr(bC,{showSkipButton:i}),Qr(Lb,{isHidden:t}),Qr(Qb,{isHidden:t}))};var wC=e(7121),PC=e.n(wC),OC=e(6479),IC=e.n(OC);const kC=180,DC=()=>{Fo(IC());const e=D_(),{tooltipContent:t}=gb();if(void 0===t)return null;const{content:i,arrowPosition:n,targetElementCoordinates:r,onClickClose:o}=t,a=r.top+r.height,s={};"top"===n?s.top=a+15:s.bottom=r.winHeight-a-15;const l=r.left+r.width/2;if(e.width<192)s.left=6,s.right=6;else{const t=6,i=e.width-kC-6,n=l-90+6;s.left=Tn(n,t,i),s.width=kC}const d={};if("top"===n){d.top=-8;const e=6,t=150,i=l-s.left-12;d.left=Tn(i,e,t)}return Qr("div",{className:OC.locals.Tooltip,style:s},Qr("div",{className:OC.locals.Tooltip__body},Qr("div",{className:OC.locals.Tooltip__text},i),o&&Qr("div",{className:OC.locals.Tooltip__closeContainer,onClick:o},Qr(tl,null))),Qr("div",{className:OC.locals.Tooltip__arrow,style:d},Qr(el,null)))},NC=()=>{Fo(PC());const{setContainerElement:e}=mb();return Qr("div",{ref:t=>{t&&e(t)},className:wC.locals.TooltipContainer},Qr(DC,null))},RC=So({isHovered:!1,userHasInteracted:!1});RC.Provider.displayName="SlotHoverContext";const VC=e=>{const t=Mo(e),[i,n]=Eo(t);return bo((()=>{t&&n(!0)}),[t]),{isHovered:t,userHasInteracted:i}},LC=()=>Io(RC),BC=()=>{const{shouldHideControls:e}=(()=>{const{isHovered:e}=LC(),{isTouchScreenDevice:t}=Vb(),i=t,[n,r]=Eo(i),o=wo(null),a=IT(),s=NT(),l=_e(s)?a*s:0,d=!!t||3<l,{playingState:c}=LT(),u="pause"===c;return bo((()=>{if(d){if(!u)return e?(null!==o.current&&clearTimeout(o.current),void r(!1)):(o.current=setTimeout((()=>{r(!0)}),500),()=>{null!==o.current&&clearTimeout(o.current)});r(!1)}}),[e,d,u]),{shouldHideControls:n}})();return Qr(eo,null,Qr(JE,{hidden:e}),Qr(MT,null),Qr(Pb,null),Qr(CC,{hidden:e}),Qr(PE,null),Qr(NC,null))};var xC=e(8315),MC=e.n(xC);const UC=e=>{let{shouldPauseOnCreativeClick:t}=e;Fo(MC());const{play:i}=LT(),n=(()=>{const{playingState:e,isStarted:t,isSlowStart:i}=LT(),{play:n,loader:r}=Vy(),{isAbuseSubmitted:o,abuseDisplayStatus:a}=yT(),{isPackshotPlaying:s}=bT(),l=YT(D_());if(o)return"none";const d="pause"===e,c=d&&!1!==n&&!("selection"===a&&l)&&!s;return c||d||t||!i||!1===r?c?"paused":"none":"loading"})();return"loading"===n?Qr("div",{className:xC.locals.OverlayLayer__spinnerContainer},Qr(xE,null)):t&&"paused"===n?Qr("div",{className:xC.locals.OverlayLayer__playButtonContainer,onClick:i},Qr(Bs,null)):null};var FC=e(1796),HC=e.n(FC);const zC=e=>{let{className:t,fill:i}=e;return Fo(HC()),Qr(il,{className:xo(FC.locals.MuteIcon,{[FC.locals.MuteIcon_Fill]:i},t)})};var jC=e(1197),WC=e.n(jC);const YC=e=>{let{className:t,fill:i}=e;return Fo(WC()),Qr(nl,{className:xo(jC.locals.UnmuteIcon,{[jC.locals.UnmuteIcon_Fill]:i},t)})},GC=()=>{const{skinVariant:e}=vC();return"videoInCombo"===e&&"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_EXP_NEW_SKIN_OUTSTREAM_FIXES")};var XC=e(8453),KC=e.n(XC);const qC=e=>{let{style:t}=e;const{playingState:i}=LT(),n=Vy();Fo(KC());const{volumeStatus:r,setMuted:o}=zb(),a=GC(),s="unmuted"===r;if(!Ys({playingState:i,volumeStatus:r,controlsVisibility:n}))return null;const{width:l}=D_(),d=(e=>{const t=e<=uS?1:e/uS;return{width:28*t,height:28*t}})(l);return Qr("div",{style:rl({},t,a?{"--mute-unmute-responsive-width":d.width+"px","--mute-unmute-responsive-height":d.height+"px"}:{}),className:xo(XC.locals.MuteUnmuteButtonWithoutBackground,{[XC.locals.MuteUnmuteButtonWithoutBackground_Size_Responsive]:a}),onClick:s?()=>{o(!0)}:()=>{o(!1)}},Qr(s?zC:YC,{fill:a}))};var JC=e(9931),ZC=e.n(JC);const QC=()=>{Fo(ZC());const e=Vy(),t="small"===UE(),{creativeType:i}=kE(),n=!1!==e.play&&t&&"themeEmpty"!==i&&"survey"!==i,r="RIGHT"===Eu.getFlagValueAndActivateTestId("VAS_NEW_SKIN_TOP_BUTTONS_POSITION"),o=GC();return Qr(eo,null,Qr("div",{className:JC.locals.TopControlsLayer},(t||o)&&Qr(qC,{style:{padding:4,marginLeft:r&&!o?"auto":""}}),n&&Qr(Ub,{className:JC.locals.TopControlsLayer__playButton})))};var $C=e(1209),ew=e.n($C);const tw=e=>{let{onClick:t}=e;return Fo(ew()),t?Qr("div",{className:$C.locals.UnderlyingLayer,onClick:t}):null};var iw=e(6719),nw=e.n(iw),rw=e(4659),ow=e.n(rw);const aw=e=>{let{text:t,textLength:i,viewBox:n}=e;return Fo(ow()),Qr("svg",{className:xo(rw.locals.DisclaimerSvg),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:n},Qr("text",{className:rw.locals.DisclaimerSvg_text,lengthAdjust:"spacing",textLength:i,y:"85%"},t))};var sw=e(550),lw=e.n(sw);const dw=((e,t,i,n)=>{const r=((e,t,i,n)=>{const r=(t-n)/(e-i),o=t-r*e;return e=>r*e+o})(e,t,i,n),o=(a=t,s=n,e=>Math.max(a,Math.min(e,s)));var a,s;return e=>{const t=r(e);return o(t)}})(100,5,600,330),cw=e=>{let{text:t,heightPortion:i}=e;const n=D_();Fo(lw());const{textLength:r,viewBox:o,fontSize:a}=function(e,t){const{width:i,height:n}=e,r=n,o=Math.min(r,dw(i)),a=Math.max(i,t.length*o/1.2);return{fontSize:o,textLength:a,textPositionOffset:(r+o/2)/2,viewBox:"0 0 "+a+" "+r}}({width:n.width,height:n.height*i},t);return Qr("div",{className:sw.locals.Disclaimer,style:{height:n.height*i,fontSize:a}},Qr(aw,{text:t,textLength:r,viewBox:o}))};var uw=e(873),hw=e.n(uw),pw=e(4647),mw=e.n(pw);const Aw=()=>{Fo(mw());const{label:e,dspLabel:t,tooltipText:i,onClick:n,domain:r}=db();return!1===Vy().adLabel?null:Qr("div",{className:pw.locals.BackpackAdLabel,title:i,onClick:n},e,t&&" | "+t,r&&" | "+r)},vw=So(void 0);vw.Provider.displayName="AdSequenceContext";const gw=()=>{const e=Io(vw),t=Vy(),i=fy(),n=GC();return e&&!1!==t.backpackAdSequence?n&&e.count<=1?null:Qr("span",{"data-ad-sequence":!0},e.index+1," ",i("OF")," ",e.count):null},_w=()=>{const{themeEmptyParameters:e}=jy(),t=Vy(),{ageRestriction:i}=e||{};return!1!==t.ageLabel&&f(i)?Qr("span",null,i):null},yw=()=>{var e,t;const i=null!=(e=null==(t=fb())?void 0:t.businessUnit)&&e,n=fy()("BU_LABEL_TOOLTIP_TEXT");return!1===Vy().businessUnitAdLabel?null:i?Qr("span",null,n):null},fw=()=>{Fo(hw());const e=UE(),{supportsFullscreen:t}=hT(),{adLabel:i,businessUnitAdLabel:n,ageLabel:r,backpackAdSequence:o}=Vy(),a="TRUE"===Eu.getFlagValueAndActivateTestId("VAS_NEW_SKIN_USE_OLD_AD_LABEL"),s=(!1!==i||!1!==n||!1!==r||!1!==o)&&!a;return s||t?Qr("div",{className:uw.locals.Backpack},s&&Qr("div",{className:uw.locals.Backpack_labels},Qr(Aw,null),Qr(gw,null),Qr(_w,null),Qr(yw,null)),"small"===e&&t&&Qr("div",{className:uw.locals.Backpack_buttons},Qr(Mb,{icon:Qr(ol,null)}))):null};var Sw=e(2219),Tw=e.n(Sw),Ew=e(8265),bw=e.n(Ew);const Cw=e=>{let{className:t}=e;Fo(bw());const{playingState:i}=LT(),{volumeStatus:n}=zb(),{supportsFullscreen:r}=hT(),o=Vy(),{isTouchScreenDevice:a}=Vb(),s=Ys({controlsVisibility:o,volumeStatus:n,playingState:i}),l=!1!==o.play;return s||r||l?Qr("div",{className:xo(Ew.locals.ControlPanelControls,t)},l&&Qr(Ub,null),s&&Qr(Yb,{variant:a?"toggle":"slider"}),r&&Qr(Mb,{icon:Qr(ol,null),className:Ew.locals.ControlPanelControls__fullscreenButton})):null};var ww=e(9740),Pw=e.n(ww);const Ow=e=>{let{className:t}=e;Fo(Pw());const i=100*IT();return!1!==Vy().timeline?Qr("div",{className:xo(ww.locals.ControlPanelTimeLine,t)},Qr("div",{className:ww.locals.ControlPanelTimeLine_bar,style:{width:i+"%"}})):null},Iw=()=>{Fo(Tw());const{creativeType:e}=kE(),t="survey"===e,i="small"===UE(),{height:n}=D_(),r=t?0:n*fC,o=(()=>{const e="TRUE"===Eu.getFlagValueAndActivateTestId("VAS_NEW_SKIN_DELAY_INITIAL_PANEL_MINIMIZATION"),t=IT(),i=NT(),n=_e(i)?t*i:0,{isHovered:r}=LC(),{playingState:o}=LT(),a="small"===UE(),s="pause"===o,[l,d]=Eo((()=>!e&&!a)),[c,u]=Eo(!e),p=wo(null);return bo((()=>{c||n<3||u(!0)}),[c,n]),Co((()=>{if(c)return null!==p.current&&clearTimeout(p.current),a||r||s?d(!1):(p.current=setTimeout((()=>{d(!0)}),500),()=>{h(clearTimeout)&&null!==p.current&&clearTimeout(p.current)})}),[r,a,s,c]),l})(),a=i||t,{controlPanel:s,timeline:l,play:d,adLabel:c,businessUnitAdLabel:u,ageLabel:p,backpackAdSequence:m}=Vy();if(!(!1!==s||!1!==(!1!==c||!1!==u||!1!==p||!1!==m)||!1!==l||!1!==d))return null;const A=GC();return Qr("div",{style:{minHeight:r},className:xo(Sw.locals.ControlPanel,{[Sw.locals.ControlPanel_small]:a,[Sw.locals.ControlPanel_WithoutShadow]:A,[Sw.locals.ControlPanel_minimized]:!!A||o})},Qr(fw,null),Qr(Ow,{className:Sw.locals.ControlPanel__timeLine}),!a&&!A&&Qr(Cw,{className:Sw.locals.ControlPanel__controls}))},kw=()=>{Fo(nw());const{pause:e}=LT(),t="small"===UE(),{creativeType:i}=kE(),n="themeEmpty"===i,{isPackshotPlaying:r}=bT(),{isActionButtonVisible:o,isSkipButtonVisible:a,isProductsButtonVisible:s,shouldUseTwoLinesLayout:l,fontSize:d,skipButtonFontSize:c,disclaimerInfo:u,isEcomShopVisible:h,shouldUseSmallCta:p,isVerticalFormat:m,ecomShop:A,skinSize:v,isOutstream:g}=Ks(),_=GC(),y=t&&!r&&n&&!g,f={"--new-skin-font-size":d,"--new-skin-skip-button-font-size":c},S=xo(iw.locals.NewSkin,{[iw.locals.NewSkin_twoControlLines]:l,[iw.locals.NewSkin_vertical]:m,[iw.locals.NewSkin_smallControls]:p,[iw.locals.NewSkin_CtaAlwaysOnTenPercentOverBottom]:_}),T=xo(iw.locals.NewSkin__CtaContainer),E=xo(iw.locals.NewSkin__SkipButtonContainer),b=xo(iw.locals.NewSkin__ProductsPackshotContainer,{[iw.locals.NewSkin__ProductsPackshotContainer_visible]:h}),C="TRUE"===Eu.getFlagValueAndActivateTestId("VAS_NEW_SKIN_USE_OLD_AD_LABEL"),{clickThrough:w}=tf(),P="small"===v||m?1:3;return Qr("div",{className:S,style:f},Qr("div",{className:iw.locals.NewSkin__DisclaimerContainer},u&&Qr(cw,{heightPortion:u.mandatoryHeightPortion,text:u.text})),Qr(tw,{onClick:y?e:void 0}),Qr(MT,{onClickOutside:y?e:void 0}),Qr(UC,{shouldPauseOnCreativeClick:y}),C&&Qr("div",{className:iw.locals.NewSkin__AdLabelContainer},Qr(bb,null)),Qr("div",{className:iw.locals.NewSkin__TopControlsContainer},Qr(QC,null)),a&&Qr("div",{className:E},Qr(sC,null)),h&&A&&Qr("div",{className:b},Qr(Yf,{products:A.products,maxItemsPerView:P,onProductClick:e=>{w({url:e.clickThruUrl,playerHandles:!0,clickSource:"EcomProduct"})}})),o&&Qr("div",{className:T},Qr(iC,{compactMode:p})),s&&Qr("div",{className:iw.locals.NewSkin__ProductsPackshotButton},Qr(EC,{compactMode:p})),Qr("div",{className:iw.locals.NewSkin_BottomControlsContainer},Qr(Iw,null)),Qr(PE,null),Qr(NC,null))};var Dw=e(4483),Nw=e.n(Dw);const Rw=e=>e*(2-e),Vw=(function(e,t,i,n,r){const o=t=>{const n=1-t;return 3*n*n*t*e+3*n*t*t*i+t*t*t},a=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*n+e*e*e},s=t=>{const n=1-t;return 3*(2*(t-1)*t+n*n)*e+3*(-t*t*t+2*n*t)*i}}(.6,.7,.61,1.09,.01),So(void 0));Vw.Provider.displayName="AdAnimationUnmuteButtonContext";const Lw=e=>{let{adDisplayController:t}=e;return Mo(t.volumeButtonCollapseProgress)},Bw=()=>Io(Vw);var xw=e(5751),Mw=e.n(xw);const Uw=["isActive","className","size"],Fw=e=>{let{isActive:t=!0,className:i,size:n}=e,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,Uw);Fo(Mw());const o=xo(xw.locals.SquareButton,i,{[xw.locals.SquareButton_active]:t,[xw.locals.SquareButton_fullSize]:"small"!==n});return Qr(ZT,al({},r,{isActive:t,className:o,buttonClassName:xw.locals.SquareButton__basebutton,contentClassName:xw.locals.SquareButton__basecontent}))};var Hw=e(3683),zw=e.n(Hw);const jw=()=>{const{playingState:e}=LT(),t=Bw(),i=Vy();Fo(zw());const n=fy(),{volumeStatus:r,setMuted:o}=zb(),a=Rw(Bw()),s=1-a,l="unmuted"===r,d=Oo((()=>{o(!0)}),[]),c=UE(),u="small"!==c,h=Oo((()=>{o(!1)}),[]),p=!(Ys({playingState:e,volumeStatus:r,controlsVisibility:i})&&void 0!==t),m=n("UNMUTE");return Qr(Fw,{className:xo(Hw.locals.VolumeButton,l?Hw.locals.MuteButton:Hw.locals.UnmuteButton,p&&Hw.locals.MuteButton__hidden),onClick:l?d:h,size:c},Qr("div",{className:Hw.locals.VolumeButton__content},Qr("div",{className:xo(Hw.locals.VolumeButton__iconContainer,{[Hw.locals.VolumeButton__iconContainer_fullSize]:u})},Qr(l?zC:YC,{className:Hw.locals.VolumeButton__icon})),1!==a&&Qr("div",{className:xo(Hw.locals.UnmuteButton__text,Hw.locals.UnmuteButton__text_animation,{[Hw.locals.UnmuteButton__text_fullSize]:u}),style:{maxWidth:140*s,transform:"scale("+s+")",opacity:s,marginRight:12*s}},m)))},Ww=So({cues:[]});Ww.Provider.displayName="SubtitlesContext";const Yw=e=>{let{adDisplayController:t}=e;return{cues:Mo(t.adPodCurrentSubtitles)}};var Gw=e(4061),Xw=e.n(Gw);const Kw=e=>{let{style:t={}}=e;Fo(Xw());const{cues:i}=Io(Ww);return i.length>0?Qr("div",{className:Gw.locals.Subtitles__container,style:t},jc(i,(e=>{let{text:t}=e;return Qr("div",{className:Gw.locals.Subtitles__subtitle},t)}))):null},qw=e=>Math.floor(1e4*e)/1e4;var Jw=e(1172),Zw=e.n(Jw);const Qw="#F8CC46",$w=1,eP=e=>{let{currentNumber:t,count:i,color:n,adAnimationProgress:r,backgroundOpacity:o=$w}=e;Fo(Zw());const{width:a,transform:s}=function(e){let{currentNumber:t,count:i}=e;const n=4*(i-1)/i,r=4*t;return{width:"calc("+qw(100/i)+"% - "+qw(n)+"px)",transform:"translateX(calc("+qw(100*t)+"% + "+qw(r)+"px))"}}({currentNumber:t,count:i});return Qr("div",{className:Jw.locals.TimelineBar__container,style:{width:a,transform:s}},Qr("div",{className:xo(Jw.locals.TimelineBar,Jw.locals.TimelineBar__background),style:{opacity:""+o}}),Qr("div",{className:xo(Jw.locals.TimelineBar,Jw.locals.TimelineBar__progress),style:{transform:"scaleX("+r+")",backgroundColor:n}}))},tP=So({adPodsCount:0,playingAdPodIndex:0});tP.Provider.displayName="MediaFileContext";const iP=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:Mo(t),playingAdPodIndex:Mo(i)}};var nP=e(7864),rP=e.n(nP);const oP=e=>{let{color:t}=e;Fo(rP());const{adPodsCount:i,playingAdPodIndex:n}=Io(tP),r=IT();return!1!==Vy().timeline?Qr("div",{className:nP.locals.Timeline},jc(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(i),(e=>Qr(eP,e<n?{key:e,adAnimationProgress:1,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:e===n?{key:e,adAnimationProgress:r,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:{key:e,adAnimationProgress:0,currentNumber:e,count:i,backgroundOpacity:.3,color:t})))):null};var aP=e(1895),sP=e.n(aP);const lP=()=>{const{isAbuseSubmitted:e}=yT();if(e)return null;Fo(sP());const{isTouchScreenDevice:t}=Vb(),i=ab(),n=Boolean(i),r=!t||!n,{isHovered:o}=LC(),a=NT(),{playingState:s}=LT(),l=IT(),d=Vy(),{volumeStatus:c}=zb(),u=o||a*l<2||"pause"===s,h=Ys({playingState:s,volumeStatus:c,controlsVisibility:d}),p=!1!==d.timeline;let m;m=!!(h||p)&&(!!u||!r);const{height:A}=D_();return Qr("div",{className:aP.locals.VideoInComboControls,style:{height:A/8+"px"}},Qr("div",{style:{position:"absolute",left:0,right:0,bottom:0,zIndex:-1}},Qr("div",{className:m?aP.locals.ComboVideoControls__controlsBottomShadow_visible:aP.locals.ComboVideoControls__controlsBottomShadow_hidden},Qr(JE,null)),Qr(dP,null)),Qr("div",null,r?Qr(cP,{shouldShowHoverControls:u}):Qr(uP,null)))},dP=()=>{const e=Vy(),t=Sy(),i=Xs(fb(),t);if(!i||!1===e.disclaimers)return Qr("div",{style:{height:"6px"}});const{text:n,mandatoryHeightPortion:r}=i;return Qr("div",{className:aP.locals.DisclaimerContainer},Qr(cw,{heightPortion:r,text:n}))},cP=e=>{let{shouldShowHoverControls:t}=e;return Qr("div",{className:xo(t?aP.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:aP.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden)},Qr(qC,null),Qr("div",{style:{position:"absolute",left:12,right:12,bottom:40}},Qr(oP,{color:Qw})))},uP=()=>Qr(eo,null,Qr(qC,{style:{paddingBottom:10}}),Qr(oP,{color:Qw})),hP=()=>{Fo(Nw());const{shouldUseNewSkin:e}=hT();if(e)return"PLAYER_LIKE_SKIN"===Eu.getFlagValueAndActivateTestId("VAS_NEW_SKIN_VARIANT")?Qr(BC,null):Qr(kw,null);const{isActionButtonVisible:t,isSkipButtonVisible:i,isProductsButtonVisible:n,shouldUseTwoLinesLayout:r,skinSize:o,fontSize:a,skipButtonFontSize:s,disclaimerInfo:l,isEcomShopVisible:d,shouldUseSmallCta:c,isOutstream:u,isVerticalFormat:h,ecomShop:p}=Ks(),m="small"===o||h?1:3,A="small"===o,v={"--skin-font-size":a,"--skin-skip-button-font-size":s},g=xo(Dw.locals.Skin,{[Dw.locals.Skin_twoControlLines]:r,[Dw.locals.Skin_vertical]:h,[Dw.locals.Skin_smallControls]:c}),_=xo(Dw.locals.Skin__CtaContainer),y=xo(Dw.locals.Skin__SkipButtonContainer),f=xo(Dw.locals.Skin__SubtitlesContainer,{[Dw.locals.Skin__SubtitlesContainer_bottom]:A}),S=xo(Dw.locals.Skin__ProductsPackshotContainer,{[Dw.locals.Skin__ProductsPackshotContainer_visible]:d}),{clickThrough:T}=tf();return Qr("div",{className:g,style:v},Qr(MT,null),Qr("div",{className:Dw.locals.Skin__AdLabelContainer},Qr(bb,null)),i&&Qr("div",{className:y},Qr(sC,null)),d&&p&&Qr("div",{className:S},Qr(Yf,{products:null==p?void 0:p.products,maxItemsPerView:m,onProductClick:e=>{T({url:e.clickThruUrl,playerHandles:!0,clickSource:"EcomProduct"})}})),t&&Qr("div",{className:_},Qr(iC,{compactMode:c})),n&&Qr("div",{className:Dw.locals.Skin__ProductsPackshotButton},Qr(EC,{compactMode:c})),u&&Qr("div",{className:Dw.locals.Skin__VideoInComboControlsContainer},Qr(lP,null)),!u&&Qr(eo,null,Qr("div",{className:Dw.locals.Skin__MuteButtonAndSubtitlesContainer},Qr("div",{className:f},Qr(Kw,null)),Qr(jw,null)),Qr("div",{className:Dw.locals.Skin__DisclaimerContainer},l&&Qr(cw,{heightPortion:l.mandatoryHeightPortion,text:l.text})),Qr(oP,{color:Qw})),!d&&Qr(XE,null),Qr(PE,null),Qr(NC,null))},pP=So(void 0);pP.Provider.displayName="VideoContentSizeContext";const mP=[e=>{return Qr(ME.Provider,{value:(t=e.adDisplayController,Fa(Mo(t.slotParameters.size))),children:e.children});var t},e=>{return Qr(uT.Provider,{value:(t=e.adDisplayController,{supportsFullscreen:!1,shouldUseNewSkin:t.isNewSkinEnabled().isEnabled}),children:e.children});var t},e=>Qr(N_.Provider,{value:e.slotElement,children:e.children}),e=>Qr(RT.Provider,{value:VT(e),children:e.children}),e=>Qr(tP.Provider,{value:iP(e.adDisplayController),children:e.children}),e=>Qr(PT.Provider,{value:OT(e.adDisplayController),children:e.children}),e=>Qr(kT.Provider,{value:DT(e),children:e.children}),e=>Qr(I_.Provider,{value:k_(e.adDisplayController.slotParameters.size),children:e.children}),e=>{return Qr(pP.Provider,{value:(t=e.adDisplayController.videoContentSize,Mo(t))},e.children);var t},e=>Qr(My.Provider,{value:Uy({timeToSkipSignal:e.adDisplayController.timeToSkip,skipCallback:e.adDisplayController.onSkinSkipButtonClick}),children:e.children}),e=>Qr(gC.Provider,{value:_C(e),children:e.children}),e=>Qr(mC.Provider,{value:AC(e.adDisplayController.skinParameters),children:e.children}),e=>Qr(hb.Provider,{value:pb(e.adDisplayController.tooltipParameters.container),children:e.children}),e=>Qr(Ab.Provider,{value:vb(e.adDisplayController.tooltipParameters.content),children:e.children}),e=>{return Qr(ob.Provider,{value:(t=e.adDisplayController,Mo(t.videoSlotClickUrl)),children:e.children});var t},e=>Qr(Nb.Provider,{value:Rb(e),children:e.children}),e=>Qr(RC.Provider,{value:VC(e.adDisplayController.slotParameters.isHovered),children:e.children}),e=>Qr(_y.Provider,{value:yy(e.adDisplayController.playbackParameters),children:e.children}),e=>Qr(Ny.Provider,{value:Ry(e.adDisplayController.combinedSkinControlsVisibility),children:e.children}),e=>Qr(Fb.Provider,{value:Hb(e),children:e.children}),e=>Qr(Vw.Provider,{value:Lw(e),children:e.children}),e=>Qr(gT.Provider,{value:_T(e),children:e.children}),e=>Qr(AE.Provider,{value:vE(e),children:e.children}),e=>Qr(nb.Provider,{value:rb(e),children:e.children}),e=>Qr(sb.Provider,{value:lb(e),children:e.children}),e=>{return Qr(nC.Provider,{value:(t=e.adDisplayController,Mo(t.contentAfterAdPod)),children:e.children});var t},e=>{return Qr(Ly.Provider,{value:(t=e.adDisplayController.faviconSrc,Mo(t)),children:e.children});var t},e=>Qr(UT.Provider,{value:FT(e),children:e.children}),e=>Qr(Hy.Provider,{value:zy(e.adDisplayController),children:e.children}),e=>Qr(_b.Provider,{value:yb(e.adDisplayController),children:e.children}),e=>Qr(TT.Provider,{value:ET(e.adDisplayController),children:e.children}),e=>Qr(Ww.Provider,{value:Yw(e)},e.children),e=>Qr(fT.Provider,{value:ST(e.adDisplayController.showTitleAndBody)},e.children),e=>Qr(OE.Provider,{value:IE(e),children:e.children}),e=>{return Qr(vw.Provider,{value:(t=e.adDisplayController,Mo(t.displayAdSequence)),children:e.children});var t},e=>Qr($y.Provider,{value:ef(e.adDisplayController),children:e.children}),e=>{return Qr(hC.Provider,{value:(t=e.adDisplayController,{ecomShopState:Mo(t.ecomShopState),setShopVisibility:e=>{t.setEcomShopState({isVisible:e},!0)}}),children:e.children});var t}];const AP=(vP=()=>Qr(hP,null),(e,t)=>{const i=new Su,n=new Su,r=new Su,o=new Promise(((e,t)=>{i.addOne((()=>{i.removeAll(),n.removeAll(),e()})),n.addOne((e=>{i.removeAll(),n.removeAll(),t(e)}))})),a=new Promise(((e,t)=>{r.addOne((e=>{t(e)}))})),s=Qr(P_,{onFirstRender:e=>{"success"===e.status?i.dispatch(void 0):n.dispatch(e.error)},onRuntimeError:e=>{r.dispatch(e)}},Qr(O_,{components:mP,componentsProps:{id:"skin",adDisplayController:t,slotElement:e}},vP()));return Uc("Skin: render skin"),fo(s,e),{firstRenderPromise:o,runtimeErrorPromise:a,clear:()=>{i.removeAll(),n.removeAll(),Uc("Skin: destroy skin"),fo(null,e)}}});var vP;const gP=["preloadTimeout"];var _P=0,yP=dl("addDestroyHandler"),fP=dl("cancelPreloading"),SP=dl("destroyPreloading");class TP{constructor(e){var t=this;this.showAdPlaybackControllers=[],this.subscriptions=[],this.destroyHandlers=[],Object.defineProperty(this,yP,{writable:!0,value:e=>{this.destroyHandlers.push(e)}}),this.createPlaybackController=function(e,i,n){void 0===n&&(n={});const{config:r,errors:o}=Ua(n);ei(o);n.renderSkin;const a=new cT({videoSlot:e,layoutSlot:i,mediaAds:t.mediaAds,playbackParameters:r,skinParameters:{renderSkinFunction:AP,skinVariant:"default"},stats:t.stats}).getPublicInstance();a.subscribe("AdStartRequest",(()=>{ll(t,fP)[fP]("PublicControllerPlayAd")}));const s=fu(t.subscriptions,(e=>{let{event:t}=e;return"CreateAdPlaybackController"===t}));return Id(s,(e=>{let{handler:t}=e;return t({playbackController:a})})),a},this.showAd=function(e,i,n){void 0===n&&(n={}),ll(t,fP)[fP]("AdStoreShowAd");const r=t.createPlaybackController(e,i,n);t.showAdPlaybackControllers.push(r);const o=new Promise((e=>{r.subscribe("AdStopped",(()=>{t.showAdPlaybackControllers=fu(t.showAdPlaybackControllers,(e=>e!==r)),e()}))}));return r.playAd(),o},this.getAdDuration=()=>ps(this.mediaAds),this.separateAdPods=()=>jc(this.mediaAds,(e=>{const t=new TP({mediaAds:[e],vast:this.vast,stats:this.stats});return Id(this.subscriptions,(e=>{let{event:i,handler:n}=e;t.subscribe(i,n)})),ll(this,yP)[yP]((()=>{t.destroy()})),t})),this.getAdSourceTypes=()=>fu(jc(this.mediaAds,(e=>{let{contentType:t}=e;return t})),((e,t,i)=>i.indexOf(e)===t)),this.getAdBreakType=()=>{return"midroll"===(e=this.mediaAds[0].adBreak).adType?null!=(t=e.originalAdType)?t:"midroll":e.adType;var e,t},this.setStatsRootFields=e=>{this.stats.setRootFields(e),Cu.setRootFields(e)},this.hasNotReplacedBroadcastAd=()=>(this.stats.error({error:new Od({code:"USING_HAS_NOT_REPLACED_BROADCAST_AD_METHOD_FROM_AD_STORE",details:void 0})}),!1),this.hasYandexCreative=()=>Ou(this.mediaAds,(e=>e.getIsYandexCreative())),this.getNonYandexVastXmlTree=()=>this.hasYandexCreative()?void 0:sl(this.vast),this.preload=e=>{let{preloadTimeout:t=nm}=e,i=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,gP);if(h(uu(window)))return Promise.resolve();const n=Nh(t,window).promise.then((()=>ll(this,SP)[SP]("Timeout")));if(void 0===this.preloadPromise){const e=jc(this.mediaAds,(e=>e.preload(i)));this.preloadPromise=Promise.all(e).then(A)}return Promise.race([this.preloadPromise,n])},this.filterAdPodsIndependentOnHtmlControls=e=>{const[t,i]=on(this.mediaAds,(e=>e.getIfIsRequiredHtmlControls()));this.mediaAds=Zn(i),Id(t,(t=>{t.trackError(new Od({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))}))},this.preventPlaying=(e,t)=>{Id(this.mediaAds,(i=>{i.trackError(new Od({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))})),this.mediaAds=[]},this.getAdPodsCount=()=>this.mediaAds.length,this.subscribe=(e,t)=>(this.subscriptions.push({event:e,handler:t}),()=>{this.subscriptions=fu(this.subscriptions,(i=>!(i.event===e&&i.handler===t)))}),Object.defineProperty(this,fP,{writable:!0,value:e=>{Id(this.mediaAds,(t=>{t.isPreloaded()||t.cancelPreloading(e)}))}}),Object.defineProperty(this,SP,{writable:!0,value:e=>{Id(this.mediaAds,(t=>{t.cancelPreloading(e)}))}});const{mediaAds:i,vast:n,stats:r}=e;this.mediaAds=i,this.vast=n,this.stats=r,ll(this,yP)[yP]((()=>{Id(this.showAdPlaybackControllers,(e=>{e.stopAd()})),this.showAdPlaybackControllers.length=0,ll(this,SP)[SP]("AdStoreDestroy"),this.preloadPromise=void 0,this.subscriptions.length=0}))}destroy(){X(this.destroyHandlers)}}class EP extends yu{constructor(e){let{adConfig:t,vmap:i,adBreak:n,adPlacementOptions:r,stats:o}=e;if(super(),this.getPublicInstance=()=>({loadAd:this.loadAd,destroy:()=>this.destroy()}),this.load=async e=>{const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t},this.loadAd=async()=>{try{const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new Od({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new TP({mediaAds:t,vast:i,stats:this.stats})}catch(MO){throw Gn(MO),this.stats.errorToStats(MO),MO}},this.getInPageBlock=()=>or(this.getAdBreaks(),"inpage")[0],this.getPrerollBlock=()=>or(this.getAdBreaks(),"preroll")[0],this.getDefaultAdBreakToPlayAd=()=>{const{impId:e}=this.adConfig;return e?function(e,t){return yd(e,(e=>e.impId===t))}(this.getAdBreaks(),e):or(this.getAdBreaks(),"preroll")[0]},this.adConfig=t,this.adBreak=n,this.vmap=i,this.adPlacementOptions=r,this.stats=o,Uc("AdLoader: create"),o.event({name:"CreateAdLoader",data:{adConfig:t,adBreak:n}}),Dh({secureMode:t.secureMode,url:void 0})){const e=Fp();e.addUser(),this.addDestroyHandler((()=>{e.removeUser()})),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:5e3})}}getAdBreaks(){return this.adBreak?[this.adBreak]:this.vmap.adBreaks}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:n}=this;return nr({adConfig:i,adBreak:t,adPlacementOptions:n,win:window})}}const bP={impId:0,sessionId:"",vastTimeout:3e3},CP={adTagURI:"",adFoxParameters:void 0,inlineVast:void 0},wP=cl({adType:"preroll"},CP,bP,$f);class PP{constructor(){this.adBreaks=[],this.isSingleVideoSession=!1,this.isUniformat=!1}}const OP={start:"preroll",end:"postroll"},IP=_({inpage:0,preroll:0,midroll:0,pauseroll:0,postroll:0,postPauseroll:0,replaced:0,notReplaced:0,inroll:0}),kP={dark:"dark",light:"light"},DP={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},NP=e=>{const t=Al("Collapse",e);return!0===Al("Repeat",e)?"auto":!1===t?"manual":null},RP=e=>{if(!d(e))return;const{preferableAdSize:t}=e;if(!d(t))return;const{width:i,height:n}=t;return Pe(i)&&Pe(n)?{width:i,height:n}:void 0},VP=_(Ac),LP="Unsafe",BP=e=>{if(!d(e))return LP;const{secureMode:t}=e;return t&&-1!==VP.indexOf(t)?t:LP},xP=Il({adType:"inpage",replayMode:null,stick:!1},CP,bP),MP=kl({adType:"midroll",broadcastReplace:!1},CP,{repeatAfter:0,maxRepeatCount:0,repeatNumber:0,timeOffset:10},bP,$f),UP=Dl({adType:"postroll"},CP,bP,$f),FP={inpage:xP,preroll:wP,midroll:MP,postroll:UP},HP=_(FP),zP=["vastBase64","adBreakType"],jP=["videoContentId"],WP=e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0},YP=()=>Fd()/1e3,GP="adsdksessionwatchedtimesinceadmap";class XP{constructor(){void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:n=YP}=e;if(!i)return;const r=Ll(i);r[t]=n();try{fc({localStorage:i},GP,JSON.stringify(r))}catch(o){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:i,now:n=YP}=e;if(!i)return 0;const r=Ll(i)[t];if(!Pe(r))return 0;const o=n();if(!Pe(o))return 0;const a=o-r;return Pe(a)?a:0}({category:t,storage:this.storage})}}const KP=xc.loaderLoadedFromAnYandexRu?"https://"+Nc+"/vmap/":"https://"+Rc+"/ads/vmap/",qP={width:16,height:9},JP=(ZP=AS,QP=mS,e=>{let t,i;const n=()=>{ZP(i),i=NaN},r=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n(),i=QP((n=>{i=NaN,t=e.call(this,n,...o)})),t};return r.cancel=n,r});var ZP,QP;const $P=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}();class eO extends yu{constructor(e){super(),this.overlapVisibility=new sp(!1),this.recalculateElementOverlap=JP((()=>{if(this.isDestroyed)return;const e=!Yl(this.params.element,this.params.points);this.overlapVisibility.dispatch(e)})),this.params=e,this.startObservingElementOverlap()}startObservingElementOverlap(){this.addDestroyHandler(zn(this.recalculateElementOverlap));const{promise:e,clear:t}=Nh(0,window);e.then(this.recalculateElementOverlap).catch($),this.addDestroyHandler(t)}}const tO=()=>{const e=Cu.getRootFields();try{return su(e,"pcodeStats.pageId")||void 0}catch(h_){return}},iO=[0,0];class nO extends yu{constructor(e,t){super(),this.placeholderSlot=e,this.containerElement=t}waitTillContainerVisibleWithOffset(e){const t=this.containerElement.ownerDocument.defaultView.IntersectionObserver;let i=A;const n=new Promise((n=>{const r=new t((e=>{let[{isIntersecting:t,intersectionRatio:r}]=e;(t||r>0)&&(i(),n())}),{threshold:0,rootMargin:e+" 0px"});r.observe(this.containerElement),i=()=>{r.disconnect()}}));return this.addDestroyHandler(i),n}whenCanShow(){const e=this.placeholderSlot,t=wg;if(Uc("whenCanShow: start logic with threshold=[0.5]"),function(e,t){return ve(e.ownerDocument)&&gs(e)>=t}(e,t))return Uc("whenCanShow: element is already visible"),Promise.resolve(void 0);if(Wl(e)&&Hl(e))return Uc("whenCanShow: element is at the end of the <body>"),Promise.resolve(void 0);const i=[],n=()=>{Uc("whenCanShow: stop logic"),X(jc(i,(e=>()=>S(e))))};let r=A;if(sh&&!function(e){return e.top!==e.self}(window)){Uc("whenCanShow: use intersection observer");const i=e.getBoundingClientRect().height*t;this.waitTillContainerVisibleWithOffset("-"+i+"px").then((()=>{Uc("whenCanShow: waitTillVisibleWithOffset complete with thresholdBoundary=["+i+"]"),r()})).catch($)}return i.push(zn((()=>{const i=ve(document),o=gs(e),a=i&&o>=t,s=Wl(e)&&Hl(e);a||s?(Uc("whenCanShow: visibility detected by interval isVisible=["+a+"] isAtTheEndOfTheBody=["+s+"]"),r(),n()):Uc("whenCanShow: element visibility is NOT detected by interval documentVisibility=["+i+"}] elementVisibilityRatio=["+o+"] threshold=["+"0.5]")}))),this.addDestroyHandler(n),new Promise((e=>{r=e}))}getVisualVisibilitySensor(){const e=iT({pageId:tO(),win:window}),t=new dT(this.placeholderSlot,{considerDocumentVisibility:!1}),i=new sp(!1);t.totalVisibilityValueSignal.add((e=>i.dispatch(e)));const n=new sp(!0);if(!e){const e=new eO({element:this.placeholderSlot,points:[iO]});n.dispatch(e.overlapVisibility.getValue()),this.addDestroyHandler(e.overlapVisibility.add(n)),this.addDestroyHandler((()=>{e.destroy()}))}const r=new sp(t.totalVisibilityValueSignal.getValue()&&n.getValue());return hr([i,n],((e,t)=>e&&t),(e=>r.dispatch(e))),this.addDestroyHandler((()=>{n.removeAll(),t.destroy()})),r}waitForWarmingUpPosition(){return sh?this.waitTillContainerVisibleWithOffset("200%"):Promise.resolve()}}const rO="_displayController_"+Math.floor(1e3*Math.random());class oO extends class{constructor(e,t){var i;this.adStarted=!1,this.paused=!0,this.stats=t,i=e,this[rO]=i,Kl(this).onBeforeAdStart.add((e=>{let{adType:t}=e;if("function"===typeof this.onBeforeAdStart)try{this.onBeforeAdStart(t)}catch(h_){console.error(h_)}})),Kl(this).onAdStartRejected.add((()=>{if("function"===typeof this.onAdStartRejected)try{this.onAdStartRejected()}catch(h_){console.error(h_)}})),Kl(this).onAdStart.add((e=>{let{adType:t}=e;if("function"===typeof this.onAdStart)try{this.onAdStart(t)}catch(h_){console.error(h_)}})),Kl(this).onAdMediaStart.add((e=>{let{adType:t}=e;if(this.adStarted=!0,!this.paused&&"function"===typeof this.onPlayStateChanged)try{Uc("PublicController: call onPlayStateChanged(true) within onAdMediaStart"),this.onPlayStateChanged(!0)}catch(h_){console.error(h_)}if("function"===typeof this.onAdMediaStart)try{this.onAdMediaStart(t)}catch(h_){console.error(h_)}})),Kl(this).onAdMediaEnd.add((e=>{let{adType:t}=e;if("function"===typeof this.onComplete)try{this.onComplete()}catch(h_){console.error(h_)}if("function"===typeof this.onAdMediaEnd)try{this.onAdMediaEnd(t)}catch(h_){console.error(h_)}if("function"===typeof this.onPlayStateChanged)try{Uc("PublicController: call onPlayStateChanged(false) within onAdMediaEnd"),this.onPlayStateChanged(!1)}catch(h_){console.error(h_)}})),Kl(this).onAdEnd.add((e=>{let{adType:t}=e;if("function"===typeof this.onAdEnd)try{this.onAdEnd(t)}catch(h_){console.error(h_)}})),Kl(this).onClickThrough.add((()=>{if("function"===typeof this.onClickThrough)try{this.onClickThrough()}catch(h_){console.error(h_)}})),Kl(this).onAdSkipped.add((e=>{let{adType:t}=e;if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(t)}catch(h_){console.error(h_)}})),Kl(this).onAdPodClose.add((()=>{if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(void 0)}catch(h_){console.error(h_)}}));const n=()=>{if(this.paused=!1,this.adStarted&&"function"===typeof this.onPlayStateChanged)try{Uc("PublicController: call onPlayStateChanged(true) within start or resume"),this.onPlayStateChanged(!0)}catch(h_){console.error(h_)}};Kl(this).onAdPodResume.add(n),Kl(this).onAdPodStart.add(n),Kl(this).onAdPodPause.add((()=>{if(this.paused=!0,"function"===typeof this.onPlayStateChanged)try{Uc("PublicController: call onPlayStateChanged(false) within onAdPodPause"),this.onPlayStateChanged(!1)}catch(h_){console.error(h_)}})),Kl(this).adSkippableState.add((e=>{if("function"===typeof this.onAdSkippableStateChange)try{this.onAdSkippableStateChange(e)}catch(h_){console.error(h_)}})),Kl(this).onAdPodImpression.add((()=>{if("function"===typeof this.onAdImpression)try{this.onAdImpression()}catch(h_){console.error(h_)}})),Kl(this).adContentSize.add((()=>{if("function"===typeof this.onAdContentSizeChange)try{this.onAdContentSizeChange()}catch(h_){console.error(h_)}})),Kl(this).adPodRemainingTime.add((()=>{if("function"===typeof this.onAdRemainingTimeChange)try{this.onAdRemainingTimeChange()}catch(h_){console.error(h_)}}))}getCurrentContentType(){const e=Kl(this);if(void 0!==e&&null!==e)return e.getCurrentContentType()}usesVideoNode(){const e=Kl(this);if(void 0!==e&&null!==e)return e.usesVideoNode()}play(e){void 0===e&&(e=0===Kl(this).getVolume());const t=async()=>{Kl(this).setMuted("restricted"!==Kl(this).autoplayAbilityResult.getValue().autoplayAbility||e);try{await Kl(this).play()}catch(MO){this.stats.error({error:new Od(MO,{code:"PUBLIC_CONTROLLER_PLAY_ERROR"})})}};void 0===Kl(this).getCurrentContentType()?Kl(this).onAdPodPlayAdMedia.addOne(t):t()}resume(){this.play()}pause(){Kl(this).pause()}skip(){this.stats.event({name:"PublicControllerSkip",data:{}}),Kl(this).skipAllViewers()}clickThrough(){Kl(this).clickThrough({playerHandles:!0,clickSource:"PublicControllerMethodCall",url:void 0})}getPaused(){return Kl(this).getPaused()}getMuted(){return 0===Kl(this).getVolume()}getVolume(){return Kl(this).getVolume()}setVolume(e){Kl(this).setVolume(e)}getDuration(){return Kl(this).getDuration()}getAdWidth(){return Kl(this).getAdWidth()}getAdHeight(){return Kl(this).getAdHeight()}getCurrentTime(){return Kl(this).getCurrentTime()}getAdSkippableState(){return Kl(this).adSkippableState.getValue()}getAdContentSize(){return Kl(this).adContentSize.getValue()}getCurrentViewerAssets(){return Kl(this).getCurrentViewerAssets()}setStatsRootFields(e){this.stats.event({name:"UsingSetStatsRootFieldsInPublicController",data:void 0,probability:ru}),this.stats.setRootFields(e),Cu.setRootFields(e)}destroy(){Kl(this).destroy({reason:"stopAd",details:void 0})}setControlsVisibility(e){Kl(this).setPublicApiControlsSettings(e)}}{constructor(e){super(e.displayController,e.stats),this.play=e=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.play(e)),this.resume=()=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.resume()),this.pause=()=>(this.params.pauseByPublicMethodSignal.dispatch(!0),super.pause()),this.params=e}}let aO=!1;const sO=()=>{aO=!0},lO=()=>{aO=!1},dO=()=>aO,cO={stickTo:"auto",stickyColorScheme:"dark"},uO=e=>"bottom-right"===e||"top-right"===e||"bottom-left"===e||"top-left"===e;class hO extends yu{constructor(){super(),this.initialState="Inline",this.currentState=this.initialState,this.transitionWays={Inline:"Detached",Detached:"Sticky",Sticky:"Attached",Attached:"Inline"},this.onStateChange=[],this.subscribeForStateTransition=(e,t)=>this.subscribeForStateChange((i=>{if(e.previousState===i.previousState&&e.nextState===i.nextState)return t(i)})),this.addDestroyHandler((()=>{this.onStateChange.length=0}))}getCurrentState(){return this.currentState}isWithinTransition(){return void 0!==this.nextState}getNextState(){return this.nextState}subscribeForStateChange(e){return this.onStateChange.push(e),()=>{this.onStateChange=fu(this.onStateChange,(t=>t!==e))}}isValidTransition(e){return e===this.transitionWays[this.currentState]}async setState(e){if(!this.isValidTransition(e))throw new ReferenceError("StickyFSA: invalid transition from ["+this.currentState+"] to ["+e+"]");const t=this.currentState;this.nextState=e;for(const i of this.onStateChange)await i({previousState:t,nextState:e});this.currentState=e,this.nextState=void 0}}var pO=e(9881),mO=e.n(pO);const{locals:AO}=mO(),vO=e(4738);class gO extends yu{constructor(e){super(),this.setDescription=A,this.description="",this.withDisabledAnimation=e=>{this.setAnimationEnabled(!1),e(),this.params.layout.stickyWrapperElement.offsetLeft,this.setAnimationEnabled(!0)},this.waitForAnimationEnd=()=>{const e=Nh(400,window),t=e=>e.target===this.params.layout.stickyWrapperElement&&("width"===e.propertyName||"transform"===e.propertyName);let i=A;const n=new Promise((e=>i=Z({element:this.params.layout.stickyWrapperElement,eventName:"transitionend",listener:i=>{t(i)&&e()}}))),r=()=>{e.clear(),i()};this.addDestroyHandler(r);return Promise.race([e.promise,n]).then(r)},this.params=e,this.render(),this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper,!0),uO(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__variant__flyroll,!0):this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__variant__covering,!0)}updateAdditionalContentVisibility(){const e=this.params.adContentSize.getValue(),t=uO(this.params.stickyConfig.stickTo)||(e=>{let{adWidth:t,adHeight:i,windowWidth:n,description:r,isAdaptiveCreative:o}=e;if(!r)return!1;if(o)return!0;const a=t/i*180;return!!Pe(a)&&a/n<.55})({adWidth:(null==e?void 0:e.width)||0,adHeight:(null==e?void 0:e.height)||0,windowWidth:this.params.win.innerWidth,description:this.description,isAdaptiveCreative:!e||void 0===e.width||void 0===e.height});this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__additionalContent_enabled,t)}setAnimatingStateClassName(e){this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__isAnimating,e)}handleClassNames(){let e=!1,t=!1;switch(this.params.stickyFSA.getNextState()||this.params.stickyFSA.getCurrentState()){case"Inline":case"Attached":e=!0,t=!1;break;case"Detached":e=!1,t=!1;break;case"Sticky":e=!1,t=!0;break;default:throw new Error("unhandled state, should never be executed")}this.setAttachStateClassNames(e),this.setStickyStateClassNames(t)}setAnimationEnabled(e){e?this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__unAnimated,!1):this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__unAnimated,!0)}render(){const e=this.params.layout.stickyWrapperElement,t=e.appendChild(this.renderAdditionalContent()),i=e.appendChild(this.renderCross());this.addDestroyHandler((()=>{m(t),m(i)}))}renderAdditionalContent(){const e=document.createElement("div");if(this.toggleClassName(e,AO.yaInpageAdditionalContent,!0),uO(this.params.stickyConfig.stickTo)){const t=document.createElement("div");this.toggleClassName(t,AO.yaInpageAdditionalContent__adTitle,!0),t.innerHTML="\u0440\u0435\u043a\u043b\u0430\u043c\u0430",e.appendChild(t)}else{if("dark"===this.params.stickyConfig.stickyColorScheme)this.toggleClassName(e,AO.yaInpageAdditionalContent_dark,!0);else A();e.appendChild(this.renderDescription()),e.appendChild(this.renderActionButton())}const t=document.createElement("div");return this.toggleClassName(t,AO.yaInpageAdditionalContentContainer,!0),t.appendChild(e),t}renderDescription(){var e=this;const t=document.createElement("div");return this.toggleClassName(t,AO.yaInpageAdditionalContent__description,!0),this.addDestroyHandler(Z({element:t,eventName:"click",listener:this.params.onActionClick})),this.setDescription=function(i){void 0===i&&(i=""),e.description=i,t.innerText=i,e.updateAdditionalContentVisibility()},t}renderActionButton(){const e=document.createElement("div");this.toggleClassName(e,AO.yaInpageAdditionalContent__buttonClickableArea,!0);const t=document.createElement("div");return this.toggleClassName(t,AO.yaInpageAdditionalContent__button,!0),t.appendChild(e),t.innerText="\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",this.addDestroyHandler(Z({element:t,eventName:"click",listener:this.params.onActionClick})),t}renderCross(){const e=document.createElement("div");return this.toggleClassName(e,AO.yaInpageCross,!0),e.innerHTML=vO,this.addDestroyHandler(Z({element:e,eventName:"click",listener:this.params.onCrossClick})),e}toggleClassName(e,t,i){const{classList:n}=e;return i?n.add(t):n.remove(t)}toggleStickyWrapperClassName(e,t){return this.toggleClassName(this.params.layout.stickyWrapperElement,e,t)}setStickyStateClassNames(e){if(this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__inline,!e),this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__sticky,e),uO(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__sticky__flyroll,e):this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__sticky__covering,e),!uO(this.params.stickyConfig.stickTo))switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__sticky__covering_color_scheme_dark,e);break;case"light":this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__sticky__covering_color_scheme_light,e);break;default:A()}}setAttachStateClassNames(e){this.toggleStickyWrapperClassName(AO.yaInPageStickyWrapper__detached,!e)}}const _O={covering:{x:0,y:0},flyroll:{x:32,y:24}};class yO{constructor(e){this.intrinsicStickPosition={horizontal:"right",vertical:"bottom"},this.params=e,this.actualizeStickPosition(),"auto"===this.params.stickyConfig.stickTo&&this.params.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},(()=>this.actualizeStickPosition()))}getViewDimensions(){const{clientHeight:e,clientWidth:t}=this.params.win.document.documentElement;return{height:e,width:t}}getStickyDimensions(){const e=this.getViewDimensions().width;return uO(this.params.stickyConfig.stickTo)&&e>=1600?{width:360,height:202}:{width:320,height:180}}getPlaceholderDimensions(){const{width:e,height:t}=this.params.getPlaceholderDOMRect();return{width:e,height:t}}fromDOMDimensionsToCSSDimensions(e){return{width:e.width+"px",height:e.height+"px"}}getTransformStyles(){const{intrinsicStickPosition:e}=this,t=uO(this.params.stickyConfig.stickTo)?_O.flyroll:_O.covering,i={x:uO(this.params.stickyConfig.stickTo)?"right"===e.horizontal?1:-1:0,y:"bottom"===e.vertical?1:-1},{origin:n,scale:r,translation:o}=(e=>{let{direction:t,offsets:i,getInpageCurrentRect:n,getViewDimensions:r,getStickyDimensions:o,getPlaceholderDimensions:a}=e;const s=i.x*-t.x,l=i.y*-t.y,d=n(),c=d.left,u=d.top,h=r(),p={x:(-1===t.x?0:h.width-d.width)-c+s,y:(-1===t.y?0:h.height-d.height)-u+l},m=o(),A=a(),v={x:m.width/A.width,y:m.height/A.height};return{origin:(1===t.y?"bottom":0===t.y?"center":"top")+" "+(1===t.x?"right":0===t.y?"center":"left"),translation:p,scale:v}})({direction:i,offsets:t,getInpageCurrentRect:()=>this.params.getStickyWrapperDOMRect(),getViewDimensions:()=>this.getViewDimensions(),getStickyDimensions:()=>this.getStickyDimensions(),getPlaceholderDimensions:()=>this.getPlaceholderDimensions()});return{transformOrigin:n,transform:"translate("+o.x+"px, "+o.y+"px) scale("+r.x+", "+r.y+")"}}getInlineStateRect(){const e="top"===this.intrinsicStickPosition.vertical?"0":"",t="bottom"===this.intrinsicStickPosition.vertical?"0":"",i="left"===this.intrinsicStickPosition.horizontal?"0":"";return ql({top:e,right:"right"===this.intrinsicStickPosition.horizontal?"0":"",bottom:t,left:i},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getDetachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:n,bottom:r}=this.params.getStickyWrapperDOMRect(),{width:o,height:a}=this.getViewDimensions(),s="bottom"===e.vertical?a-r+"px":"";return ql({top:"top"===e.vertical?n+"px":"",bottom:s,left:"left"===e.horizontal?t+"px":"",right:"right"===e.horizontal?o-i+"px":""},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getStickyStateRect(){const{intrinsicStickPosition:e}=this,t=uO(this.params.stickyConfig.stickTo)?_O.flyroll:_O.covering,i="top"===e.vertical?t.y+"px":"",n="bottom"===e.vertical?t.y+"px":"",r="left"===e.horizontal?t.x+"px":"",o="right"===e.horizontal?t.x+"px":"",a=this.getStickyDimensions();return{top:i,right:o,bottom:n,left:r,width:uO(this.params.stickyConfig.stickTo)?a.width+"px":"100%",height:a.height+"px"}}getAttachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:n,bottom:r}=this.params.getPlaceholderDOMRect(),{left:o,right:a,top:s,bottom:l,width:d,height:c}=this.params.getStickyWrapperDOMRect();return{top:"top"===e.vertical?s-n+"px":"",bottom:"bottom"===e.vertical?r-l+"px":"",left:"left"===e.horizontal?o-t+"px":"",right:"right"===e.horizontal?i-a+"px":"",width:d+"px",height:c+"px"}}actualizeStickPosition(){const{stickTo:e}=this.params.stickyConfig;if(this.intrinsicStickPosition={vertical:"top-right"===e||"top-left"===e||"top"===e?"top":"bottom",horizontal:"bottom-right"===e||"top-right"===e?"right":"left"},"auto"!==e)return;const t=this.params.getInlineContainerTopCornerPosition()<=0;this.intrinsicStickPosition.vertical=t?"top":"bottom"}}const fO=["position","left","top","bottom","width","height","background","display","zIndex","transform"];class SO{constructor(e){this.storedStyles=[],this.elements=e}save(){Id(this.elements,(e=>{this.storedStyles.push(this.extract(e))}))}restore(){Id(this.elements,((e,t)=>{Zo(e,this.storedStyles[t])})),this.storedStyles.length=0}extract(e){return ec(fO,((t,i)=>(t[i]=e.style[i],t)),{})}}class TO extends yu{constructor(e){super(),this.handleWindowResize=JP((()=>{this.stickyInpageLayout.updateAdditionalContentVisibility()})),this.setDescription=e=>this.stickyInpageLayout.setDescription(e),this.handleFromInlineToDetachTransition=()=>{this.stylesStore.save(),this.stickyInpageLayout.updateAdditionalContentVisibility(),this.stickyInpageLayout.withDisabledAnimation((()=>{Zo(this.params.layout.stickyWrapperElement,Jl({position:"fixed"},this.stickyPositioning.getDetachedStateRect()))})),uO(this.stickyConfig.stickTo)||Zo(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions())),this.stickyInpageLayout.handleClassNames()},this.handleFromDetachToStickyTransition=async()=>{uO(this.stickyConfig.stickTo)?Zo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles()):(Zo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getStickyStateRect()),Zo(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getStickyDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation((()=>{Zo(this.params.layout.stickyWrapperElement,Jl({transform:"",transformOrigin:""},this.stickyPositioning.getStickyStateRect()))})),this.stickyInpageLayout.handleClassNames()},this.handleFromStickyToAttachTransition=async()=>{this.stickyInpageLayout.withDisabledAnimation((()=>{Zo(this.params.layout.stickyWrapperElement,Jl({position:"absolute"},this.stickyPositioning.getAttachedStateRect()))})),this.stickyInpageLayout.handleClassNames()},this.handleFromAttachToInlineTransition=async()=>{this.stickyInpageLayout.handleClassNames(),uO(this.stickyConfig.stickTo)?(this.stickyInpageLayout.withDisabledAnimation((()=>{Zo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect())})),this.stickyInpageLayout.withDisabledAnimation((()=>{Zo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles())})),Zo(this.params.layout.stickyWrapperElement,{transform:""},!0)):(Zo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect()),Zo(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation((()=>this.stylesStore.restore()))},this.params=e,this.win=this.params.layout.containerWindow,this.stickyFSA=new hO,this.addDestroyHandler((()=>this.stickyFSA.destroy())),this.stickyConfig=Jl({},cO,ul(this.params.stickyConfig)),this.stickyInpageLayout=new gO({stickyFSA:this.stickyFSA,layout:this.params.layout,win:this.win,stickyConfig:this.stickyConfig,adContentSize:this.params.adContentSize,onActionClick:this.params.onActionClick,onCrossClick:this.params.onCrossClick}),this.addDestroyHandler((()=>this.stickyInpageLayout.destroy())),this.stickyPositioning=new yO({stickyFSA:this.stickyFSA,getInlineContainerTopCornerPosition:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect().top,stickyConfig:this.stickyConfig,win:this.win,getPlaceholderDOMRect:()=>this.params.layout.placeholderElement.getBoundingClientRect(),getStickyWrapperDOMRect:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect()}),this.stylesStore=new SO([this.params.layout.stickyWrapperElement,this.params.layout.wrapperElement]),this.addDestroyHandler(Z({element:this.win,eventName:"resize",listener:this.handleWindowResize})),this.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},this.handleFromInlineToDetachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Detached",nextState:"Sticky"},this.handleFromDetachToStickyTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Sticky",nextState:"Attached"},this.handleFromStickyToAttachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Attached",nextState:"Inline"},this.handleFromAttachToInlineTransition)}async goSticky(){await this.stickyFSA.setState("Detached"),await this.stickyFSA.setState("Sticky")}async unSticky(){await this.stickyFSA.setState("Attached"),await this.stickyFSA.setState("Inline")}}class EO extends yu{constructor(e){var t,i;super(),this.replayMode=null,this.pausedByContainerVisibility=!1,this.pausedByDocumentVisibility=!1,this.isSticky=new sp(!1),this.documentVisibility=new sp(!1),this.pauseByPublicMethodSignal=new sp(!1),this.packshotPlayingState=new sp(!1),this.showAds=async e=>{var t;const{layout:i}=this.params,[n]=e.slice(-1),{vastAd:r}=n,o=null!=(t=r.clickUrlData.vastClickUrl)?t:"",a=_a(r,this.params.layout.placeholderSize.getValue());a&&this.enableCustomPackshot&&(Uc("InPage: packshot image found for manual mode ["+a+"]"),this.displayController.onAdPodThirdQuartile.addOne((()=>{Ce(a)})));try{let t;if(this.displayControllerOnAdEndPromise||await this.initAdForPlaying(e),this.displayController.onAdMediaStart.addOne((e=>{let{viewer:i}=e;t=i})),"restricted"===this.displayController.autoplayAbilityResult.getValue().autoplayAbility?(this.displayController.setSkinControlHideReason("play",!0,"INPAGE_RETAINS_CONTROL"),this.displayController.onAdMediaStart.add((()=>{(this.displayController.getViewersWithVideoCountBeforeCurrent()>0||"restricted"!==this.displayController.autoplayAbilityResult.getValue().autoplayAbility)&&this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL")})),Uc("inPage: wait for media activation event to play ad"),this.displayController.setMuted(!1),this.stats.event({name:"InPageWaitingForUserGesture",data:{autoplayAbility:this.displayController.autoplayAbilityResult.getValue()}})):(Uc("inPage: start to play ad"),this.displayController.play().catch((e=>{this.stats.error({error:new Od(e,{code:"InPageOnReadyPlayError"})})})),this.stats.event({name:"InPageAutoplay",data:{autoplayAbility:this.displayController.autoplayAbilityResult.getValue()}})),await this.displayControllerOnAdEndPromise,this.displayControllerOnAdEndPromise=void 0,"auto"===this.replayMode)return;if(this.enableCustomPackshot){const e=i.packshotContainer;i.setPackshotContainerVisibility(!0),i.setSlotVisibility(!1),Uc("inPage: ad played. show packshot");const{disableObjectFit:n,disableOverlay:s,disableButton:l,disableTitle:d,isEnabled:c}=this.params.adConfig.packshotSettings||{};a?this.stats.event({name:"InPagePackshotBackgroundImage",data:void 0}):this.displayController.isLastAdPodRetainedMedia()?(n||(i.videoSlot.style.objectFit="cover"),this.stats.event({name:"InPagePackshotBackgroundLoopedVideo",data:void 0})):this.stats.event({name:"InPagePackshotBackgroundEmpty",data:{adParametersObject:r.adParametersObject},probability:1});const u=!0===l?void 0:this.getThemeEmptyParameters(o,r),{title:h,hasTitle:p}=He(r.adParametersObject),m=this.displayController.isLastAdPodRetainedMedia()?this.displayController.videoNodeController:void 0;if(!1!==c){const n=new nf({parent:e,parentSize:i.videoSlotContainerSize,packshotNewDesignMode:"OFF",videoNodeController:m,imageUrl:a,win:i.containerWindow,clickUrl:o,disableOverlay:s,disableTitle:d,descriptionText:r.description,duration:1/0,title:!1===p?void 0:h,themeEmptyParameters:u,lang:this.displayController.playbackParameters.lang,openClickThroughUrl:()=>{var e;null==(e=t)||e.clickThrough({url:o,clickSource:"InPagePackshot",playerHandles:!0})},timeToSkip:this.displayController.timeToSkip,controlsVisibility:this.displayController.combinedSkinControlsVisibility});n.show(),this.packshotPlayingState.add((e=>{n.setPlaying(e)})),this.addDestroyHandler((e=>{let{reason:t}=e;"unload"!==t?n.destroy({reason:"stopAd",details:void 0}):n.destroy({reason:"unload",details:void 0})}))}}else Uc("inPage: finish playing ad"),this.isSticky.getValue()&&await this.turnOffStickyMode({animated:!0}),this.destroy({reason:"adComplete",details:void 0})}catch(MO){this.destroy(MO)}},this.handleDocumentVisibilityChange=e=>{this.displayController.getPaused()||e?e&&this.pausedByDocumentVisibility&&(Uc("inPage: resume by document visibility"),this.displayController.resume(),this.pausedByDocumentVisibility=!1,this.stats.event({name:"InPageDocumentVisibilityResume",data:{}})):(Uc("inPage: pause since document is hidden"),this.displayController.pause(),this.pausedByDocumentVisibility=!0,this.stats.event({name:"InPageDocumentVisibilityPause",data:{}}))},this.handleVisibilityChange=e=>{this.documentVisibility.getValue()&&(this.packshotPlayingState.dispatch(e),e?this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!1})?(Uc("inPage: go into inline since container is visible"),this.changeStickyState({willBeSticky:!1})):!this.isSticky.getValue()&&this.pausedByContainerVisibility&&this.displayController.getPaused()&&(Uc("inPage: pause playback since container is visible"),this.pausedByContainerVisibility=!1,this.displayController.resume(),this.stats.event({name:"InPageElementVisibilityResume",data:{}})):this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!0})?(Uc("inPage: go into sticky since container is hidden"),this.changeStickyState({willBeSticky:!0})):this.isSticky.getValue()||this.pausedByContainerVisibility||this.displayController.getPaused()||(Uc("inPage: pause since container is hidden"),this.pausedByContainerVisibility=!0,this.displayController.pause(),this.stats.event({name:"InPageElementVisibilityPause",data:{}})))},this.onceWhenCanShowInpage=()=>{if("function"===typeof this.publicController.onSlotVisible)try{this.publicController.onSlotVisible()}catch(h_){console.error(h_)}},this.handleStickyInpageCrossClick=()=>{this.stickyInPageController&&(Uc("inPage: handle cross click"),this.stats.event({name:"InPageStickyCrossClick",data:{}}),this.turnOffStickyMode({animated:!0}),this.placeholderVisibility.getValue()||this.displayController.getPaused()||(this.pausedByContainerVisibility=!0,this.displayController.pause()))},this.makeStickAction=async e=>{try{this.displayController.disableResizeHandling(),await e(),this.displayController.enableResizeHandling()}catch(MO){this.stats.error({error:new Od(MO,{code:"InPageOnStickError"})})}},this.handlePauseByMethodCall=e=>{e&&this.isSticky.getValue()&&(Uc("inPage: set to inline mode because of pause"),this.changeStickyState({willBeSticky:!1}))},this.params=e,Uc("inPage: run constructor"),this.addDestroyHandler((e=>{Uc("inPage: destroy error=["+JSON.stringify(e)+"]")}));const{layout:n,adConfig:r,initialContainerRect:o,stats:a}=e;this.stats=a;const{containerElement:s,placeholderElement:l,placeholderSize:d,videoSlotContainerSize:c,wrapperElement:u}=n;this.replayMode="replayMode"in r?r.replayMode:null,this.isContainerSizeFixed=o.height>0,Uc("inPage: isContainerSizeFixed=["+this.isContainerSizeFixed+"] initialContainerRect=["+JSON.stringify(o)+"]"),this.isContainerSizeFixed?(Zo(l,{height:"100%"}),Zo(s,{height:"100%"})):(Uc("inPage: adjust to default ad size"),Zl({placeholderElement:l,placeholderWidth:d.getValue().width,adContentSize:qP})),this.placeholderVisibilitySlot=null!=(t=r.visibilitySlot)?t:l;const h=iT({pageId:tO(),win:window}),p=new pg(u),m=new dT(u,{numberOfMeasurementSteps:10}),A=new dT(this.placeholderVisibilitySlot,{numberOfMeasurementSteps:10,enableTrackVisibility:h}),v=Mr([this.isSticky,A.totalVisibilityRatioValueSignal,m.totalVisibilityRatioValueSignal],((e,t,i)=>e?i:t)),g=Mr([this.isSticky,d,p.onResize],((e,t,i)=>e?i:t));this.addDestroyHandler((()=>{p.destroy(),m.destroy(),A.destroy(void 0),v.teardown(),g.teardown()}));const _=null!=(i=r.visibilitySlot)?i:this.placeholderVisibilitySlot;let y;if(r.visibilitySlot){const e=new pg(r.visibilitySlot);y=e.onResize,this.addDestroyHandler((()=>{e.destroy()}))}else y=g.valueSignal;const f={element:_,size:y,visibilityRatio:v.valueSignal};this.enableCustomPackshot="manual"===this.replayMode&&!r.enableInfinityPackshot;let S={};if(this.enableCustomPackshot)S={isEnabled:!1};else if(r.enableInfinityPackshot){var T;S=null!=(T=r.packshotSettings)?T:{}}const E=Ql({},r,{backgroundBlur:!1,packshotSettings:S}),b=new aT({config:E,videoNode:n.videoSlot,layoutSlot:n.layoutSlot,backgroundSlot:n.backgroundContainer,visibilitySlotParameters:f,skinParameters:{renderSkinFunction:AP,skinVariant:"videoInCombo"},retainLastMediaAfterPlayback:this.enableCustomPackshot,stats:a});this.displayController=b,this.subscribeDisplayControllerEvents(b);const C=new nO(this.placeholderVisibilitySlot,this.params.layout.containerElement);this.addDestroyHandler((()=>C.destroy()));const w=Mr([C.getVisualVisibilitySensor(),A.totalVisibilityRatioValueSignal],((e,t)=>e&&t>=wg));this.addDestroyHandler((()=>{w.teardown()})),this.placeholderVisibility=w.valueSignal;const P=new sp(fr(n.videoSlot),oa);if(this.addDestroyHandler($a(n.videoSlot,(e=>P.dispatch(e)))),this.addDestroyHandler((()=>{P.removeAll()})),!this.isContainerSizeFixed){const e=e=>{Zl({placeholderElement:l,placeholderWidth:d.getValue().width,adContentSize:e})};e(b.adContentSize.getValue()),this.addDestroyHandler(b.adContentSize.add(e))}this.displayController.abuseDisplayStatus.add((e=>{if("hidden"===e){this.displayController.pauseByOpenAbuseScreen.getValue()&&this.placeholderVisibility.getValue()&&this.displayController.resume()}})),this.documentVisibility.add(this.handleDocumentVisibilityChange),this.documentVisibility.dispatch(ve(n.containerDocument)),this.addDestroyHandler(ca(n.containerDocument,(e=>this.documentVisibility.dispatch(e)))),this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL"),this.pauseByPublicMethodSignal.add(this.handlePauseByMethodCall),this.addDestroyHandler((()=>{this.pauseByPublicMethodSignal.removeAll(),this.isSticky.removeAll(),this.packshotPlayingState.removeAll()})),this.publicController=new oO({pauseByPublicMethodSignal:this.pauseByPublicMethodSignal,displayController:this.displayController,stats:a});let{backgroundSlot:O}=r;O||(O=n.backgroundContainer);const I=new vS({container:O,videoNode:n.videoSlot});a.event({name:"InitBackgroundBlurInPage",data:{}}),r.backgroundSlot?I.setPlaying(!0):this.addDestroyHandler(hr([P,c],((e,t)=>{if(void 0===e)return!1;const i=t.width/t.height,n=e.width/e.height-i;return Math.abs(n)>.1}),(e=>{I.setPlaying(e)}))),this.addDestroyHandler((()=>{I.destroy()})),n.makeVisible(),Uc("inPage: call constructor callback"),this.processInPage(C).catch((e=>this.destroy({reason:"error",details:e})))}async processInPage(e){const{adConfig:t,layout:i}=this.params,n=e.whenCanShow();Uc("inPage: create adLoader");const r=Fl({rawAdConfig:Ql({},t,{adBreakType:"inpage"}),adPlacementOptions:this.displayController.getAdPlacementOptions(),stats:this.stats});if(!r)throw new Od({code:"FAILED_TO_CREATE_INPAGE_AD_LOADER",details:void 0});this.addDestroyHandler((()=>{r.destroy()}));const o=r.getInPageBlock();if(!o)throw new Od({code:"NO_INPAGE_AD_BREAK_IN_VMAP",details:{config:t}});(e=>{let{win:t,inPageConfig:i,adBreak:n}=e;return!Eg(t)&&("boolean"===typeof i.stick?i.stick:n.stick)})({win:window,inPageConfig:t,adBreak:o})&&(Uc("inPage: initialize sticky"),this.stickyConfig=Ql({stickTo:o.stickTo,stickyColorScheme:o.stickyColorScheme},ul(hl(t))),this.stickyInPageController=new TO({layout:i,stickyConfig:this.stickyConfig,adContentSize:this.displayController.adContentSize,onActionClick:()=>this.displayController.clickThrough({clickSource:"StickyInPageActionButton",playerHandles:!0,url:void 0}),onCrossClick:this.handleStickyInpageCrossClick}),this.addDestroyHandler((()=>{this.turnOffStickyMode({animated:!1})}))),Uc("inPage: wait for loadAd");const a=await this.loadAd(r,o);sh&&(Uc("inPage: wait for warming up"),await Promise.race([e.waitForWarmingUpPosition(),n])),Uc("inPage: warm up ad"),await this.warmAdUp(a),Uc("inPage: wait till visible"),await n;iT({pageId:tO(),win:window})&&!this.placeholderVisibility.getValue()&&(Uc("inPage: wait for placeholder visibility"),await this.placeholderVisibility.promise()),Uc("inPage: visibility reached"),this.onceWhenCanShowInpage();let s=this.showAds(a);"auto"===this.replayMode&&this.displayController.onAdEnd.add((async()=>{if(!this.displayController.areAllAdPodsCompleted())return Uc("inPage: not all AdPods has been completed, stop auto replay"),void this.destroy({reason:"stopAd",details:void 0});Uc("inPage: all AdPods has been completed"),await s,this.isDestroyed||(Uc("inPage: play ad again"),this.stats.event({name:"InPageReplayAdAutomatically",data:{}}),s=this.showAds(a))}))}subscribeDisplayControllerEvents(e){e.addDestroyHandler((e=>this.destroy(e))),e.onAdPodStart.addOne((async()=>{this.placeholderVisibility.add(function(e,t,i,n){function r(){null!==o&&clearTimeout(o),o=null}3===arguments.length&&"boolean"!==typeof i&&(n=i,i=!1);let o=null;const a=function(){const a=arguments;n=n||this,i&&null===o&&e.apply(n,a),r(),o=window.setTimeout((function(){i||e.apply(n,a),o=null}),t)};return a.cancel=r,a}((e=>{Uc("handle visual state change ["+e+"]"),this.handleVisibilityChange(e)}),400));const e=this.placeholderVisibility.getValue();Uc("handle AdPodStart with visualVisibilityValue=["+e+"] visibility=["+this.displayController.visibilitySlotParameters.visibilityRatio.getValue()+"]"),this.handleVisibilityChange(e)})),e.onAdStop.add((()=>{this.displayController.destroy({reason:"stopAd",details:void 0})})),e.onAdMediaStart.add((e=>{var t;let{viewer:i}=e;null==(t=this.stickyInPageController)||t.setDescription(i.mediaAd.vastAd.description)}))}async loadAd(e,t){const i=await e.load(t);return i.length>1&&this.stats.event({name:"InPageHasMultipleMediaAds",data:{mediaAdsCount:i.length}}),i}async initAdForPlaying(e){this.displayControllerOnAdEndPromise=this.displayController.onAdEnd.promise().then(A),await this.displayController.prepareToPlayAd(e)}async warmAdUp(e){const{layout:t}=this.params;this.stats.event({name:"InPageWarmUpStart",data:{relativeCoordinates:ms(t.videoSlot),verticalScroll:S((()=>t.videoSlot.ownerDocument.scrollingElement.scrollTop))}}),await this.initAdForPlaying(e)}turnOffStickyMode(e){let{animated:t=!0}=e;const i=()=>{this.stickyInPageController&&(this.stickyInPageController.destroy(),this.stickyInPageController=void 0,this.stickyConfig=void 0)},n=this.changeStickyState({willBeSticky:!1,animated:t});return ch(n)?n.then(i):i()}canChangeStickyState(e){let{willBeSticky:t}=e;return!!this.stickyInPageController&&(this.isSticky.getValue()!==t&&(t&&dO()?(Uc("InPage: cannot transition INTO sticky because of lock"),!1):t&&this.displayController.getPaused()?(Uc("InPage: cannot transition INTO sticky because of paused state"),!1):(Uc("InPage: can change sticky state: return willBeSticky="+t),!0)))}changeStickyState(e){let{willBeSticky:t,animated:i=!0}=e;const{stickyInPageController:n}=this;if(!n)return;const r=()=>{const e=this.stickyConfig.stickTo;this.stats.event({name:"InPageChangeStickyState",data:{willBeSticky:t,stickTo:e}});const r=!t;if(this.displayController.setSkinControlHideReason("timeline",r,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("abuse",r,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("adLabel",r,"INPAGE_STICKY_RETAINS_CONTROL"),Uc("inPage: change sticky state, willBeSticky=>"+t),t)return sO(),this.isSticky.dispatch(!0),this.displayController.setBlurDisplay(!1),i?n.goSticky():void 0;{const e=()=>{this.displayController.setBlurDisplay(!0)};lO(),this.isSticky.dispatch(!1);const t=i?n.unSticky():void 0;return t?t.then(e).catch($):e(),t}};return i?this.makeStickAction(r):r()}getThemeEmptyParameters(e,t){const i=this.displayController.themeEmptyParameters.getValue();if(void 0!==i)return i;return{ageRestriction:void 0,body:void 0,clickUrl:e,greenUrl:void 0,label:t.adParametersObject&&Xt(t.adParametersObject)||Ch("LEARN_MORE",this.params.adConfig.lang),title:void 0}}}const bO=function(e){void 0===e&&(e=window);try{const t=e.document;if(!Boolean(t.body.attachShadow))return!1;const i=t.createElement("div");return lr(function(e,t){try{if(T(e.attachShadow))return e.attachShadow(t);if(T(e.createShadowRoot))return e.createShadowRoot();if(T(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(h_){}return null}(i,{mode:"open"}))}catch(t){return!1}},{locals:CO}=mO();class wO extends yu{constructor(e){super(),this.containerElement=e,this.containerWindow=S((()=>e.ownerDocument.defaultView),(e=>{Cu.error({error:new Od(e,{code:"CANNOT_GET_INPAGE_LAYOUT_PLACEHOLDER_ELEMENT_WINDOW",details:void 0})})}))||window,this.containerDocument=this.containerWindow.document;const t=this.containerDocument.createElement("div");t.classList.add(CO.yaInPagePlaceholderElement),this.placeholderElement=t;const i=this.containerDocument.createElement("div");Zo(i,{width:"100%",height:"100%"}),this.stickyWrapperElement=i,this.placeholderElement.appendChild(this.stickyWrapperElement);const n=this.containerDocument.createElement("div");n.classList.add(CO.yaInPageWrapper),this.wrapperElement=n,this.stickyWrapperElement.appendChild(this.wrapperElement),this.backgroundContainer=document.createElement("div"),Zo(this.backgroundContainer,{position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px",margin:"0px",padding:"0px",overflow:"hidden"}),this.wrapperElement.appendChild(this.backgroundContainer),this.videoSlotContainer=this.containerDocument.createElement("div"),this.videoSlotContainer.classList.add(CO.InPageLayout__videoSlotContainer),this.wrapperElement.appendChild(this.videoSlotContainer),this.layoutSlot=this.containerDocument.createElement("div"),this.layoutSlot.classList.add(CO.InPageLayout__slot),this.wrapperElement.appendChild(this.layoutSlot),this.packshotContainer=this.containerDocument.createElement("div"),this.packshotContainer.classList.add(CO.InPageLayout__packshotContainer),this.wrapperElement.appendChild(this.packshotContainer),this.videoSlot=(e=>{const t=function(e){return e.createElement("video")}(e);var i;return t.setAttribute("x-webkit-airplay","allow"),t.autoplay=!1,t.volume=.5,t.muted=!0,t.preload="auto",t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.classList.add(CO.InPageLayout__videoSlot),(i=t).setAttribute("playsinline","playsinline"),i.setAttribute("webkit-playsinline","webkit-playsinline"),t})(this.containerDocument),this.videoSlotContainer.appendChild(this.videoSlot),this.containerElement.appendChild(this.placeholderElement);const r=Uo(this.containerElement,mO().toString());this.addDestroyHandler((()=>{m(r)}));const o=new pg(t);this.placeholderSize=o.onResize,this.addDestroyHandler((()=>o.destroy()));const a=new pg(this.videoSlotContainer);this.videoSlotContainerSize=a.onResize,this.addDestroyHandler((()=>a.destroy()))}makeVisible(){Zo(this.placeholderElement,{visibility:"visible"})}setPackshotContainerVisibility(e){Zo(this.packshotContainer,{display:e?"block":"none"})}setSlotVisibility(e){Zo(this.layoutSlot,{display:e?"block":"none"})}}const PO=c(window.WeakSet)?new window.WeakSet:[],OO={place(e){const t=e;return Dd(PO)?PO.push(t):PO.add(t)},free(e){const t=e;return Dd(PO)?PO.splice(PO.indexOf(t),1):PO.delete(t)},isFree(e){const t=e;return Dd(PO)?-1===PO.indexOf(t):!PO.has(t)}},IO=(e,t)=>{const i=new _u(bu);Uc("inPage: normalizeInPageConfig");const n=(e=>{if(!d(e))throw new Od({code:"NO_AD_CONFIG_IN_INPAGE",details:void 0});const t=Da(xt(e),{controlsVisibility:{skip:!1}});let i,n=e.vastUrl;if(e.vastUrl&&Te(e.vastUrl)&&(n=L(e.vastUrl,{tags:"inpage"})),fd(e.visibilitySlot))i=e.visibilitySlot,Cu.event({name:"UsingVisibilitySlot",data:{config:e}});else if(void 0!==e.visibilitySlot)throw new Od({code:"VISIBILITY_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}});const r="EXP"===Eu.getFlagValueAndActivateTestId("VAS_INPAGE_STICKY_DISABLED");return $l({},e,{visibilitySlot:i,controlsSettings:t,vastUrl:n,backgroundBlur:!0,stick:!r&&e.stick,stickTo:r?void 0:e.stickTo,videoTimeout:Zf,vpaidTimeout:Qf})})(t);Uc("inPage: get container element");const r="string"===typeof e?window.document.getElementById(e):e;if(!r)throw new Od({code:"CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",details:{containerElementOrId:String(e)}});if(!OO.isFree(r))throw new Od({code:"INPAGE_CONTAINER_USED_TWICE",details:{containerElementOrId:String(e)}});OO.place(r);const o=r.getBoundingClientRect();if(0===o.width)throw new Od({code:"INPAGE_CONTAINER_ZERO_WIDTH",details:{containerElementOrId:String(e),containerRect:o}});const a=r.ownerDocument.defaultView,s=ra(r);let l;bO(a)&&!s&&i.error({error:new Od({code:"INPAGE_CONTAINER_ELEMENT_NOT_SUPPORTS_SHADOW",details:{containerElementOrId:String(e),containerHTML:S((()=>r.outerHTML))}})}),Uc("inPage: create InPageLayout"),s?l=s:(l=document.createElement("div"),r.appendChild(l));const c=new wO(l);return c.addDestroyHandler((()=>{OO.free(r)})),{layout:c,adConfig:n,initialContainerRect:o,containerElementByParams:r,stats:i}},kO=(xc.hardcodedParams.adsdkgrforced?100:1)/100;var DO;const NO="https://"+Rc+"/captchapgrd",RO=null!=(DO=Eu.getNumberFlagValueAndActivateTestId("VAS_GR_YASTATIC_VERSION"))?DO:66,VO="https://"+Vc+"/pcode-static/resources/"+RO+"/gr/gr.js",LO=(e=>"requestIdleCallback"in e?{requestIdleCallback:e.requestIdleCallback.bind(e),cancelIdleCallback:e.cancelIdleCallback.bind(e)}:(e=>({requestIdleCallback:function(t,i){void 0===i&&(i={});const n=i.timeout||1,r=e.performance,o=r.now();return e.setTimeout((function(){t({get didTimeout(){return!i.timeout&&r.now()-o-1>n},timeRemaining:function(){return Math.max(0,r.now()-o+1)}})}),1)},cancelIdleCallback:function(t){e.clearTimeout(t)}}))(e))(window),{requestIdleCallback:BO,cancelIdleCallback:xO}=LO;!function(e,t){const i=window;if(cA(i))return void Cu.event({name:"InitModuleBrokeInIE",data:void 0,probability:1});if(Cu.values({name:"ModuleInited",dailySensors:{moduleName:e,es2017:!0}}),Xa(i,{videoAd:{loadedModules:{[e]:t}}},"ya"),!0===(()=>{if(Eu.isFlagActive("VAS_LOAD_GR_ON_SMALL_PERCENT"))return!1;if(!Cu.shouldLogEventWithProbability(nu))return!1;if(!Cu.shouldLogEventWithProbability(kO))return!1;return"TRUE"===Eu.getFlagValueAndActivateTestId("VAS_LOAD_GR_ON_SMALL_PERCENT")||void 0})()){BO((()=>{(e=>{const t=wv.createHidden({parentElement:e,scope:"GREEDJS_IFRAME"});if(!t)return void Cu.event({name:"GrCannotCreateIframe",data:void 0,probability:1});0;const i=()=>{t.destroy(void 0)},n=t.iframe.contentWindow;(async e=>{var t;const i=Date.now(),n=uu(e),r="TRUE"===Eu.getFlagValueAndActivateTestId("VAS_GR_USES_YASTATIC_SRC")?VO:NO,o=n?n(r):r;try{await un({src:o,win:e}).promise}catch(MO){return void Cu.event({name:"GrCannotLoadScript",data:{error:MO},probability:1})}const a=Date.now(),s=a-i,l=e,d=null!=(t=l.PGreed)?t:l.Greed;if(!d)return void Cu.event({name:"GrNoVariable",data:void 0,probability:1});try{const e=await d.safeGet(2e3),t=Date.now()-a;Cu.event({name:"GrData",data:{data:e,spentOnGet:t,spentOnScriptLoad:s},probability:1})}catch(MO){Cu.event({name:"GrGetError",data:{error:MO},probability:1})}})(n).then(i).catch(i)})(window.document.body)}))}}("InPage",{addInPageVideo:(e,t,i)=>{Uc("inPage: add inpage video");const n="function"===typeof i?Se(i,"INPAGE_CALLBACK_ERROR"):A;let r;try{r=IO(e,t)}catch(MO){return Uc("inPage: prepareInPageParameters error=["+MO+"]"),Ve(MO),void n(MO)}const{stats:o}=r;o.event({name:"AddInPageVideo",data:{adConfig:t,containerElementOrId:String(e),containerRect:r.initialContainerRect}});try{const e=new EO(r);Uc("inPage: call public callback"),n(e.publicController),e.addDestroyHandler((e=>{m(r.containerElementByParams),r.layout.destroy(),"error"===e.reason&&e.details&&(Ve(e.details),n(e.details))})),e.addDestroyHandler(Q((()=>{e.destroy({reason:"unload",details:void 0})}),null!=pd?pd:window))}catch(MO){Uc("inPage: create InPage error=["+MO+"]"),o.error({error:new Od(MO,{code:"CREATE_INTERNAL_INPAGE_INSTANCE_ERROR",details:void 0})}),n(MO)}},activateTestIds:function(){Eu.activateTestIds(...arguments)},subscribeOnTestIdActivated:e=>h(e)?Eu.onTestIdActivated.add(e):A})}()}();